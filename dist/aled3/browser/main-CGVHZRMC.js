var $B=Object.defineProperty,HB=Object.defineProperties;var zB=Object.getOwnPropertyDescriptors;var Ux=Object.getOwnPropertySymbols,qB=Object.getPrototypeOf,WB=Object.prototype.hasOwnProperty,GB=Object.prototype.propertyIsEnumerable,KB=Reflect.get;var Bx=(n,e,t)=>e in n?$B(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,z=(n,e)=>{for(var t in e||={})WB.call(e,t)&&Bx(n,t,e[t]);if(Ux)for(var t of Ux(e))GB.call(e,t)&&Bx(n,t,e[t]);return n},ie=(n,e)=>HB(n,zB(e));var To=(n,e,t)=>KB(qB(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function z_(n,e){return Object.is(n,e)}var Ft=null,Ef=!1,q_=1,Zn=Symbol("SIGNAL");function Te(n){let e=Ft;return Ft=n,e}function W_(){return Ft}var Du={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tu(n){if(Ef)throw new Error("");if(Ft===null)return;Ft.consumerOnSignalRead(n);let e=Ft.nextProducerIndex++;if(Tf(Ft),e<Ft.producerNode.length&&Ft.producerNode[e]!==n&&Cu(Ft)){let t=Ft.producerNode[e];Df(t,Ft.producerIndexOfThis[e])}Ft.producerNode[e]!==n&&(Ft.producerNode[e]=n,Ft.producerIndexOfThis[e]=Cu(Ft)?Hx(n,Ft,e):0),Ft.producerLastReadVersion[e]=n.version}function $x(){q_++}function G_(n){if(!(Cu(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===q_)){if(!n.producerMustRecompute(n)&&!X_(n)){H_(n);return}n.producerRecomputeValue(n),H_(n)}}function K_(n){if(n.liveConsumerNode===void 0)return;let e=Ef;Ef=!0;try{for(let t of n.liveConsumerNode)t.dirty||YB(t)}finally{Ef=e}}function Y_(){return Ft?.consumerAllowSignalWrites!==!1}function YB(n){n.dirty=!0,K_(n),n.consumerMarkedDirty?.(n)}function H_(n){n.dirty=!1,n.lastCleanEpoch=q_}function Cf(n){return n&&(n.nextProducerIndex=0),Te(n)}function Q_(n,e){if(Te(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Cu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Df(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function X_(n){Tf(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(G_(t),r!==t.version))return!0}return!1}function Z_(n){if(Tf(n),Cu(n))for(let e=0;e<n.producerNode.length;e++)Df(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Hx(n,e,t){if(zx(n),n.liveConsumerNode.length===0&&qx(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Hx(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Df(n,e){if(zx(n),n.liveConsumerNode.length===1&&qx(n))for(let r=0;r<n.producerNode.length;r++)Df(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Tf(i),i.producerIndexOfThis[r]=e}}function Cu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Tf(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function qx(n){return n.producerNode!==void 0}function J_(n,e){let t=Object.create(QB);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(G_(t),Tu(t),t.value===If)throw t.error;return t.value};return r[Zn]=t,r}var B_=Symbol("UNSET"),$_=Symbol("COMPUTING"),If=Symbol("ERRORED"),QB=ie(z({},Du),{value:B_,dirty:!0,error:null,equal:z_,kind:"computed",producerMustRecompute(n){return n.value===B_||n.value===$_},producerRecomputeValue(n){if(n.value===$_)throw new Error("Detected cycle in computations.");let e=n.value;n.value=$_;let t=Cf(n),r,i=!1;try{r=n.computation(),Te(null),i=e!==B_&&e!==If&&r!==If&&n.equal(e,r)}catch(o){r=If,n.error=o}finally{Q_(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function XB(){throw new Error}var Wx=XB;function Gx(n){Wx(n)}function eb(n){Wx=n}var ZB=null;function tb(n,e){let t=Object.create(Sf);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Tu(t),t.value);return r[Zn]=t,r}function Su(n,e){Y_()||Gx(n),n.equal(n.value,e)||(n.value=e,JB(n))}function nb(n,e){Y_()||Gx(n),Su(n,e(n.value))}var Sf=ie(z({},Du),{equal:z_,value:void 0,kind:"signal"});function JB(n){n.version++,$x(),K_(n),ZB?.()}function rb(n){let e=Te(null);try{return n()}finally{Te(e)}}var ib;function xu(){return ib}function Ni(n){let e=ib;return ib=n,e}var xf=Symbol("NotFound");function fe(n){return typeof n=="function"}function nc(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Af=nc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ns(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(fe(r))try{r()}catch(o){e=o instanceof Af?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Kx(o)}catch(s){e=e??[],s instanceof Af?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Af(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Kx(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ns(t,e)}remove(e){let{_finalizers:t}=this;t&&Ns(t,e),e instanceof n&&e._removeParent(this)}};yt.EMPTY=(()=>{let n=new yt;return n.closed=!0,n})();var ob=yt.EMPTY;function Mf(n){return n instanceof yt||n&&"closed"in n&&fe(n.remove)&&fe(n.add)&&fe(n.unsubscribe)}function Kx(n){fe(n)?n():n.unsubscribe()}var Er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var rc={setTimeout(n,e,...t){let{delegate:r}=rc;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=rc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rf(n){rc.setTimeout(()=>{let{onUnhandledError:e}=Er;if(e)e(n);else throw n})}function Au(){}var Yx=sb("C",void 0,void 0);function Qx(n){return sb("E",void 0,n)}function Xx(n){return sb("N",n,void 0)}function sb(n,e,t){return{kind:n,value:e,error:t}}var ks=null;function ic(n){if(Er.useDeprecatedSynchronousErrorHandling){let e=!ks;if(e&&(ks={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ks;if(ks=null,t)throw r}}else n()}function Zx(n){Er.useDeprecatedSynchronousErrorHandling&&ks&&(ks.errorThrown=!0,ks.error=n)}var Os=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mf(e)&&e.add(this)):this.destination=o$}static create(e,t,r){return new Ir(e,t,r)}next(e){this.isStopped?cb(Xx(e),this):this._next(e)}error(e){this.isStopped?cb(Qx(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cb(Yx,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},r$=Function.prototype.bind;function ab(n,e){return r$.call(n,e)}var lb=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pf(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pf(r)}else Pf(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pf(t)}}},Ir=class extends Os{constructor(e,t,r){super();let i;if(fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Er.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ab(e.next,o),error:e.error&&ab(e.error,o),complete:e.complete&&ab(e.complete,o)}):i=e}this.destination=new lb(i)}};function Pf(n){Er.useDeprecatedSynchronousErrorHandling?Zx(n):Rf(n)}function i$(n){throw n}function cb(n,e){let{onStoppedNotification:t}=Er;t&&rc.setTimeout(()=>t(n,e))}var o$={closed:!0,next:Au,error:i$,complete:Au};var oc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(n){return n}function Nf(...n){return ub(n)}function ub(n){return n.length===0?mn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ge=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=a$(t)?t:new Ir(t,r,i);return ic(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Jx(r),new r((i,o)=>{let s=new Ir({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[oc](){return this}pipe(...t){return ub(t)(this)}toPromise(t){return t=Jx(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Jx(n){var e;return(e=n??Er.Promise)!==null&&e!==void 0?e:Promise}function s$(n){return n&&fe(n.next)&&fe(n.error)&&fe(n.complete)}function a$(n){return n&&n instanceof Os||s$(n)&&Mf(n)}function db(n){return fe(n?.lift)}function we(n){return e=>{if(db(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new hb(n,e,t,r,i)}var hb=class extends Os{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sc(){return we((n,e)=>{let t=null;n._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ac=class extends ge{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,db(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;let t=this.getSubject();e.add(this.source.subscribe(Ee(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return sc()(this)}};var eA=nc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends ge{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new kf(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new eA}next(t){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ic(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ob:(this.currentObservers=null,o.push(t),new yt(()=>{this.currentObservers=null,Ns(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ge;return t.source=this,t}}return n.create=(e,t)=>new kf(e,t),n})(),kf=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ob}};var Lt=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Mu={now(){return(Mu.delegate||Date).now()},delegate:void 0};var Ru=class extends rt{constructor(e=1/0,t=1/0,r=Mu){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Of=class extends yt{constructor(e,t){super()}schedule(e,t=0){return this}};var Pu={setInterval(n,e,...t){let{delegate:r}=Pu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Pu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var cc=class extends Of{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Pu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Pu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ns(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var lc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};lc.now=Mu.now;var uc=class extends lc{constructor(e,t=lc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ff=new uc(cc),fb=Ff;var Lf=class extends cc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Vf=class extends uc{};var pb=new Vf(Lf);var In=new ge(n=>n.complete());function jf(n){return n&&fe(n.schedule)}function tA(n){return n[n.length-1]}function Uf(n){return fe(tA(n))?n.pop():void 0}function So(n){return jf(tA(n))?n.pop():void 0}function gb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function rA(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(h){s(h)}}function c(u){try{l(r.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function nA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fs(n){return this instanceof Fs?(this.v=n,this):new Fs(n)}function iA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(y){return Promise.resolve(y).then(p,h)}}function a(p,y){r[p]&&(i[p]=function(v){return new Promise(function(_,S){o.push([p,v,_,S])>1||c(p,v)})},y&&(i[p]=y(i[p])))}function c(p,y){try{l(r[p](y))}catch(v){f(o[0][3],v)}}function l(p){p.value instanceof Fs?Promise.resolve(p.value.v).then(u,h):f(o[0][2],p)}function u(p){c("next",p)}function h(p){c("throw",p)}function f(p,y){p(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function oA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof nA=="function"?nA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Bf=n=>n&&typeof n.length=="number"&&typeof n!="function";function $f(n){return fe(n?.then)}function Hf(n){return fe(n[oc])}function zf(n){return Symbol.asyncIterator&&fe(n?.[Symbol.asyncIterator])}function qf(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function c$(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wf=c$();function Gf(n){return fe(n?.[Wf])}function Kf(n){return iA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fs(t.read());if(i)return yield Fs(void 0);yield yield Fs(r)}}finally{t.releaseLock()}})}function Yf(n){return fe(n?.getReader)}function ht(n){if(n instanceof ge)return n;if(n!=null){if(Hf(n))return l$(n);if(Bf(n))return u$(n);if($f(n))return d$(n);if(zf(n))return sA(n);if(Gf(n))return h$(n);if(Yf(n))return f$(n)}throw qf(n)}function l$(n){return new ge(e=>{let t=n[oc]();if(fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function u$(n){return new ge(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function d$(n){return new ge(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Rf)})}function h$(n){return new ge(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function sA(n){return new ge(e=>{p$(n,e).catch(t=>e.error(t))})}function f$(n){return sA(Kf(n))}function p$(n,e){var t,r,i,o;return rA(this,void 0,void 0,function*(){try{for(t=oA(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Cn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function xo(n,e=0){return we((t,r)=>{t.subscribe(Ee(r,i=>Cn(r,n,()=>r.next(i),e),()=>Cn(r,n,()=>r.complete(),e),i=>Cn(r,n,()=>r.error(i),e)))})}function Ao(n,e=0){return we((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function aA(n,e){return ht(n).pipe(Ao(e),xo(e))}function cA(n,e){return ht(n).pipe(Ao(e),xo(e))}function lA(n,e){return new ge(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function uA(n,e){return new ge(t=>{let r;return Cn(t,e,()=>{r=n[Wf](),Cn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>fe(r?.return)&&r.return()})}function Qf(n,e){if(!n)throw new Error("Iterable cannot be null");return new ge(t=>{Cn(t,e,()=>{let r=n[Symbol.asyncIterator]();Cn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function dA(n,e){return Qf(Kf(n),e)}function hA(n,e){if(n!=null){if(Hf(n))return aA(n,e);if(Bf(n))return lA(n,e);if($f(n))return cA(n,e);if(zf(n))return Qf(n,e);if(Gf(n))return uA(n,e);if(Yf(n))return dA(n,e)}throw qf(n)}function qe(n,e){return e?hA(n,e):ht(n)}function te(...n){let e=So(n);return qe(n,e)}function dc(n,e){let t=fe(n)?n:()=>n,r=i=>i.error(t());return new ge(e?i=>e.schedule(r,0,i):r)}function mb(n){return!!n&&(n instanceof ge||fe(n.lift)&&fe(n.subscribe))}var Cr=nc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Nu(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new Ir({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Cr)}});n.subscribe(o)})}function fA(n){return n instanceof Date&&!isNaN(n)}function le(n,e){return we((t,r)=>{let i=0;t.subscribe(Ee(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:g$}=Array;function m$(n,e){return g$(e)?n(...e):n(e)}function Xf(n){return le(e=>m$(n,e))}var{isArray:y$}=Array,{getPrototypeOf:v$,prototype:_$,keys:b$}=Object;function Zf(n){if(n.length===1){let e=n[0];if(y$(e))return{args:e,keys:null};if(w$(e)){let t=b$(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function w$(n){return n&&typeof n=="object"&&v$(n)===_$}function Jf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ku(...n){let e=So(n),t=Uf(n),{args:r,keys:i}=Zf(n);if(r.length===0)return qe([],e);let o=new ge(E$(r,e,i?s=>Jf(i,s):mn));return t?o.pipe(Xf(t)):o}function E$(n,e,t=mn){return r=>{pA(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)pA(e,()=>{let l=qe(n[c],e),u=!1;l.subscribe(Ee(r,h=>{o[c]=h,u||(u=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function pA(n,e,t){n?Cn(t,n,e):e()}function gA(n,e,t,r,i,o,s,a){let c=[],l=0,u=0,h=!1,f=()=>{h&&!c.length&&!l&&e.complete()},p=v=>l<r?y(v):c.push(v),y=v=>{o&&e.next(v),l++;let _=!1;ht(t(v,u++)).subscribe(Ee(e,S=>{i?.(S),o?p(S):e.next(S)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let S=c.shift();s?Cn(e,s,()=>y(S)):y(S)}f()}catch(S){e.error(S)}}))};return n.subscribe(Ee(e,p,()=>{h=!0,f()})),()=>{a?.()}}function Et(n,e,t=1/0){return fe(e)?Et((r,i)=>le((o,s)=>e(r,o,i,s))(ht(n(r,i))),t):(typeof e=="number"&&(t=e),we((r,i)=>gA(r,i,n,t)))}function hc(n=1/0){return Et(mn,n)}function mA(){return hc(1)}function fc(...n){return mA()(qe(n,So(n)))}function ep(n){return new ge(e=>{ht(n()).subscribe(e)})}function yb(...n){let e=Uf(n),{args:t,keys:r}=Zf(n),i=new ge(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;ht(t[u]).subscribe(Ee(o,f=>{h||(h=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?Jf(r,a):a),o.complete())}))}});return e?i.pipe(Xf(e)):i}function vb(n=0,e,t=fb){let r=-1;return e!=null&&(jf(e)?t=e:r=e),new ge(i=>{let o=fA(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function on(n,e){return we((t,r)=>{let i=0;t.subscribe(Ee(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Dr(n){return we((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ee(t,void 0,void 0,s=>{o=ht(n(s,Dr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function yA(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Ee(s,u=>{let h=l++;c=a?n(c,u,h):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Wr(n,e){return fe(e)?Et(n,e,1):Et(n,1)}function Mo(n){return we((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ki(n){return n<=0?()=>In:we((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function tp(n,e=mn){return n=n??I$,we((t,r)=>{let i,o=!0;t.subscribe(Ee(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function I$(n,e){return n===e}function np(n=C$){return we((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function C$(){return new Cr}function Ls(n){return we((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Oi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,o)=>n(i,o,r)):mn,ki(1),t?Mo(e):np(()=>new Cr))}function pc(n){return n<=0?()=>In:we((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _b(n,e){let t=arguments.length>=2;return r=>r.pipe(n?on((i,o)=>n(i,o,r)):mn,pc(1),t?Mo(e):np(()=>new Cr))}function rp(n,e){return we(yA(n,e,arguments.length>=2,!0))}function vA(n={}){let{connector:e=()=>new rt,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,u=!1,h=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=c=void 0,u=h=!1},y=()=>{let v=s;p(),v?.unsubscribe()};return we((v,_)=>{l++,!h&&!u&&f();let S=c=c??e();_.add(()=>{l--,l===0&&!h&&!u&&(a=bb(y,i))}),S.subscribe(_),!s&&l>0&&(s=new Ir({next:R=>S.next(R),error:R=>{h=!0,f(),a=bb(p,t,R),S.error(R)},complete:()=>{u=!0,f(),a=bb(p,r),S.complete()}}),ht(v).subscribe(s))})(o)}}function bb(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Ir({next:()=>{r.unsubscribe(),n()}});return ht(e(...t)).subscribe(r)}function wb(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,vA({connector:()=>new Ru(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ip(...n){let e=So(n);return we((t,r)=>{(e?fc(n,t,e):fc(n,t)).subscribe(r)})}function sn(n,e){return we((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ee(r,c=>{i?.unsubscribe();let l=0,u=o++;ht(n(c,u)).subscribe(i=Ee(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Eb(n){return we((e,t)=>{ht(n).subscribe(Ee(t,()=>t.complete(),Au)),!t.closed&&e.subscribe(t)})}function Qt(n,e,t){let r=fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mn}var aM="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",X=class extends Error{code;constructor(e,t){super(cM(e,t)),this.code=e}};function D$(n){return`NG0${Math.abs(n)}`}function cM(n,e){return`${D$(n)}${e?": "+e:""}`}var lM=Symbol("InputSignalNode#UNSET"),T$=ie(z({},Sf),{transformFn:void 0,applyValueToInputSignal(n,e){Su(n,e)}});function uM(n,e){let t=Object.create(T$);t.value=n,t.transformFn=e?.transform;function r(){if(Tu(t),t.value===lM){let i=null;throw new X(-950,i)}return t.value}return r[Zn]=t,r}function qu(n){return{toString:n}.toString()}var op="__parameters__";function S$(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function dM(n,e,t){return qu(()=>{let r=S$(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(op)?c[op]:Object.defineProperty(c,op,{value:[]})[op];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var js=globalThis;function We(n){for(let e in n)if(n[e]===We)return e;throw Error("Could not find renamed property on target object.")}function x$(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Tn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function _A(n,e){return n?e?`${n} ${e}`:n:e||""}var A$=We({__forward_ref__:We});function tr(n){return n.__forward_ref__=tr,n.toString=function(){return Tn(this())},n}function yn(n){return hM(n)?n():n}function hM(n){return typeof n=="function"&&n.hasOwnProperty(A$)&&n.__forward_ref__===tr}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vp(n){return bA(n,pM)||bA(n,gM)}function fM(n){return Vp(n)!==null}function bA(n,e){return n.hasOwnProperty(e)?n[e]:null}function M$(n){let e=n&&(n[pM]||n[gM]);return e||null}function wA(n){return n&&(n.hasOwnProperty(EA)||n.hasOwnProperty(R$))?n[EA]:null}var pM=We({\u0275prov:We}),EA=We({\u0275inj:We}),gM=We({ngInjectableDef:We}),R$=We({ngInjectorDef:We}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function mM(n){return n&&!!n.\u0275providers}var P$=We({\u0275cmp:We}),N$=We({\u0275dir:We}),k$=We({\u0275pipe:We}),O$=We({\u0275mod:We}),pp=We({\u0275fac:We}),Vu=We({__NG_ELEMENT_ID__:We}),IA=We({__NG_ENV_ID__:We});function wc(n){return typeof n=="string"?n:n==null?"":String(n)}function F$(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():wc(n)}function yM(n,e){throw new X(-200,n)}function P0(n,e){throw new X(-201,!1)}var ye=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ye||{}),Lb;function vM(){return Lb}function Dn(n){let e=Lb;return Lb=n,e}function _M(n,e,t){let r=Vp(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ye.Optional)return null;if(e!==void 0)return e;P0(n,"Injector")}var L$={},Us=L$,Vb="__NG_DI_FLAG__",gp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?xf:Us,r)}},mp="ngTempTokenPath",V$="ngTokenPath",j$=/\n/gm,U$="\u0275",CA="__source";function B$(n,e=ye.Default){if(xu()===void 0)throw new X(-203,!1);if(xu()===null)return _M(n,void 0,e);{let t=xu(),r;return t instanceof gp?r=t.injector:r=t,r.get(n,e&ye.Optional?null:void 0,e)}}function J(n,e=ye.Default){return(vM()||B$)(yn(n),e)}function U(n,e=ye.Default){return J(n,jp(e))}function jp(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function jb(n){let e=[];for(let t=0;t<n.length;t++){let r=yn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let i,o=ye.Default;for(let s=0;s<r.length;s++){let a=r[s],c=$$(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function bM(n,e){return n[Vb]=e,n.prototype[Vb]=e,n}function $$(n){return n[Vb]}function H$(n,e,t,r){let i=n[mp];throw e[CA]&&i.unshift(e[CA]),n.message=z$(`
`+n.message,i,t,r),n[V$]=i,n[mp]=null,n}function z$(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==U$?n.slice(2):n;let i=Tn(e);if(Array.isArray(e))i=e.map(Tn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Tn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(j$,`
  `)}`}var Hn=bM(dM("Optional"),8);var q$=bM(dM("SkipSelf"),4);function $s(n,e){let t=n.hasOwnProperty(pp);return t?n[pp]:null}function W$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function G$(n){return n.flat(Number.POSITIVE_INFINITY)}function N0(n,e){n.forEach(t=>Array.isArray(t)?N0(t,e):e(t))}function wM(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function yp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function K$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Y$(n,e,t){let r=Wu(n,e);return r>=0?n[r|1]=t:(r=~r,K$(n,r,e,t)),r}function Ib(n,e){let t=Wu(n,e);if(t>=0)return n[t|1]}function Wu(n,e){return Q$(n,e,1)}function Q$(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Hs={},Jn=[],ju=new G(""),EM=new G("",-1),IM=new G(""),vp=class{get(e,t=Us){if(t===Us){let r=new Error(`NullInjectorError: No provider for ${Tn(e)}!`);throw r.name="NullInjectorError",r}return t}};function CM(n,e){let t=n[O$]||null;if(!t&&e===!0)throw new Error(`Type ${Tn(n)} does not have '\u0275mod' property.`);return t}function zs(n){return n[P$]||null}function X$(n){return n[N$]||null}function Z$(n){return n[k$]||null}function nr(n){return{\u0275providers:n}}function J$(...n){return{\u0275providers:DM(!0,n),\u0275fromNgModule:!0}}function DM(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return N0(e,s=>{let a=s;Ub(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&TM(i,o),t}function TM(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];k0(i,o=>{e(o,r)})}}function Ub(n,e,t,r){if(n=yn(n),!n)return!1;let i=null,o=wA(n),s=!o&&zs(n);if(!o&&!s){let c=n.ngModule;if(o=wA(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ub(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{N0(o.imports,u=>{Ub(u,e,t,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&TM(l,e)}if(!a){let l=$s(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jn},i),e({provide:IM,useValue:i,multi:!0},i),e({provide:ju,useValue:()=>J(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;k0(c,u=>{e(u,l)})}}else return!1;return i!==n&&n.providers!==void 0}function k0(n,e){for(let t of n)mM(t)&&(t=t.\u0275providers),Array.isArray(t)?k0(t,e):e(t)}var e3=We({provide:String,useValue:We});function SM(n){return n!==null&&typeof n=="object"&&e3 in n}function t3(n){return!!(n&&n.useExisting)}function n3(n){return!!(n&&n.useFactory)}function Ec(n){return typeof n=="function"}function r3(n){return!!n.useClass}var Up=new G(""),cp={},DA={},Cb;function O0(){return Cb===void 0&&(Cb=new vp),Cb}var vt=class{},Uu=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,$b(e,s=>this.processProvider(s)),this.records.set(EM,gc(void 0,this)),i.has("environment")&&this.records.set(vt,gc(void 0,this));let o=this.records.get(Up);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(IM,Jn,ye.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?xf:Us,r)}destroy(){Fu(this),this._destroyed=!0;let e=Te(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Te(e)}}onDestroy(e){return Fu(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fu(this);let t=Ni(this),r=Dn(void 0),i;try{return e()}finally{Ni(t),Dn(r)}}get(e,t=Us,r=ye.Default){if(Fu(this),e.hasOwnProperty(IA))return e[IA](this);r=jp(r);let i,o=Ni(this),s=Dn(void 0);try{if(!(r&ye.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=c3(e)&&Vp(e);l&&this.injectableDefInScope(l)?c=gc(Bb(e),cp):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&ye.Self?O0():this.parent;return t=r&ye.Optional&&t===Us?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[mp]=a[mp]||[]).unshift(Tn(e)),o)throw a;return H$(a,e,"R3InjectorError",this.source)}else throw a}finally{Dn(s),Ni(o)}}resolveInjectorInitializers(){let e=Te(null),t=Ni(this),r=Dn(void 0),i;try{let o=this.get(ju,Jn,ye.Self);for(let s of o)s()}finally{Ni(t),Dn(r),Te(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Tn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yn(e);let t=Ec(e)?e:yn(e&&e.provide),r=o3(e);if(!Ec(e)&&e.multi===!0){let i=this.records.get(t);i||(i=gc(void 0,cp,!0),i.factory=()=>jb(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Te(null);try{return t.value===DA?yM(Tn(e)):t.value===cp&&(t.value=DA,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&a3(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Te(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=yn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bb(n){let e=Vp(n),t=e!==null?e.factory:$s(n);if(t!==null)return t;if(n instanceof G)throw new X(204,!1);if(n instanceof Function)return i3(n);throw new X(204,!1)}function i3(n){if(n.length>0)throw new X(204,!1);let t=M$(n);return t!==null?()=>t.factory(n):()=>new n}function o3(n){if(SM(n))return gc(void 0,n.useValue);{let e=xM(n);return gc(e,cp)}}function xM(n,e,t){let r;if(Ec(n)){let i=yn(n);return $s(i)||Bb(i)}else if(SM(n))r=()=>yn(n.useValue);else if(n3(n))r=()=>n.useFactory(...jb(n.deps||[]));else if(t3(n))r=(i,o)=>J(yn(n.useExisting),o!==void 0&&o&ye.Optional?ye.Optional:void 0);else{let i=yn(n&&(n.useClass||n.provide));if(s3(n))r=()=>new i(...jb(n.deps));else return $s(i)||Bb(i)}return r}function Fu(n){if(n.destroyed)throw new X(205,!1)}function gc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function s3(n){return!!n.deps}function a3(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function c3(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function $b(n,e){for(let t of n)Array.isArray(t)?$b(t,e):t&&mM(t)?$b(t.\u0275providers,e):e(t)}function it(n,e){let t;n instanceof Uu?(Fu(n),t=n):t=new gp(n);let r,i=Ni(t),o=Dn(void 0);try{return e()}finally{Ni(i),Dn(o)}}function AM(){return vM()!==void 0||xu()!=null}function F0(n){if(!AM())throw new X(-203,!1)}function l3(n){return typeof n=="function"}var ji=0,_e=1,de=2,an=3,Sr=4,Ar=5,_p=6,bp=7,Sn=8,Ic=9,Fi=10,Dt=11,Bu=12,TA=13,Rc=14,Kr=15,qs=16,mc=17,Li=18,Bp=19,MM=20,Ro=21,Db=22,wp=23,er=24,_c=25,$n=26,RM=1;var Ws=7,Ep=8,Cc=9,Bn=10;function Po(n){return Array.isArray(n)&&typeof n[RM]=="object"}function Ui(n){return Array.isArray(n)&&n[RM]===!0}function L0(n){return(n.flags&4)!==0}function Pc(n){return n.componentOffset>-1}function $p(n){return(n.flags&1)===1}function Yr(n){return!!n.template}function Ip(n){return(n[de]&512)!==0}function Nc(n){return(n[de]&256)===256}var Hb=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function PM(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var xn=(()=>{let n=()=>NM;return n.ngInherit=!0,n})();function NM(n){return n.type.prototype.ngOnChanges&&(n.setInput=d3),u3}function u3(){let n=OM(this),e=n?.current;if(e){let t=n.previous;if(t===Hs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function d3(n,e,t,r,i){let o=this.declaredInputs[r],s=OM(n)||h3(n,{previous:Hs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Hb(l&&l.currentValue,t,c===Hs),PM(n,e,i,t)}var kM="__ngSimpleChanges__";function OM(n){return n[kM]||null}function h3(n,e){return n[kM]=e}var SA=null;var Ue=function(n,e=null,t){SA?.(n,e,t)},f3="svg",p3="math";function Qr(n){for(;Array.isArray(n);)n=n[ji];return n}function FM(n,e){return Qr(e[n])}function ei(n,e){return Qr(e[n.index])}function LM(n,e){return n.data[e]}function VM(n,e){return n[e]}function g3(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Xr(n,e){let t=e[n];return Po(t)?t:t[ji]}function m3(n){return(n[de]&4)===4}function V0(n){return(n[de]&128)===128}function y3(n){return Ui(n[an])}function Dc(n,e){return e==null?null:n[e]}function jM(n){n[mc]=0}function UM(n){n[de]&1024||(n[de]|=1024,V0(n)&&Gu(n))}function v3(n,e){for(;n>0;)e=e[Rc],n--;return e}function Hp(n){return!!(n[de]&9216||n[er]?.dirty)}function zb(n){n[Fi].changeDetectionScheduler?.notify(8),n[de]&64&&(n[de]|=1024),Hp(n)&&Gu(n)}function Gu(n){n[Fi].changeDetectionScheduler?.notify(0);let e=Gs(n);for(;e!==null&&!(e[de]&8192||(e[de]|=8192,!V0(e)));)e=Gs(e)}function BM(n,e){if(Nc(n))throw new X(911,!1);n[Ro]===null&&(n[Ro]=[]),n[Ro].push(e)}function _3(n,e){if(n[Ro]===null)return;let t=n[Ro].indexOf(e);t!==-1&&n[Ro].splice(t,1)}function Gs(n){let e=n[an];return Ui(e)?e[an]:e}function j0(n){return n[bp]??=[]}function U0(n){return n.cleanup??=[]}function b3(n,e,t,r){let i=j0(e);i.push(t),n.firstCreatePass&&U0(n).push(r,i.length-1)}var ve={lFrame:YM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qb=!1;function w3(){return ve.lFrame.elementDepthCount}function E3(){ve.lFrame.elementDepthCount++}function I3(){ve.lFrame.elementDepthCount--}function B0(){return ve.bindingsEnabled}function C3(){return ve.skipHydrationRootTNode!==null}function D3(n){return ve.skipHydrationRootTNode===n}function T3(){ve.skipHydrationRootTNode=null}function Ne(){return ve.lFrame.lView}function Ht(){return ve.lFrame.tView}function st(n){return ve.lFrame.contextLView=n,n[Sn]}function at(n){return ve.lFrame.contextLView=null,n}function vn(){let n=$M();for(;n!==null&&n.type===64;)n=n.parent;return n}function $M(){return ve.lFrame.currentTNode}function S3(){let n=ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function na(n,e){let t=ve.lFrame;t.currentTNode=n,t.isParent=e}function $0(){return ve.lFrame.isParent}function HM(){ve.lFrame.isParent=!1}function x3(){return ve.lFrame.contextLView}function zM(){return qb}function xA(n){let e=qb;return qb=n,e}function A3(){let n=ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function M3(){return ve.lFrame.bindingIndex}function R3(n){return ve.lFrame.bindingIndex=n}function zp(){return ve.lFrame.bindingIndex++}function qM(n){let e=ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function P3(){return ve.lFrame.inI18n}function N3(n,e){let t=ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wb(e)}function k3(){return ve.lFrame.currentDirectiveIndex}function Wb(n){ve.lFrame.currentDirectiveIndex=n}function O3(n){let e=ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function WM(){return ve.lFrame.currentQueryIndex}function H0(n){ve.lFrame.currentQueryIndex=n}function F3(n){let e=n[_e];return e.type===2?e.declTNode:e.type===1?n[Ar]:null}function GM(n,e,t){if(t&ye.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ye.Host);)if(i=F3(o),i===null||(o=o[Rc],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ve.lFrame=KM();return r.currentTNode=e,r.lView=n,!0}function z0(n){let e=KM(),t=n[_e];ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KM(){let n=ve.lFrame,e=n===null?null:n.child;return e===null?YM(n):e}function YM(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QM(){let n=ve.lFrame;return ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var XM=QM;function q0(){let n=QM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function L3(n){return(ve.lFrame.contextLView=v3(n,ve.lFrame.contextLView))[Sn]}function ra(){return ve.lFrame.selectedIndex}function Ks(n){ve.lFrame.selectedIndex=n}function W0(){let n=ve.lFrame;return LM(n.tView,n.selectedIndex)}function V3(){return ve.lFrame.currentNamespace}var ZM=!0;function qp(){return ZM}function Wp(n){ZM=n}function j3(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=NM(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function G0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function lp(n,e,t){JM(n,e,3,t)}function up(n,e,t,r){(n[de]&3)===t&&JM(n,e,t,r)}function Tb(n,e){let t=n[de];(t&3)===e&&(t&=16383,t+=1,n[de]=t)}function JM(n,e,t,r){let i=r!==void 0?n[mc]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[mc]+=65536),(a<o||o==-1)&&(U3(n,t,e,c),n[mc]=(n[mc]&4294901760)+c+2),c++}function AA(n,e){Ue(4,n,e);let t=Te(null);try{e.call(n)}finally{Te(t),Ue(5,n,e)}}function U3(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[de]>>14<n[mc]>>16&&(n[de]&3)===e&&(n[de]+=16384,AA(a,o)):AA(a,o)}var bc=-1,Ys=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function B3(n){return(n.flags&8)!==0}function $3(n){return(n.flags&16)!==0}function H3(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];z3(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function eR(n){return n===3||n===4||n===6}function z3(n){return n.charCodeAt(0)===64}function Tc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?MA(n,t,i,null,e[++r]):MA(n,t,i,null,null))}}return n}function MA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function tR(n){return n!==bc}function Cp(n){return n&32767}function q3(n){return n>>16}function Dp(n,e){let t=q3(n),r=e;for(;t>0;)r=r[Rc],t--;return r}var Gb=!0;function Tp(n){let e=Gb;return Gb=n,e}var W3=256,nR=W3-1,rR=5,G3=0,Gr={};function K3(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),r==null&&(r=t[Vu]=G3++);let i=r&nR,o=1<<i;e.data[n+(i>>rR)]|=o}function Sp(n,e){let t=iR(n,e);if(t!==-1)return t;let r=e[_e];r.firstCreatePass&&(n.injectorIndex=e.length,Sb(r.data,n),Sb(e,null),Sb(r.blueprint,null));let i=K0(n,e),o=n.injectorIndex;if(tR(i)){let s=Cp(i),a=Dp(i,e),c=a[_e].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Sb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iR(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function K0(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=lR(i),r===null)return bc;if(t++,i=i[Rc],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return bc}function Kb(n,e,t){K3(n,e,t)}function Y3(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(eR(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function oR(n,e,t){if(t&ye.Optional||n!==void 0)return n;P0(e,"NodeInjector")}function sR(n,e,t,r){if(t&ye.Optional&&r===void 0&&(r=null),(t&(ye.Self|ye.Host))===0){let i=n[Ic],o=Dn(void 0);try{return i?i.get(e,r,t&ye.Optional):_M(e,r,t&ye.Optional)}finally{Dn(o)}}return oR(r,e,t)}function aR(n,e,t,r=ye.Default,i){if(n!==null){if(e[de]&2048&&!(r&ye.Self)){let s=J3(n,e,t,r,Gr);if(s!==Gr)return s}let o=cR(n,e,t,r,Gr);if(o!==Gr)return o}return sR(e,t,r,i)}function cR(n,e,t,r,i){let o=X3(t);if(typeof o=="function"){if(!GM(e,n,r))return r&ye.Host?oR(i,t,r):sR(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ye.Optional))P0(t);else return s}finally{XM()}}else if(typeof o=="number"){let s=null,a=iR(n,e),c=bc,l=r&ye.Host?e[Kr][Ar]:null;for((a===-1||r&ye.SkipSelf)&&(c=a===-1?K0(n,e):e[a+8],c===bc||!PA(r,!1)?a=-1:(s=e[_e],a=Cp(c),e=Dp(c,e)));a!==-1;){let u=e[_e];if(RA(o,a,u.data)){let h=Q3(a,e,t,s,r,l);if(h!==Gr)return h}c=e[a+8],c!==bc&&PA(r,e[_e].data[a+8]===l)&&RA(o,a,e)?(s=u,a=Cp(c),e=Dp(c,e)):a=-1}}return i}function Q3(n,e,t,r,i,o){let s=e[_e],a=s.data[n+8],c=r==null?Pc(a)&&Gb:r!=s&&(a.type&3)!==0,l=i&ye.Host&&o===a,u=dp(a,s,t,c,l);return u!==null?$u(e,s,u,a,i):Gr}function dp(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,u=o>>20,h=r?a:a+u,f=i?a+u:l;for(let p=h;p<f;p++){let y=s[p];if(p<c&&t===y||p>=c&&y.type===t)return p}if(i){let p=s[c];if(p&&Yr(p)&&p.type===t)return c}return null}function $u(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ys){let a=o;a.resolving&&yM(F$(s[t]));let c=Tp(a.canSeeViewProviders);a.resolving=!0;let l,u=a.injectImpl?Dn(a.injectImpl):null,h=GM(n,r,ye.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&j3(t,s[t],e)}finally{u!==null&&Dn(u),Tp(c),a.resolving=!1,XM()}}return o}function X3(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return typeof e=="number"?e>=0?e&nR:Z3:e}function RA(n,e,t){let r=1<<n;return!!(t[e+(n>>rR)]&r)}function PA(n,e){return!(n&ye.Self)&&!(n&ye.Host&&e)}var Bs=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return aR(this._tNode,this._lView,e,jp(r),t)}};function Z3(){return new Bs(vn(),Ne())}function Bi(n){return qu(()=>{let e=n.prototype.constructor,t=e[pp]||Yb(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[pp]||Yb(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yb(n){return hM(n)?()=>{let e=Yb(yn(n));return e&&e()}:$s(n)}function J3(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[de]&2048&&!Ip(s);){let a=cR(o,s,t,r|ye.Self,Gr);if(a!==Gr)return a;let c=o.parent;if(!c){let l=s[MM];if(l){let u=l.get(t,Gr,r);if(u!==Gr)return u}c=lR(s),s=s[Rc]}o=c}return i}function lR(n){let e=n[_e],t=e.type;return t===2?e.declTNode:t===1?n[Ar]:null}function Y0(n){return Y3(vn(),n)}function NA(n,e=null,t=null,r){let i=uR(n,e,t,r);return i.resolveInjectorInitializers(),i}function uR(n,e=null,t=null,r,i=new Set){let o=[t||Jn,J$(n)];return r=r||(typeof n=="object"?void 0:Tn(n)),new Uu(o,e||O0(),r||null,i)}var Tt=class n{static THROW_IF_NOT_FOUND=Us;static NULL=new vp;static create(e,t){if(Array.isArray(e))return NA({name:""},t,e,"");{let r=e.name??"";return NA({name:r},e.parent,e.providers,r)}}static \u0275prov=K({token:n,providedIn:"any",factory:()=>J(EM)});static __NG_ELEMENT_ID__=-1};var e4=new G("");e4.__NG_ELEMENT_ID__=n=>{let e=vn();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(n&ye.Optional)return null;throw new X(204,!1)};var dR=!1,ia=(()=>{class n{static __NG_ELEMENT_ID__=t4;static __NG_ENV_ID__=t=>t}return n})(),Qb=class extends ia{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Nc(t)?(e(),()=>{}):(BM(t,e),()=>_3(t,e))}};function t4(){return new Qb(Ne())}var Qs=class{},Q0=new G("",{providedIn:"root",factory:()=>!1});var hR=new G(""),fR=new G(""),$i=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),Gp=(()=>{class n{internalPendingTasks=U($i);scheduler=U(Qs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return C(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),Xb=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,AM()&&(this.destroyRef=U(ia,{optional:!0})??void 0,this.pendingTasks=U($i,{optional:!0})??void 0)}emit(e){let t=Te(null);try{super.next(e)}finally{Te(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Be=Xb;function xp(...n){}function pR(n){let e,t;function r(){n=xp;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function kA(n){return queueMicrotask(()=>n()),()=>{n=xp}}var X0="isAngularZone",Ap=X0+"_ID",n4=0,Ae=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Be(!1);onMicrotaskEmpty=new Be(!1);onStable=new Be(!1);onError=new Be(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dR}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,o4(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(X0)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new X(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,r4,xp,xp);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},r4={};function Z0(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function i4(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){pR(()=>{n.callbackScheduled=!1,Zb(n),n.isCheckStableRunning=!0,Z0(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Zb(n)}function o4(n){let e=()=>{i4(n)},t=n4++;n._inner=n._inner.fork({name:"angular",properties:{[X0]:!0,[Ap]:t,[Ap+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(s4(c))return r.invokeTask(o,s,a,c);try{return OA(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),FA(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return OA(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!a4(c)&&e(),FA(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Zb(n),Z0(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Zb(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function OA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FA(n){n._nesting--,Z0(n)}var Jb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Be;onMicrotaskEmpty=new Be;onStable=new Be;onError=new Be;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function s4(n){return gR(n,"__ignore_ng_zone__")}function a4(n){return gR(n,"__scheduler_tick__")}function gR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Zr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},c4=new G("",{providedIn:"root",factory:()=>{let n=U(Ae),e=U(Zr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function LA(n,e){return uM(n,e)}function l4(n){return uM(lM,n)}var mR=(LA.required=l4,LA);function u4(){return kc(vn(),Ne())}function kc(n,e){return new _n(ei(n,e))}var _n=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=u4}return n})();function d4(n){return n instanceof _n?n.nativeElement:n}function h4(n){return typeof n=="function"&&n[Zn]!==void 0}function St(n,e){let t=tb(n,e?.equal),r=t[Zn];return t.set=i=>Su(r,i),t.update=i=>nb(r,i),t.asReadonly=f4.bind(t),t}function f4(){let n=this[Zn];if(n.readonlyFn===void 0){let e=()=>this();e[Zn]=n,n.readonlyFn=e}return n.readonlyFn}function yR(n){return h4(n)&&typeof n.set=="function"}function p4(){return this._results[Symbol.iterator]()}var e0=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=G$(e);(this._changesDetected=!W$(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=p4};function vR(n){return(n.flags&128)===128}var _R=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_R||{}),bR=new Map,g4=0;function m4(){return g4++}function y4(n){bR.set(n[Bp],n)}function t0(n){bR.delete(n[Bp])}var VA="__ngContext__";function Oc(n,e){Po(e)?(n[VA]=e[Bp],y4(e)):n[VA]=e}function wR(n){return IR(n[Bu])}function ER(n){return IR(n[Sr])}function IR(n){for(;n!==null&&!Ui(n);)n=n[Sr];return n}var n0;function CR(n){n0=n}function v4(){if(n0!==void 0)return n0;if(typeof document<"u")return document;throw new X(210,!1)}var J0=new G("",{providedIn:"root",factory:()=>_4}),_4="ng",ew=new G(""),No=new G("",{providedIn:"platform",factory:()=>"unknown"});var tw=new G("",{providedIn:"root",factory:()=>v4().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var b4="h",w4="b";var DR=!1,E4=new G("",{providedIn:"root",factory:()=>DR});var nw=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(nw||{}),Fc=new G(""),jA=new Set;function Lc(n){jA.has(n)||(jA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var TR=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=I4}return n})();function I4(){return new TR(Ne(),vn())}var yc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yc||{}),SR=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),C4=[yc.EarlyRead,yc.Write,yc.MixedReadWrite,yc.Read],D4=(()=>{class n{ngZone=U(Ae);scheduler=U(Qs);errorHandler=U(Zr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){U(Fc,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ue(16),this.executing=!0;for(let r of C4)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ue(17)}register(t){let{view:r}=t;r!==void 0?((r[_c]??=[]).push(t),Gu(r),r[de]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(nw.AFTER_NEXT_RENDER,t):t()}static \u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}return n})(),r0=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[_c];e&&(this.view[_c]=e.filter(t=>t!==this))}};function rw(n,e){!e?.injector&&F0(rw);let t=e?.injector??U(Tt);return Lc("NgAfterNextRender"),S4(n,t,e,!0)}function T4(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function S4(n,e,t,r){let i=e.get(SR);i.impl??=e.get(D4);let o=e.get(Fc,null,{optional:!0}),s=t?.phase??yc.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(ia):null,c=e.get(TR,null,{optional:!0}),l=new r0(i.impl,T4(n,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var x4=(n,e,t,r)=>{};function A4(n,e,t,r){x4(n,e,t,r)}var M4=()=>null;function xR(n,e,t=!1){return M4(n,e,t)}function AR(n,e){let t=n.contentQueries;if(t!==null){let r=Te(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];H0(o),a.contentQueries(2,e[s],s)}}}finally{Te(r)}}}function i0(n,e,t){H0(0);let r=Te(null);try{e(n,t)}finally{Te(r)}}function iw(n,e,t){if(L0(e)){let r=Te(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Te(r)}}}var Jr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Jr||{});var sp;function R4(){if(sp===void 0&&(sp=null,js.trustedTypes))try{sp=js.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sp}function UA(n){return R4()?.createScriptURL(n)||n}var Mp=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aM})`}};function Kp(n){return n instanceof Mp?n.changingThisBreaksApplicationSecurity:n}function MR(n,e){let t=P4(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${aM})`)}return t===e}function P4(n){return n instanceof Mp&&n.getTypeName()||null}var N4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function k4(n){return n=String(n),n.match(N4)?n:"unsafe:"+n}var ow=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(ow||{});function oa(n){let e=PR();return e?e.sanitize(ow.URL,n)||"":MR(n,"URL")?Kp(n):k4(wc(n))}function O4(n){let e=PR();if(e)return UA(e.sanitize(ow.RESOURCE_URL,n)||"");if(MR(n,"ResourceURL"))return UA(Kp(n));throw new X(904,!1)}function F4(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?O4:oa}function RR(n,e,t){return F4(e,t)(n)}function PR(){let n=Ne();return n&&n[Fi].sanitizer}var L4=/^>|^->|<!--|-->|--!>|<!-$/g,V4=/(<|>)/g,j4="\u200B$1\u200B";function U4(n){return n.replace(L4,e=>e.replace(V4,j4))}function NR(n){return n instanceof Function?n():n}function B4(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var kR="ng-template";function $4(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&B4(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(sw(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function sw(n){return n.type===4&&n.value!==kR}function H4(n,e,t){let r=n.type===4&&!t?kR:n.value;return e===r}function z4(n,e,t){let r=4,i=n.attrs,o=i!==null?G4(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Tr(r)&&!Tr(c))return!1;if(s&&Tr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!H4(n,c,t)||c===""&&e.length===1){if(Tr(r))return!1;s=!0}}else if(r&8){if(i===null||!$4(n,i,c,t)){if(Tr(r))return!1;s=!0}}else{let l=e[++a],u=q4(c,i,sw(n),t);if(u===-1){if(Tr(r))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(Tr(r))return!1;s=!0}}}}return Tr(r)||s}function Tr(n){return(n&1)===0}function q4(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return K4(e,n)}function W4(n,e,t=!1){for(let r=0;r<e.length;r++)if(z4(n,e[r],t))return!0;return!1}function G4(n){for(let e=0;e<n.length;e++){let t=n[e];if(eR(t))return e}return n.length}function K4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function BA(n,e){return n?":not("+e.trim()+")":e}function Y4(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tr(s)&&(e+=BA(o,i),i=""),r=s,o=o||!Tr(r);t++}return i!==""&&(e+=BA(o,i)),e}function Q4(n){return n.map(Y4).join(",")}function X4(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Tr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Hi={};function Z4(n,e){return n.createText(e)}function J4(n,e,t){n.setValue(e,t)}function eH(n,e){return n.createComment(U4(e))}function OR(n,e,t){return n.createElement(e,t)}function Rp(n,e,t,r,i){n.insertBefore(e,t,r,i)}function FR(n,e,t){n.appendChild(e,t)}function $A(n,e,t,r,i){r!==null?Rp(n,e,t,r,i):FR(n,e,t)}function tH(n,e,t){n.removeChild(null,e,t)}function nH(n,e,t){n.setAttribute(e,"style",t)}function rH(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function LR(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&H3(n,e,r),i!==null&&rH(n,e,i),o!==null&&nH(n,e,o)}function aw(n,e,t,r,i,o,s,a,c,l,u){let h=$n+r,f=h+i,p=iH(h,f),y=typeof l=="function"?l():l;return p[_e]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function iH(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hi);return t}function oH(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=aw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function cw(n,e,t,r,i,o,s,a,c,l,u){let h=e.blueprint.slice();return h[ji]=i,h[de]=r|4|128|8|64|1024,(l!==null||n&&n[de]&2048)&&(h[de]|=2048),jM(h),h[an]=h[Rc]=n,h[Sn]=t,h[Fi]=s||n&&n[Fi],h[Dt]=a||n&&n[Dt],h[Ic]=c||n&&n[Ic]||null,h[Ar]=o,h[Bp]=m4(),h[_p]=u,h[MM]=l,h[Kr]=e.type==2?n[Kr]:h,h}function sH(n,e,t){let r=ei(e,n),i=oH(t),o=n[Fi].rendererFactory,s=lw(n,cw(n,i,null,VR(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function VR(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function jR(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function lw(n,e){return n[Bu]?n[TA][Sr]=e:n[Bu]=e,n[TA]=e,e}function $(n=1){UR(Ht(),Ne(),ra()+n,!1)}function UR(n,e,t,r){if(!r)if((e[de]&3)===3){let o=n.preOrderCheckHooks;o!==null&&lp(e,o,t)}else{let o=n.preOrderHooks;o!==null&&up(e,o,0,t)}Ks(t)}var Yp=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Yp||{});function o0(n,e,t,r){let i=Te(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Yp.SignalBased)!==0&&(c=e[o][Zn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):PM(e,c,o,r)}finally{Te(i)}}function BR(n,e,t,r,i){let o=ra(),s=r&2;try{Ks(-1),s&&e.length>$n&&UR(n,e,$n,!1),Ue(s?2:0,i),t(r,i)}finally{Ks(o),Ue(s?3:1,i)}}function Qp(n,e,t){hH(n,e,t),(t.flags&64)===64&&fH(n,e,t)}function uw(n,e,t=ei){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function aH(n,e,t,r){let o=r.get(E4,DR)||t===Jr.ShadowDom,s=n.selectRootElement(e,o);return cH(s),s}function cH(n){lH(n)}var lH=()=>null;function uH(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $R(n,e,t,r,i,o,s,a){if(!a&&hw(e,n,t,r,i)){Pc(e)&&dH(t,e.index);return}if(e.type&3){let c=ei(e,t);r=uH(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function dH(n,e){let t=Xr(e,n);t[de]&16||(t[de]|=64)}function hH(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Pc(t)&&sH(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Sp(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=$u(e,n,s,t);if(Oc(c,e),o!==null&&yH(e,s-r,c,a,t,o),Yr(a)){let l=Xr(t.index,e);l[Sn]=$u(e,n,s,t)}}}function fH(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=k3();try{Ks(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Wb(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&pH(c,l)}}finally{Ks(-1),Wb(s)}}function pH(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function dw(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];W4(e,o.selectors,!1)&&(r??=[],Yr(o)?r.unshift(o):r.push(o))}return r}function gH(n,e,t,r,i,o){let s=ei(n,e);mH(e[Dt],s,o,n.value,t,r,i)}function mH(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?wc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function yH(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];o0(r,t,c,l)}}function vH(n,e){let t=n[Ic],r=t?t.get(Zr,null):null;r&&r.handleError(e)}function hw(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],h=e.data[l];o0(h,t[l],u,i),a=!0}if(o)for(let c of o){let l=t[c],u=e.data[c];o0(u,l,r,i),a=!0}return a}function _H(n,e){let t=Xr(e,n),r=t[_e];bH(r,t);let i=t[ji];i!==null&&t[_p]===null&&(t[_p]=xR(i,t[Ic])),Ue(18),fw(r,t,t[Sn]),Ue(19,t[Sn])}function bH(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function fw(n,e,t){z0(e);try{let r=n.viewQuery;r!==null&&i0(1,r,t);let i=n.template;i!==null&&BR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Li]?.finishViewCreation(n),n.staticContentQueries&&AR(n,e),n.staticViewQueries&&i0(2,n.viewQuery,t);let o=n.components;o!==null&&wH(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,q0()}}function wH(n,e){for(let t=0;t<e.length;t++)_H(n,e[t])}function EH(n,e,t,r){let i=Te(null);try{let o=e.tView,a=n[de]&4096?4096:16,c=cw(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[qs]=l;let u=n[Li];return u!==null&&(c[Li]=u.createEmbeddedView(o)),fw(o,c,t),c}finally{Te(i)}}function HA(n,e){return!e||e.firstChild===null||vR(n)}var IH;function pw(n,e){return IH(n,e)}var Vi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vi||{});function HR(n){return(n.flags&32)===32}function vc(n,e,t,r,i){if(r!=null){let o,s=!1;Ui(r)?o=r:Po(r)&&(s=!0,r=r[ji]);let a=Qr(r);n===0&&t!==null?i==null?FR(e,t,a):Rp(e,t,a,i||null,!0):n===1&&t!==null?Rp(e,t,a,i||null,!0):n===2?tH(e,a,s):n===3&&e.destroyNode(a),o!=null&&OH(e,n,o,t,i)}}function CH(n,e){zR(n,e),e[ji]=null,e[Ar]=null}function DH(n,e,t,r,i,o){r[ji]=i,r[Ar]=e,Zp(n,r,t,1,i,o)}function zR(n,e){e[Fi].changeDetectionScheduler?.notify(9),Zp(n,e,e[Dt],2,null,null)}function TH(n){let e=n[Bu];if(!e)return xb(n[_e],n);for(;e;){let t=null;if(Po(e))t=e[Bu];else{let r=e[Bn];r&&(t=r)}if(!t){for(;e&&!e[Sr]&&e!==n;)Po(e)&&xb(e[_e],e),e=e[an];e===null&&(e=n),Po(e)&&xb(e[_e],e),t=e&&e[Sr]}e=t}}function gw(n,e){let t=n[Cc],r=t.indexOf(e);t.splice(r,1)}function qR(n,e){if(Nc(e))return;let t=e[Dt];t.destroyNode&&Zp(n,e,t,3,null,null),TH(e)}function xb(n,e){if(Nc(e))return;let t=Te(null);try{e[de]&=-129,e[de]|=256,e[er]&&Z_(e[er]),xH(n,e),SH(n,e),e[_e].type===1&&e[Dt].destroy();let r=e[qs];if(r!==null&&Ui(e[an])){r!==e[an]&&gw(r,e);let i=e[Li];i!==null&&i.detachView(n)}t0(e)}finally{Te(t)}}function SH(n,e){let t=n.cleanup,r=e[bp];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[bp]=null);let i=e[Ro];if(i!==null){e[Ro]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[wp];if(o!==null){e[wp]=null;for(let s of o)s.destroy()}}function xH(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ys)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,i,o);try{o.call(i)}finally{Ue(5,i,o)}}}}}function AH(n,e,t){return MH(n,e.parent,t)}function MH(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ji];if(Pc(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Jr.None||i===Jr.Emulated)return null}return ei(r,t)}function RH(n,e,t){return NH(n,e,t)}function PH(n,e,t){return n.type&40?ei(n,t):null}var NH=PH,zA;function Xp(n,e,t,r){let i=AH(n,r,e),o=e[Dt],s=r.parent||e[Ar],a=RH(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)$A(o,i,t[c],a,!1);else $A(o,i,t,a,!1);zA!==void 0&&zA(o,r,e,t,i)}function Lu(n,e){if(e!==null){let t=e.type;if(t&3)return ei(e,n);if(t&4)return s0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Lu(n,r);{let i=n[e.index];return Ui(i)?s0(-1,i):Qr(i)}}else{if(t&128)return Lu(n,e.next);if(t&32)return pw(e,n)()||Qr(n[e.index]);{let r=WR(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gs(n[Kr]);return Lu(i,r)}else return Lu(n,e.next)}}}return null}function WR(n,e){if(e!==null){let r=n[Kr][Ar],i=e.projection;return r.projection[i]}return null}function s0(n,e){let t=Bn+n+1;if(t<e.length){let r=e[t],i=r[_e].firstChild;if(i!==null)return Lu(r,i)}return e[Ws]}function mw(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Oc(Qr(a),r),t.flags|=2),!HR(t))if(c&8)mw(n,e,t.child,r,i,o,!1),vc(e,n,i,a,o);else if(c&32){let l=pw(t,r),u;for(;u=l();)vc(e,n,i,u,o);vc(e,n,i,a,o)}else c&16?kH(n,e,r,t,i,o):vc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Zp(n,e,t,r,i,o){mw(t,r,n.firstChild,e,i,o,!1)}function kH(n,e,t,r,i,o){let s=t[Kr],c=s[Ar].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];vc(e,n,i,u,o)}else{let l=c,u=s[an];vR(r)&&(l.flags|=128),mw(n,e,l,u,i,o,!0)}}function OH(n,e,t,r,i){let o=t[Ws],s=Qr(t);o!==s&&vc(e,n,r,o,i);for(let a=Bn;a<t.length;a++){let c=t[a];Zp(c[_e],c,n,e,r,o)}}function FH(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Vi.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vi.Important),n.setStyle(t,r,i,o))}}function Pp(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Qr(o)),Ui(o)&&LH(o,r);let s=t.type;if(s&8)Pp(n,e,t.child,r);else if(s&32){let a=pw(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=WR(e,t);if(Array.isArray(a))r.push(...a);else{let c=Gs(e[Kr]);Pp(c[_e],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function LH(n,e){for(let t=Bn;t<n.length;t++){let r=n[t],i=r[_e].firstChild;i!==null&&Pp(r[_e],r,i,e)}n[Ws]!==n[ji]&&e.push(n[Ws])}function GR(n){if(n[_c]!==null){for(let e of n[_c])e.impl.addSequence(e);n[_c].length=0}}var KR=[];function VH(n){return n[er]??jH(n)}function jH(n){let e=KR.pop()??Object.create(BH);return e.lView=n,e}function UH(n){n.lView[er]!==n&&(n.lView=null,KR.push(n))}var BH=ie(z({},Du),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Gu(n.lView)},consumerOnSignalRead(){this.lView[er]=this}});function $H(n){let e=n[er]??Object.create(HH);return e.lView=n,e}var HH=ie(z({},Du),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Gs(n.lView);for(;e&&!YR(e[_e]);)e=Gs(e);e&&UM(e)},consumerOnSignalRead(){this.lView[er]=this}});function YR(n){return n.type!==2}function QR(n){if(n[wp]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[wp])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[de]&8192)}}var zH=100;function XR(n,e=!0,t=0){let i=n[Fi].rendererFactory,o=!1;o||i.begin?.();try{qH(n,t)}catch(s){throw e&&vH(n,s),s}finally{o||i.end?.()}}function qH(n,e){let t=zM();try{xA(!0),a0(n,e);let r=0;for(;Hp(n);){if(r===zH)throw new X(103,!1);r++,a0(n,1)}}finally{xA(t)}}function WH(n,e,t,r){if(Nc(e))return;let i=e[de],o=!1,s=!1;z0(e);let a=!0,c=null,l=null;o||(YR(n)?(l=VH(e),c=Cf(l)):W_()===null?(a=!1,l=$H(e),c=Cf(l)):e[er]&&(Z_(e[er]),e[er]=null));try{jM(e),R3(n.bindingStartIndex),t!==null&&BR(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&lp(e,p,null)}else{let p=n.preOrderHooks;p!==null&&up(e,p,0,null),Tb(e,0)}if(s||GH(e),QR(e),ZR(e,0),n.contentQueries!==null&&AR(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&lp(e,p)}else{let p=n.contentHooks;p!==null&&up(e,p,1),Tb(e,1)}YH(n,e);let h=n.components;h!==null&&e1(e,h,0);let f=n.viewQuery;if(f!==null&&i0(2,f,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&lp(e,p)}else{let p=n.viewHooks;p!==null&&up(e,p,2),Tb(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Db]){for(let p of e[Db])p();e[Db]=null}o||(GR(e),e[de]&=-73)}catch(u){throw o||Gu(e),u}finally{l!==null&&(Q_(l,c),a&&UH(l)),q0()}}function ZR(n,e){for(let t=wR(n);t!==null;t=ER(t))for(let r=Bn;r<t.length;r++){let i=t[r];JR(i,e)}}function GH(n){for(let e=wR(n);e!==null;e=ER(e)){if(!(e[de]&2))continue;let t=e[Cc];for(let r=0;r<t.length;r++){let i=t[r];UM(i)}}}function KH(n,e,t){Ue(18);let r=Xr(e,n);JR(r,t),Ue(19,r[Sn])}function JR(n,e){V0(n)&&a0(n,e)}function a0(n,e){let r=n[_e],i=n[de],o=n[er],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&X_(o)),s||=!1,o&&(o.dirty=!1),n[de]&=-9217,s)WH(r,n,r.template,n[Sn]);else if(i&8192){QR(n),ZR(n,1);let a=r.components;a!==null&&e1(n,a,1),GR(n)}}function e1(n,e,t){for(let r=0;r<e.length;r++)KH(n,e[r],t)}function YH(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Ks(~i);else{let o=i,s=t[++r],a=t[++r];N3(s,o);let c=e[o];Ue(24,c),a(2,c),Ue(25,c)}}}finally{Ks(-1)}}function yw(n,e){let t=zM()?64:1088;for(n[Fi].changeDetectionScheduler?.notify(e);n;){n[de]|=t;let r=Gs(n);if(Ip(n)&&!r)return n;n=r}return null}function t1(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function QH(n,e,t,r=!0){let i=e[_e];if(XH(i,e,n,t),r){let s=s0(t,n),a=e[Dt],c=a.parentNode(n[Ws]);c!==null&&DH(i,n[Ar],a,e,c,s)}let o=e[_p];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function c0(n,e){if(n.length<=Bn)return;let t=Bn+e,r=n[t];if(r){let i=r[qs];i!==null&&i!==n&&gw(i,r),e>0&&(n[t-1][Sr]=r[Sr]);let o=yp(n,Bn+e);CH(r[_e],r);let s=o[Li];s!==null&&s.detachView(o[_e]),r[an]=null,r[Sr]=null,r[de]&=-129}return r}function XH(n,e,t,r){let i=Bn+r,o=t.length;r>0&&(t[i-1][Sr]=e),r<o-Bn?(e[Sr]=t[i],wM(t,Bn+r,e)):(t.push(e),e[Sr]=null),e[an]=t;let s=e[qs];s!==null&&t!==s&&n1(s,e);let a=e[Li];a!==null&&a.insertView(n),zb(e),e[de]|=128}function n1(n,e){let t=n[Cc],r=e[an];if(Po(r))n[de]|=2;else{let i=r[an][Kr];e[Kr]!==i&&(n[de]|=2)}t===null?n[Cc]=[e]:t.push(e)}var Hu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[_e];return Pp(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Sn]}set context(e){this._lView[Sn]=e}get destroyed(){return Nc(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[an];if(Ui(e)){let t=e[Ep],r=t?t.indexOf(this):-1;r>-1&&(c0(e,r),yp(t,r))}this._attachedToViewContainer=!1}qR(this._lView[_e],this._lView)}onDestroy(e){BM(this._lView,e)}markForCheck(){yw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[de]&=-129}reattach(){zb(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,XR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ip(this._lView),t=this._lView[qs];t!==null&&!e&&gw(t,this._lView),zR(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let t=Ip(this._lView),r=this._lView[qs];r!==null&&!t&&n1(r,this._lView),zb(this._lView)}};var Xs=(()=>{class n{static __NG_ELEMENT_ID__=ez}return n})(),ZH=Xs,JH=class extends ZH{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=EH(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Hu(i)}};function ez(){return Jp(vn(),Ne())}function Jp(n,e){return n.type&4?new JH(e,n,kc(n,e)):null}function eg(n,e,t,r,i){let o=n.data[e];if(o===null)o=tz(n,e,t,r,i),P3()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=S3();o.injectorIndex=s===null?-1:s.injectorIndex}return na(o,!0),o}function tz(n,e,t,r,i){let o=$M(),s=$0(),a=s?o:o&&o.parent,c=n.data[e]=rz(n,a,t,e,r,i);return nz(n,c,o,s),c}function nz(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function rz(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return C3()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var dfe=new RegExp(`^(\\d+)*(${w4}|${b4})*(.*)`);var iz=()=>null;function qA(n,e){return iz(n,e)}var oz=class{},r1=class{},l0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Tn(e)}.`)}},tg=class{static NULL=new l0},Sc=class{},zi=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sz()}return n})();function sz(){let n=Ne(),e=vn(),t=Xr(e.index,n);return(Po(t)?t:n)[Dt]}var az=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>null})}return n})();var Ab={},u0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=jp(r);let i=this.injector.get(e,Ab,r);return i!==Ab||t===Ab?i:this.parentInjector.get(e,t,r)}};function d0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=_A(i,a);else if(o==2){let c=a,l=e[++s];r=_A(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function q(n,e=ye.Default){let t=Ne();if(t===null)return J(n,e);let r=vn();return aR(r,t,yn(n),e)}function i1(){let n="invalid";throw new Error(n)}function vw(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,u=lz(s);u===null?a=s:[a,c,l]=u,hz(n,e,t,a,o,c,l)}o!==null&&r!==null&&cz(t,r,o)}function cz(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new X(-301,!1);r.push(e[i],o)}}function lz(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&Yr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,uz(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function uz(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function dz(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hz(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let f=0;f<a;f++){let p=r[f];!c&&Yr(p)&&(c=!0,dz(n,t,f)),Kb(Sp(t,e),n,p.type)}vz(t,n.data.length,a);for(let f=0;f<a;f++){let p=r[f];p.providersResolver&&p.providersResolver(p)}let l=!1,u=!1,h=jR(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let f=0;f<a;f++){let p=r[f];if(t.mergedAttrs=Tc(t.mergedAttrs,p.hostAttrs),pz(n,t,e,h,p),yz(h,p,i),s!==null&&s.has(p)){let[v,_]=s.get(p);t.directiveToIndex.set(p.type,[h,v+t.directiveStart,_+t.directiveStart])}else(o===null||!o.has(p))&&t.directiveToIndex.set(p.type,h);p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let y=p.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!u&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),u=!0),h++}fz(n,t,o)}function fz(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))WA(0,e,i,r),WA(1,e,i,r),KA(e,r,!1);else{let o=t.get(i);GA(0,e,o,r),GA(1,e,o,r),KA(e,r,!0)}}}function WA(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),o1(e,o)}}function GA(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),o1(e,s)}}function o1(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function KA(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||sw(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function pz(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=$s(i.type,!0)),s=new Ys(o,Yr(i),q);n.blueprint[r]=s,t[r]=s,gz(n,e,r,jR(n,t,i.hostVars,Hi),i)}function gz(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;mz(s)!=a&&s.push(a),s.push(t,r,o)}}function mz(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function yz(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Yr(e)&&(t[""]=n)}}function vz(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function s1(n,e,t,r,i,o,s,a){let c=e.consts,l=Dc(c,s),u=eg(e,n,2,r,l);return o&&vw(e,t,u,Dc(c,a),i),u.mergedAttrs=Tc(u.mergedAttrs,u.attrs),u.attrs!==null&&d0(u,u.attrs,!1),u.mergedAttrs!==null&&d0(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function a1(n,e){G0(n,e),L0(e)&&n.queries.elementEnd(e)}var Np=class extends tg{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zs(e);return new xc(t,this.ngModule)}};function _z(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Yp.SignalBased)!==0};return i&&(o.transform=i),o})}function bz(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function wz(n,e,t){let r=e instanceof vt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new u0(t,r):t}function Ez(n){let e=n.get(Sc,null);if(e===null)throw new X(407,!1);let t=n.get(az,null),r=n.get(Qs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function Iz(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return OR(e,t,t==="svg"?f3:t==="math"?p3:null)}var xc=class extends r1{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=_z(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bz(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Q4(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ue(22);let o=Te(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:X4(this.componentDef.selectors[0]),c=aw(0,null,null,1,0,null,null,null,null,[a],null),l=wz(s,i||this.ngModule,e),u=Ez(l),h=u.rendererFactory.createRenderer(null,s),f=r?aH(h,r,s.encapsulation,l):Iz(s,h),p=cw(null,c,null,512|VR(s),null,null,u,h,l,null,xR(f,l,!0));p[$n]=f,z0(p);let y=null;try{let v=s1($n,c,p,"#host",()=>[this.componentDef],!0,0);f&&(LR(h,f,v),Oc(f,p)),Qp(c,p,v),iw(c,v,p),a1(c,v),t!==void 0&&Cz(v,this.ngContentSelectors,t),y=Xr(v.index,p),p[Sn]=y[Sn],fw(c,p,null)}catch(v){throw y!==null&&t0(y),t0(p),v}finally{Ue(23),q0()}return new h0(this.componentType,p)}finally{Te(o)}}},h0=class extends oz{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=LM(t[_e],$n),this.location=kc(this._tNode,t),this.instance=Xr(this._tNode.index,t)[Sn],this.hostView=this.changeDetectorRef=new Hu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=hw(r,i[_e],i,e,t);this.previousInputValues.set(e,t);let s=Xr(r.index,i);yw(s,1)}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Cz(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ko=(()=>{class n{static __NG_ELEMENT_ID__=Dz}return n})();function Dz(){let n=vn();return l1(n,Ne())}var Tz=ko,c1=class extends Tz{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){let e=K0(this._hostTNode,this._hostLView);if(tR(e)){let t=Dp(e,this._hostLView),r=Cp(e),i=t[_e].data[r+8];return new Bs(i,t)}else return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=YA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Bn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=qA(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,HA(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!l3(e),a;if(s)a=t;else{let y=t||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new xc(zs(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(vt,null);v&&(o=v)}let u=zs(c.componentType??{}),h=qA(this._lContainer,u?.id??null),f=h?.firstChild??null,p=c.create(l,i,f,o);return this.insertImpl(p.hostView,a,HA(this._hostTNode,h)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(y3(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[an],l=new c1(c,c[Ar],c[an]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return QH(s,i,o,r),e.attachToViewContainerRef(),wM(Mb(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=YA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=c0(this._lContainer,t);r&&(yp(Mb(this._lContainer),t),qR(r[_e],r))}detach(e){let t=this._adjustIndex(e,-1),r=c0(this._lContainer,t);return r&&yp(Mb(this._lContainer),t)!=null?new Hu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function YA(n){return n[Ep]}function Mb(n){return n[Ep]||(n[Ep]=[])}function l1(n,e){let t,r=e[n.index];return Ui(r)?t=r:(t=t1(r,e,null,n),e[n.index]=t,lw(e,t)),xz(t,e,n,r),new c1(t,n,e)}function Sz(n,e){let t=n[Dt],r=t.createComment(""),i=ei(e,n),o=t.parentNode(i);return Rp(t,o,r,t.nextSibling(i),!1),r}var xz=Rz,Az=()=>!1;function Mz(n,e,t){return Az(n,e,t)}function Rz(n,e,t,r){if(n[Ws])return;let i;t.type&8?i=Qr(r):i=Sz(e,t),n[Ws]=i}var f0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},p0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)_w(e,t).matches!==null&&this.queries[t].setDirty()}},g0=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=jz(e):this.predicate=e}},m0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},y0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,Pz(t,o)),this.matchTNodeWithReadOption(e,t,dp(t,e,o,!1,!1))}else r===Xs?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dp(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_n||i===ko||i===Xs&&t.type&4)this.addMatch(t.index,-2);else{let o=dp(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function Pz(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Nz(n,e){return n.type&11?kc(n,e):n.type&4?Jp(n,e):null}function kz(n,e,t,r){return t===-1?Nz(e,n):t===-2?Oz(n,e,r):$u(n,n[_e],t,e)}function Oz(n,e,t){if(t===_n)return kc(e,n);if(t===Xs)return Jp(e,n);if(t===ko)return l1(e,n)}function u1(n,e,t,r){let i=e[Li].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(kz(e,u,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function v0(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=u1(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let h=Bn;h<u.length;h++){let f=u[h];f[qs]===f[an]&&v0(f[_e],f,l,r)}if(u[Cc]!==null){let h=u[Cc];for(let f=0;f<h.length;f++){let p=h[f];v0(p[_e],p,l,r)}}}}}return r}function Fz(n,e){return n[Li].queries[e].queryList}function Lz(n,e,t){let r=new e0((t&4)===4);return b3(n,e,r,r.destroy),(e[Li]??=new p0).queries.push(new f0(r))-1}function Vz(n,e,t){let r=Ht();return r.firstCreatePass&&(Uz(r,new g0(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),Lz(r,Ne(),e)}function jz(n){return n.split(",").map(e=>e.trim())}function Uz(n,e,t){n.queries===null&&(n.queries=new m0),n.queries.track(new y0(e,t))}function _w(n,e){return n.queries.getByIndex(e)}function Bz(n,e){let t=n[_e],r=_w(t,e);return r.crossesNgTemplate?v0(t,n,e,[]):u1(t,n,r,e)}var Ac=class{},bw=class{};var _0=class extends Ac{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Np(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=CM(e);this._bootstrapComponents=NR(o.bootstrap),this._r3Injector=uR(e,t,[{provide:Ac,useValue:this},{provide:tg,useValue:this.componentFactoryResolver},...r],Tn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},b0=class extends bw{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _0(this.moduleType,e,[])}};var kp=class extends Ac{injector;componentFactoryResolver=new Np(this);instance=null;constructor(e){super();let t=new Uu([...e.providers,{provide:Ac,useValue:this},{provide:tg,useValue:this.componentFactoryResolver}],e.parent||O0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ku(n,e,t=null){return new kp({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var $z=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=DM(!1,t.type),i=r.length>0?Ku([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(J(vt))})}return n})();function ke(n){return qu(()=>{let e=d1(n),t=ie(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_R.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($z).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Jr.Emulated,styles:n.styles||Jn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Lc("NgStandalone"),h1(t);let r=n.dependencies;return t.directiveDefs=QA(r,!1),t.pipeDefs=QA(r,!0),t.id=Gz(t),t})}function Hz(n){return zs(n)||X$(n)}function zz(n){return n!==null}function Mr(n){return qu(()=>({type:n.type,bootstrap:n.bootstrap||Jn,declarations:n.declarations||Jn,imports:n.imports||Jn,exports:n.exports||Jn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qz(n,e){if(n==null)return Hs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Yp.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function Wz(n){if(n==null)return Hs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ge(n){return qu(()=>{let e=d1(n);return h1(e),e})}function Yu(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function d1(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Hs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Jn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qz(n.inputs,e),outputs:Wz(n.outputs),debugInfo:null}}function h1(n){n.features?.forEach(e=>e(n))}function QA(n,e){if(!n)return null;let t=e?Z$:Hz;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(zz)}function Gz(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kz(n){return Object.getPrototypeOf(n.prototype).constructor}function An(n){let e=Kz(n.type),t=!0,r=[n];for(;e;){let i;if(Yr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Rb(n.inputs),s.declaredInputs=Rb(n.declaredInputs),s.outputs=Rb(n.outputs);let a=i.hostBindings;a&&Jz(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&Xz(n,c),l&&Zz(n,l),Yz(n,i),x$(n.outputs,i.outputs),Yr(i)&&i.data.animation){let u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===An&&(t=!1)}}e=Object.getPrototypeOf(e)}Qz(r)}function Yz(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Qz(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tc(i.hostAttrs,t=Tc(t,i.hostAttrs))}}function Rb(n){return n===Hs?{}:n===Jn?[]:n}function Xz(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Zz(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Jz(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function f1(n){return t5(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function e5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function t5(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function n5(n,e,t){return n[e]=t}function Zs(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function p1(n,e,t,r){let i=Zs(n,e,t);return Zs(n,e+1,r)||i}function r5(n,e,t,r,i,o,s,a,c){let l=e.consts,u=eg(e,n,4,s||null,a||null);B0()&&vw(e,t,u,Dc(l,c),dw),u.mergedAttrs=Tc(u.mergedAttrs,u.attrs),G0(e,u);let h=u.tView=aw(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function i5(n,e,t,r,i,o,s,a,c,l){let u=t+$n,h=e.firstCreatePass?r5(u,e,n,r,i,o,s,a,c):e.data[u];na(h,!1);let f=o5(e,n,h,t);qp()&&Xp(e,n,f,h),Oc(f,n);let p=t1(f,n,f,h);return n[u]=p,lw(n,p),Mz(p,h,n),$p(h)&&Qp(e,n,h),c!=null&&uw(n,h,l),h}function se(n,e,t,r,i,o,s,a){let c=Ne(),l=Ht(),u=Dc(l.consts,o);return i5(c,l,n,e,t,r,i,u,s,a),se}var o5=s5;function s5(n,e,t,r){return Wp(!0),e[Dt].createComment("")}var g1=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var m1=new G("");var a5=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new w0})}return n})(),w0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function sa(n){return!!n&&typeof n.then=="function"}function y1(n){return!!n&&typeof n.subscribe=="function"}var v1=new G("");function ww(n){return nr([{provide:v1,multi:!0,useValue:n}])}var _1=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=U(v1,{optional:!0})??[];injector=U(Tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=it(this.injector,i);if(sa(o))t.push(o);else if(y1(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ng=new G("");function c5(){eb(()=>{throw new X(600,!1)})}function l5(n){return n.isBoundToModule}var u5=10;var Js=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=U(c4);afterRenderManager=U(SR);zonelessEnabled=U(Q0);rootEffectScheduler=U(a5);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=U($i).hasPendingTasks.pipe(le(t=>!t));constructor(){U(Fc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=U(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Tt.NULL){Ue(10);let o=t instanceof r1;if(!this._injector.get(_1).done){let p="";throw new X(405,p)}let a;o?a=t:a=this._injector.get(tg).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=l5(a)?void 0:this._injector.get(Ac),l=r||a.selector,u=a.create(i,[],l,c),h=u.location.nativeElement,f=u.injector.get(m1,null);return f?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),hp(this.components,u),f?.unregisterApplication(h)}),this._loadComponent(u),Ue(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nw.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new X(101,!1);let t=Te(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Te(t),this.afterTick.next(),Ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sc,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<u5;)Ue(14),this.synchronizeOnce(),Ue(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)d5(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hp(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;hp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ng,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new X(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function d5(n,e,t,r){if(!t&&!Hp(n))return;XR(n,e,t&&!r?0:1)}function Qu(n,e,t,r){let i=Ne(),o=zp();if(Zs(i,o,e)){let s=Ht(),a=W0();gH(a,i,n,e,t,r)}return Qu}function h5(n,e,t,r){return Zs(n,zp(),t)?e+wc(t)+r:Hi}function f5(n,e,t,r,i,o){let s=M3(),a=p1(n,s,t,i);return qM(2),a?e+wc(t)+r+wc(i)+o:Hi}function ap(n,e){return n<<17|e<<2}function ea(n){return n>>17&32767}function p5(n){return(n&2)==2}function g5(n,e){return n&131071|e<<17}function E0(n){return n|2}function Mc(n){return(n&131068)>>2}function Pb(n,e){return n&-131069|e<<2}function m5(n){return(n&1)===1}function I0(n){return n|1}function y5(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ea(s),c=Mc(s);n[r]=t;let l=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Wu(h,u)>0)&&(l=!0)}else u=t;if(i)if(c!==0){let f=ea(n[a+1]);n[r+1]=ap(f,a),f!==0&&(n[f+1]=Pb(n[f+1],r)),n[a+1]=g5(n[a+1],r)}else n[r+1]=ap(a,0),a!==0&&(n[a+1]=Pb(n[a+1],r)),a=r;else n[r+1]=ap(c,0),a===0?a=r:n[c+1]=Pb(n[c+1],r),c=r;l&&(n[r+1]=E0(n[r+1])),XA(n,u,r,!0),XA(n,u,r,!1),v5(e,u,n,r,o),s=ap(a,c),o?e.classBindings=s:e.styleBindings=s}function v5(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wu(o,e)>=0&&(t[r+1]=I0(t[r+1]))}function XA(n,e,t,r){let i=n[t+1],o=e===null,s=r?ea(i):Mc(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];_5(c,e)&&(a=!0,n[s+1]=r?I0(l):E0(l)),s=r?ea(l):Mc(l)}a&&(n[t+1]=r?E0(i):I0(i))}function _5(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wu(n,e)>=0:!1}function Q(n,e,t){let r=Ne(),i=zp();if(Zs(r,i,e)){let o=Ht(),s=W0();$R(o,s,r,n,e,r[Dt],t,!1)}return Q}function ZA(n,e,t,r,i){hw(e,n,t,i?"class":"style",r)}function rr(n,e){return b5(n,e,null,!0),rr}function b5(n,e,t,r){let i=Ne(),o=Ht(),s=qM(2);if(o.firstUpdatePass&&E5(o,n,s,r),e!==Hi&&Zs(i,s,e)){let a=o.data[ra()];S5(o,a,i,i[Dt],n,i[s+1]=x5(e,t),r,s)}}function w5(n,e){return e>=n.expandoStartIndex}function E5(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ra()],s=w5(n,t);A5(o,r)&&e===null&&!s&&(e=!1),e=I5(i,o,e,r),y5(i,o,e,t,s,r)}}function I5(n,e,t,r){let i=O3(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Nb(null,n,e,t,r),t=zu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Nb(i,n,e,t,r),o===null){let c=C5(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Nb(null,n,e,c[1],r),c=zu(c,e.attrs,r),D5(n,e,r,c))}else o=T5(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function C5(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Mc(r)!==0)return n[ea(r)]}function D5(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ea(i)]=r}function T5(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=zu(r,s,t)}return zu(r,e.attrs,t)}function Nb(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=zu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function zu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Y$(n,s,t?!0:e[++o]))}return n===void 0?null:n}function S5(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],u=m5(l)?JA(c,e,t,i,Mc(l),s):void 0;if(!Op(u)){Op(o)||p5(l)&&(o=JA(c,null,t,i,a,s));let h=FM(ra(),t);FH(r,s,h,i,o)}}function JA(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,f=t[i+1];f===Hi&&(f=h?Jn:void 0);let p=h?Ib(f,r):u===r?f:void 0;if(l&&!Op(p)&&(p=Ib(c,r)),Op(p)&&(a=p,s))return a;let y=n[i+1];i=s?ea(y):Mc(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ib(c,r))}return a}function Op(n){return n!==void 0}function x5(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Tn(Kp(n)))),n}function A5(n,e){return(n.flags&(e?8:16))!==0}function A(n,e,t,r){let i=Ne(),o=Ht(),s=$n+n,a=i[Dt],c=o.firstCreatePass?s1(s,o,i,e,dw,B0(),t,r):o.data[s],l=M5(o,i,c,a,e,n);i[s]=l;let u=$p(c);return na(c,!0),LR(a,l,c),!HR(c)&&qp()&&Xp(o,i,l,c),(w3()===0||u)&&Oc(l,i),E3(),u&&(Qp(o,i,c),iw(o,c,i)),r!==null&&uw(i,c),A}function T(){let n=vn();$0()?HM():(n=n.parent,na(n,!1));let e=n;D3(e)&&T3(),I3();let t=Ht();return t.firstCreatePass&&a1(t,e),e.classesWithoutHost!=null&&B3(e)&&ZA(t,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$3(e)&&ZA(t,e,Ne(),e.stylesWithoutHost,!1),T}function ae(n,e,t,r){return A(n,e,t,r),T(),ae}var M5=(n,e,t,r,i,o)=>(Wp(!0),OR(r,i,V3()));function R5(n,e,t,r,i){let o=e.consts,s=Dc(o,r),a=eg(e,n,8,"ng-container",s);s!==null&&d0(a,s,!0);let c=Dc(o,i);return B0()&&vw(e,t,a,c,dw),a.mergedAttrs=Tc(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Xu(n,e,t){let r=Ne(),i=Ht(),o=n+$n,s=i.firstCreatePass?R5(o,i,r,e,t):i.data[o];na(s,!0);let a=P5(i,r,s,n);return r[o]=a,qp()&&Xp(i,r,a,s),Oc(a,r),$p(s)&&(Qp(i,r,s),iw(i,s,r)),t!=null&&uw(r,s),Xu}function Zu(){let n=vn(),e=Ht();return $0()?HM():(n=n.parent,na(n,!1)),e.firstCreatePass&&(G0(e,n),L0(n)&&e.queries.elementEnd(n)),Zu}var P5=(n,e,t,r)=>(Wp(!0),eH(e[Dt],""));function It(){return Ne()}var Vs=void 0;function N5(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var k5=["en",[["a","p"],["AM","PM"],Vs],[["AM","PM"],Vs,Vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vs,"{1} 'at' {0}",Vs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",N5],kb={};function Mn(n){let e=O5(n),t=eM(e);if(t)return t;let r=e.split("-")[0];if(t=eM(r),t)return t;if(r==="en")return k5;throw new X(701,!1)}function eM(n){return n in kb||(kb[n]=js.ng&&js.ng.common&&js.ng.common.locales&&js.ng.common.locales[n]),kb[n]}var ft=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(ft||{});function O5(n){return n.toLowerCase().replace(/_/g,"-")}var Fp="en-US",F5="USD";var L5=Fp;function V5(n){typeof n=="string"&&(L5=n.toLowerCase().replace(/_/g,"-"))}function tM(n,e,t){return function r(i){if(i===Function)return t;let o=Pc(n)?Xr(n.index,e):e;yw(o,5);let s=e[Sn],a=nM(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=nM(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function nM(n,e,t,r){let i=Te(null);try{return Ue(6,e,t),t(r)!==!1}catch(o){return j5(n,o),!1}finally{Ue(7,e,t),Te(i)}}function j5(n,e){let t=n[Ic],r=t?t.get(Zr,null):null;r&&r.handleError(e)}function rM(n,e,t,r,i,o){let s=e[t],a=e[_e],l=a.data[t].outputs[r],u=s[l],h=a.firstCreatePass?U0(a):null,f=j0(e),p=u.subscribe(o),y=f.length;f.push(o,p),h&&h.push(i,n.index,y,-(y+1))}function ne(n,e,t,r){let i=Ne(),o=Ht(),s=vn();return b1(o,i,i[Dt],s,n,e,r),ne}function U5(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[bp],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function b1(n,e,t,r,i,o,s){let a=$p(r),l=n.firstCreatePass?U0(n):null,u=j0(e),h=!0;if(r.type&3||s){let f=ei(r,e),p=s?s(f):f,y=u.length,v=s?S=>s(Qr(S[r.index])):r.index,_=null;if(!s&&a&&(_=U5(n,e,i,r.index)),_!==null){let S=_.__ngLastListenerFn__||_;S.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,h=!1}else{o=tM(r,e,o),A4(e,p,i,o);let S=t.listen(p,i,o);u.push(o,S),l&&l.push(i,v,y,y+1)}}else o=tM(r,e,o);if(h){let f=r.outputs?.[i],p=r.hostDirectiveOutputs?.[i];if(p&&p.length)for(let y=0;y<p.length;y+=2){let v=p[y],_=p[y+1];rM(r,e,v,_,i,o)}if(f&&f.length)for(let y of f)rM(r,e,y,i,i,o)}}function oe(n=1){return L3(n)}function w1(n,e,t){Vz(n,e,t)}function Ew(n){let e=Ne(),t=Ht(),r=WM();H0(r+1);let i=_w(t,r);if(n.dirty&&m3(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Bz(e,r);n.reset(o,d4),n.notifyOnChanges()}return!0}return!1}function Iw(){return Fz(Ne(),WM())}function rg(n){let e=x3();return VM(e,$n+n)}function N(n,e=""){let t=Ne(),r=Ht(),i=n+$n,o=r.firstCreatePass?eg(r,i,1,e,null):r.data[i],s=B5(r,t,o,e,n);t[i]=s,qp()&&Xp(r,t,s,o),na(o,!1)}var B5=(n,e,t,r,i)=>(Wp(!0),Z4(e[Dt],r));function Oe(n){return ti("",n,""),Oe}function ti(n,e,t){let r=Ne(),i=h5(r,n,e,t);return i!==Hi&&E1(r,ra(),i),ti}function Cw(n,e,t,r,i){let o=Ne(),s=f5(o,n,e,t,r,i);return s!==Hi&&E1(o,ra(),s),Cw}function E1(n,e,t){let r=FM(e,n);J4(n[Dt],r,t)}function zn(n,e,t){yR(e)&&(e=e());let r=Ne(),i=zp();if(Zs(r,i,e)){let o=Ht(),s=W0();$R(o,s,r,n,e,r[Dt],t,!1)}return zn}function ir(n,e){let t=yR(n);return t&&n.set(e),t}function qn(n,e){let t=Ne(),r=Ht(),i=vn();return b1(r,t,t[Dt],i,n,e),qn}function $5(n,e,t){let r=Ht();if(r.firstCreatePass){let i=Yr(n);C0(t,r.data,r.blueprint,i,!0),C0(e,r.data,r.blueprint,i,!1)}}function C0(n,e,t,r,i){if(n=yn(n),Array.isArray(n))for(let o=0;o<n.length;o++)C0(n[o],e,t,r,i);else{let o=Ht(),s=Ne(),a=vn(),c=Ec(n)?n:yn(n.provide),l=xM(n),u=a.providerIndexes&1048575,h=a.directiveStart,f=a.providerIndexes>>20;if(Ec(n)||!n.multi){let p=new Ys(l,i,q),y=Fb(c,e,i?u:u+f,h);y===-1?(Kb(Sp(a,s),o,c),Ob(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(p),s.push(p)):(t[y]=p,s[y]=p)}else{let p=Fb(c,e,u+f,h),y=Fb(c,e,u,u+f),v=p>=0&&t[p],_=y>=0&&t[y];if(i&&!_||!i&&!v){Kb(Sp(a,s),o,c);let S=q5(i?z5:H5,t.length,i,r,l);!i&&_&&(t[y].providerFactory=S),Ob(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else{let S=I1(t[i?y:p],l,!i&&r);Ob(o,n,p>-1?p:y,S)}!i&&r&&_&&t[y].componentProviders++}}}function Ob(n,e,t,r){let i=Ec(e),o=r3(e);if(i||o){let c=(o?yn(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(t);u===-1?l.push(t,[r,c]):l[u+1].push(r,c)}else l.push(t,c)}}}function I1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function H5(n,e,t,r,i){return D0(this.multi,[])}function z5(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=$u(r,r[_e],this.providerFactory.index,i);s=c.slice(0,a),D0(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],D0(o,s);return s}function D0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function q5(n,e,t,r,i){let o=new Ys(n,t,q);return o.multi=[],o.index=e,o.componentProviders=0,I1(o,i,r&&!t),o}function ni(n,e=[]){return t=>{t.providersResolver=(r,i)=>$5(r,i?i(n):n,e)}}function W5(n,e){let t=n[e];return t===Hi?void 0:t}function G5(n,e,t,r,i,o,s){let a=e+t;return p1(n,a,i,o)?n5(n,a+2,s?r.call(s,i,o):r(i,o)):W5(n,a+2)}function bn(n,e){let t=Ht(),r,i=n+$n;t.firstCreatePass?(r=K5(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=$s(r.type,!0)),s,a=Dn(q);try{let c=Tp(!1),l=o();return Tp(c),g3(t,Ne(),i,l),l}finally{Dn(a)}}function K5(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wn(n,e,t,r){let i=n+$n,o=Ne(),s=VM(o,i);return Y5(o,i)?G5(o,A3(),e,s.transform,t,r,s):s.transform(t,r)}function Y5(n,e){return n[_e].data[e].pure}function C1(n,e){return Jp(n,e)}var ta=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},D1=new ta("19.2.15"),T0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},T1=(()=>{class n{compileModuleSync(t){return new b0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=CM(t),o=NR(i.declarations).reduce((s,a)=>{let c=zs(a);return c&&s.push(new xc(c)),s},[]);return new T0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q5=(()=>{class n{zone=U(Ae);changeDetectionScheduler=U(Qs);applicationRef=U(Js);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X5=new G("",{factory:()=>!1});function S1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ae(ie(z({},A1()),{scheduleInRootZone:t})),[{provide:Ae,useFactory:n},{provide:ju,multi:!0,useFactory:()=>{let r=U(Q5,{optional:!0});return()=>r.initialize()}},{provide:ju,multi:!0,useFactory:()=>{let r=U(Z5);return()=>{r.initialize()}}},e===!0?{provide:hR,useValue:!0}:[],{provide:fR,useValue:t??dR}]}function x1(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=S1({ngZoneFactory:()=>{let i=A1(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Lc("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return nr([{provide:X5,useValue:!0},{provide:Q0,useValue:!1},r])}function A1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Z5=(()=>{class n{subscription=new yt;initialized=!1;zone=U(Ae);pendingTasks=U($i);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J5=(()=>{class n{appRef=U(Js);taskService=U($i);ngZone=U(Ae);zonelessEnabled=U(Q0);tracing=U(Fc,{optional:!0});disableScheduling=U(hR,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ap):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(U(fR,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jb||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?kA:pR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ap+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e6(){return typeof $localize<"u"&&$localize.locale||Fp}var Ju=new G("",{providedIn:"root",factory:()=>U(Ju,ye.Optional|ye.SkipSelf)||e6()}),M1=new G("",{providedIn:"root",factory:()=>F5});var S0=new G(""),t6=new G("");function Ou(n){return!n.moduleRef}function n6(n){let e=Ou(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ae);return t.run(()=>{Ou(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Zr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ou(n)){let o=()=>e.destroy(),s=n.platformInjector.get(S0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(S0);s.add(o),n.moduleRef.onDestroy(()=>{hp(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return i6(r,t,()=>{let o=e.get(_1);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ju,Fp);if(V5(s||Fp),!e.get(t6,!0))return Ou(n)?e.get(Js):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ou(n)){let c=e.get(Js);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return r6(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function r6(n,e){let t=n.injector.get(Js);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new X(-403,!1);e.push(n)}function i6(n,e,t){try{let r=t();return sa(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var fp=null;function o6(n=[],e){return Tt.create({name:e,providers:[{provide:Up,useValue:"platform"},{provide:S0,useValue:new Set([()=>fp=null])},...n]})}function s6(n=[]){if(fp)return fp;let e=o6(n);return fp=e,c5(),a6(e),e}function a6(n){let e=n.get(ew,null);it(n,()=>{e?.forEach(t=>t())})}function Dw(){return!1}var aa=(()=>{class n{static __NG_ELEMENT_ID__=c6}return n})();function c6(n){return l6(vn(),Ne(),(n&16)===16)}function l6(n,e,t){if(Pc(n)&&!t){let r=Xr(n.index,e);return new Hu(r,r)}else if(n.type&175){let r=e[Kr];return new Hu(r,e)}return null}var x0=class{constructor(){}supports(e){return f1(e)}create(e){return new A0(e)}},u6=(n,e)=>e,A0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||u6}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<iM(r,i,o)?t:r,a=iM(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let p=f<o.length?o[f]:o[f]=0,y=p+f;u<=y&&y<l&&(o[f]=p+1)}let h=s.previousIndex;o[h]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!f1(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,e5(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new M0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Lp),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Lp),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},M0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},R0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Lp=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new R0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iM(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function oM(){return new Tw([new x0])}var Tw=(()=>{class n{factories;static \u0275prov=K({token:n,providedIn:"root",factory:oM});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||oM()),deps:[[n,new q$,new Hn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new X(901,!1)}}return n})();function R1(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ue(8);try{let o=i?.injector??s6(r),s=[S1({}),{provide:Qs,useExisting:J5},...t||[]],a=new kp({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return n6({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ue(9)}}function Oo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Rr(n){return rb(n)}function qi(n,e){return J_(n,e?.equal)}var sM=class{[Zn];constructor(e){this[Zn]=e}destroy(){this[Zn].destroy()}};function P1(n){let e=zs(n);if(!e)return null;let t=new xc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var xt=new G("");var O1=null;function or(){return O1}function Sw(n){O1??=n}var ed=class{},td=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(F1),providedIn:"platform"})}return n})(),xw=new G(""),F1=(()=>{class n extends td{_location;_history;_doc=U(xt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return or().getBaseHref(this._doc)}onPopState(t){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=or().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ig(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function N1(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Pr(n){return n&&n[0]!=="?"?`?${n}`:n}var Nr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(sg),providedIn:"root"})}return n})(),og=new G(""),sg=(()=>{class n extends Nr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ig(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(td),J(og,8))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fo=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=f6(N1(k1(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pr(r))}normalize(t){return n.stripTrailingSlash(h6(this._basePath,k1(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Pr;static joinWithSlash=ig;static stripTrailingSlash=N1;static \u0275fac=function(r){return new(r||n)(J(Nr))};static \u0275prov=K({token:n,factory:()=>d6(),providedIn:"root"})}return n})();function d6(){return new Fo(J(Nr))}function h6(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function k1(n){return n.replace(/\/index.html$/,"")}function f6(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var kw=(()=>{class n extends Nr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=ig(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(J(td),J(og,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),$1={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Ow=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Ow||{});var cn=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(cn||{}),$e=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}($e||{}),Rn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Rn||{}),Pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function H1(n){return Mn(n)[ft.LocaleId]}function z1(n,e,t){let r=Mn(n),i=[r[ft.DayPeriodsFormat],r[ft.DayPeriodsStandalone]],o=sr(i,e);return sr(o,t)}function q1(n,e,t){let r=Mn(n),i=[r[ft.DaysFormat],r[ft.DaysStandalone]],o=sr(i,e);return sr(o,t)}function W1(n,e,t){let r=Mn(n),i=[r[ft.MonthsFormat],r[ft.MonthsStandalone]],o=sr(i,e);return sr(o,t)}function G1(n,e){let r=Mn(n)[ft.Eras];return sr(r,e)}function nd(n,e){let t=Mn(n);return sr(t[ft.DateFormat],e)}function rd(n,e){let t=Mn(n);return sr(t[ft.TimeFormat],e)}function id(n,e){let r=Mn(n)[ft.DateTimeFormat];return sr(r,e)}function ri(n,e){let t=Mn(n),r=t[ft.NumberSymbols][e];if(typeof r>"u"){if(e===Pn.CurrencyDecimal)return t[ft.NumberSymbols][Pn.Decimal];if(e===Pn.CurrencyGroup)return t[ft.NumberSymbols][Pn.Group]}return r}function K1(n,e){return Mn(n)[ft.NumberFormats][e]}function p6(n){return Mn(n)[ft.Currencies]}function Y1(n){if(!n[ft.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ft.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Q1(n){let e=Mn(n);return Y1(e),(e[ft.ExtraData][2]||[]).map(r=>typeof r=="string"?Aw(r):[Aw(r[0]),Aw(r[1])])}function X1(n,e,t){let r=Mn(n);Y1(r);let i=[r[ft.ExtraData][0],r[ft.ExtraData][1]],o=sr(i,e)||[];return sr(o,t)||[]}function sr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Aw(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function Z1(n,e,t="en"){let r=p6(t)[n]||$1[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var g6=2;function J1(n){let e,t=$1[n];return t&&(e=t[2]),typeof e=="number"?e:g6}var m6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ag={},y6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function eP(n,e,t,r){let i=T6(n);e=Wi(t,e)||e;let s=[],a;for(;e;)if(a=y6.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=nP(r,c),i=D6(i,r));let l="";return s.forEach(u=>{let h=I6(u);l+=h?h(i,t,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function hg(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Wi(n,e){let t=H1(n);if(ag[t]??={},ag[t][e])return ag[t][e];let r="";switch(e){case"shortDate":r=nd(n,Rn.Short);break;case"mediumDate":r=nd(n,Rn.Medium);break;case"longDate":r=nd(n,Rn.Long);break;case"fullDate":r=nd(n,Rn.Full);break;case"shortTime":r=rd(n,Rn.Short);break;case"mediumTime":r=rd(n,Rn.Medium);break;case"longTime":r=rd(n,Rn.Long);break;case"fullTime":r=rd(n,Rn.Full);break;case"short":let i=Wi(n,"shortTime"),o=Wi(n,"shortDate");r=cg(id(n,Rn.Short),[i,o]);break;case"medium":let s=Wi(n,"mediumTime"),a=Wi(n,"mediumDate");r=cg(id(n,Rn.Medium),[s,a]);break;case"long":let c=Wi(n,"longTime"),l=Wi(n,"longDate");r=cg(id(n,Rn.Long),[c,l]);break;case"full":let u=Wi(n,"fullTime"),h=Wi(n,"fullDate");r=cg(id(n,Rn.Full),[u,h]);break}return r&&(ag[t][e]=r),r}function cg(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function kr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function v6(n,e){return kr(n,3).substring(0,e)}function At(n,e,t=0,r=!1,i=!1){return function(o,s){let a=_6(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return v6(a,e);let c=ri(s,Pn.MinusSign);return kr(a,e,c,r,i)}}function _6(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ze(n,e,t=cn.Format,r=!1){return function(i,o){return b6(i,o,n,e,t,r)}}function b6(n,e,t,r,i,o){switch(t){case 2:return W1(e,i,r)[n.getMonth()];case 1:return q1(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=Q1(e),u=X1(e,i,r),h=l.findIndex(f=>{if(Array.isArray(f)){let[p,y]=f,v=s>=p.hours&&a>=p.minutes,_=s<y.hours||s===y.hours&&a<y.minutes;if(p.hours<y.hours){if(v&&_)return!0}else if(v||_)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(h!==-1)return u[h]}return z1(e,i,r)[s<12?0:1];case 3:return G1(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function lg(n){return function(e,t,r){let i=-1*r,o=ri(t,Pn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+kr(s,2,o)+kr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+kr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+kr(s,2,o)+":"+kr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+kr(s,2,o)+":"+kr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var w6=0,dg=4;function E6(n){let e=hg(n,w6,1).getDay();return hg(n,0,1+(e<=dg?dg:dg+7)-e)}function tP(n){let e=n.getDay(),t=e===0?-3:dg-e;return hg(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Mw(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=tP(t),s=E6(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return kr(i,n,ri(r,Pn.MinusSign))}}function ug(n,e=!1){return function(t,r){let o=tP(t).getFullYear();return kr(o,n,ri(r,Pn.MinusSign),e)}}var Rw={};function I6(n){if(Rw[n])return Rw[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ze(3,$e.Abbreviated);break;case"GGGG":e=Ze(3,$e.Wide);break;case"GGGGG":e=Ze(3,$e.Narrow);break;case"y":e=At(0,1,0,!1,!0);break;case"yy":e=At(0,2,0,!0,!0);break;case"yyy":e=At(0,3,0,!1,!0);break;case"yyyy":e=At(0,4,0,!1,!0);break;case"Y":e=ug(1);break;case"YY":e=ug(2,!0);break;case"YYY":e=ug(3);break;case"YYYY":e=ug(4);break;case"M":case"L":e=At(1,1,1);break;case"MM":case"LL":e=At(1,2,1);break;case"MMM":e=Ze(2,$e.Abbreviated);break;case"MMMM":e=Ze(2,$e.Wide);break;case"MMMMM":e=Ze(2,$e.Narrow);break;case"LLL":e=Ze(2,$e.Abbreviated,cn.Standalone);break;case"LLLL":e=Ze(2,$e.Wide,cn.Standalone);break;case"LLLLL":e=Ze(2,$e.Narrow,cn.Standalone);break;case"w":e=Mw(1);break;case"ww":e=Mw(2);break;case"W":e=Mw(1,!0);break;case"d":e=At(2,1);break;case"dd":e=At(2,2);break;case"c":case"cc":e=At(7,1);break;case"ccc":e=Ze(1,$e.Abbreviated,cn.Standalone);break;case"cccc":e=Ze(1,$e.Wide,cn.Standalone);break;case"ccccc":e=Ze(1,$e.Narrow,cn.Standalone);break;case"cccccc":e=Ze(1,$e.Short,cn.Standalone);break;case"E":case"EE":case"EEE":e=Ze(1,$e.Abbreviated);break;case"EEEE":e=Ze(1,$e.Wide);break;case"EEEEE":e=Ze(1,$e.Narrow);break;case"EEEEEE":e=Ze(1,$e.Short);break;case"a":case"aa":case"aaa":e=Ze(0,$e.Abbreviated);break;case"aaaa":e=Ze(0,$e.Wide);break;case"aaaaa":e=Ze(0,$e.Narrow);break;case"b":case"bb":case"bbb":e=Ze(0,$e.Abbreviated,cn.Standalone,!0);break;case"bbbb":e=Ze(0,$e.Wide,cn.Standalone,!0);break;case"bbbbb":e=Ze(0,$e.Narrow,cn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ze(0,$e.Abbreviated,cn.Format,!0);break;case"BBBB":e=Ze(0,$e.Wide,cn.Format,!0);break;case"BBBBB":e=Ze(0,$e.Narrow,cn.Format,!0);break;case"h":e=At(3,1,-12);break;case"hh":e=At(3,2,-12);break;case"H":e=At(3,1);break;case"HH":e=At(3,2);break;case"m":e=At(4,1);break;case"mm":e=At(4,2);break;case"s":e=At(5,1);break;case"ss":e=At(5,2);break;case"S":e=At(6,1);break;case"SS":e=At(6,2);break;case"SSS":e=At(6,3);break;case"Z":case"ZZ":case"ZZZ":e=lg(0);break;case"ZZZZZ":e=lg(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lg(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=lg(2);break;default:return null}return Rw[n]=e,e}function nP(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function C6(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function D6(n,e,t){let i=n.getTimezoneOffset(),o=nP(e,i);return C6(n,-1*(o-i))}function T6(n){if(L1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return hg(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(m6))return S6(r)}let e=new Date(n);if(!L1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function S6(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,c,l),e}function L1(n){return n instanceof Date&&!isNaN(n.valueOf())}var x6=/^(\d+)?\.((\d+)(-(\d+))?)?$/,V1=22,fg=".",od="0",A6=";",M6=",",Pw="#",j1="\xA4";function R6(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=ri(t,Pn.Infinity);else{let l=k6(n);s&&(l=N6(l));let u=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){let R=o.match(x6);if(R===null)throw new Error(`${o} is not a valid digit info`);let O=R[1],V=R[3],L=R[5];O!=null&&(u=Nw(O)),V!=null&&(h=Nw(V)),L!=null?f=Nw(L):V!=null&&h>f&&(f=h)}O6(l,h,f);let p=l.digits,y=l.integerLen,v=l.exponent,_=[];for(c=p.every(R=>!R);y<u;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?_=p.splice(y,p.length):(_=p,p=[0]);let S=[];for(p.length>=e.lgSize&&S.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)S.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&S.unshift(p.join("")),a=S.join(ri(t,r)),_.length&&(a+=ri(t,i)+_.join("")),v&&(a+=ri(t,Pn.Exponential)+"+"+v)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function rP(n,e,t,r,i){let o=K1(e,Ow.Currency),s=P6(o,ri(e,Pn.MinusSign));return s.minFrac=J1(r),s.maxFrac=s.minFrac,R6(n,s,e,Pn.CurrencyGroup,Pn.CurrencyDecimal,i).replace(j1,t).replace(j1,"").trim()}function P6(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(A6),i=r[0],o=r[1],s=i.indexOf(fg)!==-1?i.split(fg):[i.substring(0,i.lastIndexOf(od)+1),i.substring(i.lastIndexOf(od)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Pw));for(let u=0;u<c.length;u++){let h=c.charAt(u);h===od?t.minFrac=t.maxFrac=u+1:h===Pw?t.maxFrac=u+1:t.posSuf+=h}let l=a.split(M6);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let u=i.length-t.posPre.length-t.posSuf.length,h=o.indexOf(Pw);t.negPre=o.substring(0,h).replace(/'/g,""),t.negSuf=o.slice(h+u).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function N6(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function k6(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(fg))>-1&&(e=e.replace(fg,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===od;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===od;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>V1&&(r=r.splice(0,V1-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function O6(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let h=s;h<r.length;h++)r[h]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let h=1;h<s;h++)r[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,u=r.reduceRight(function(h,f,p,y){return f=f+h,y[p]=f<10?f:f-10,c&&(y[p]===0&&p>=l?y.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),n.integerLen++)}function Nw(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var pg=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ar=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),U1(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);U1(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(ko),q(Xs),q(Tw))};static \u0275dir=Ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function U1(n,e){n.context.$implicit=e.item}var Vt=(()=>{class n{_viewContainer;_context=new gg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){B1(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){B1(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(q(ko),q(Xs))};static \u0275dir=Ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),gg=class{$implicit=null;ngIf=null};function B1(n,e){if(n&&!n.createEmbeddedView)throw new X(2020,!1)}function iP(n,e){return new X(2100,!1)}var F6="mediumDate",oP=new G(""),sP=new G(""),Fw=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??F6,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return eP(t,s,o||this.locale,a)}catch(s){throw iP(n,s.message)}}static \u0275fac=function(r){return new(r||n)(q(Ju,16),q(oP,24),q(sP,24))};static \u0275pipe=Yu({name:"date",type:n,pure:!0})}return n})();var ca=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!L6(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=Z1(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=V6(t);return rP(c,s,a,r,o)}catch(c){throw iP(n,c.message)}}static \u0275fac=function(r){return new(r||n)(q(Ju,16),q(M1,16))};static \u0275pipe=Yu({name:"currency",type:n,pure:!0})}return n})();function L6(n){return!(n==null||n===""||n!==n)}function V6(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Je=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=xr({})}return n})();function sd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Lw="browser",aP="server";function mg(n){return n===aP}var la=class{};var cP=(()=>{class n{static \u0275prov=K({token:n,providedIn:"root",factory:()=>new Vw(U(xt),window)})}return n})(),Vw=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=j6(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function j6(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _g=new G(""),$w=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(J(_g),J(Ae))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),ad=class{_doc;constructor(e){this._doc=e}manager},yg="ng-app-id";function lP(n){for(let e of n)e.remove()}function uP(n,e){let t=e.createElement("style");return t.textContent=n,t}function U6(n,e,t,r){let i=n.head?.querySelectorAll(`style[${yg}="${e}"],link[${yg}="${e}"]`);if(i)for(let o of i)o.removeAttribute(yg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Uw(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Hw=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=mg(o),U6(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,uP);r?.forEach(i=>this.addUsage(i,this.external,Uw))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(lP(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])lP(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,uP(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Uw(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(yg,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(J(xt),J(J0),J(tw,8),J(No))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),jw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},zw=/%COMP%/g;var hP="%COMP%",B6=`_nghost-${hP}`,$6=`_ngcontent-${hP}`,H6=!0,z6=new G("",{providedIn:"root",factory:()=>H6});function q6(n){return $6.replace(zw,n)}function W6(n){return B6.replace(zw,n)}function fP(n,e){return e.map(t=>t.replace(zw,n))}var qw=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=mg(a),this.defaultRenderer=new cd(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jr.ShadowDom&&(r=ie(z({},r),{encapsulation:Jr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof vg?i.applyToHost(t):i instanceof ld&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Jr.Emulated:o=new vg(c,l,r,this.appId,u,s,a,h,f);break;case Jr.ShadowDom:return new Bw(c,l,t,r,s,a,this.nonce,h,f);default:o=new ld(c,l,r,u,s,a,h,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(J($w),J(Hw),J(J0),J(z6),J(xt),J(No),J(Ae),J(tw),J(Fc,8))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),cd=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(jw[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(dP(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(dP(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=jw[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jw[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vi.DashCase|Vi.Important)?e.style.setProperty(t,r,i&Vi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=or().getGlobalEventTarget(this.doc,e),!e))throw new X(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function dP(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Bw=class extends cd{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=fP(i.id,u);for(let f of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}let h=i.getExternalStyles?.();if(h)for(let f of h){let p=Uw(f,o);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ld=class extends cd{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?fP(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vg=class extends ld{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,t,r,o,s,a,c,l,u),this.contentAttr=q6(u),this.hostAttr=W6(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var bg=class n extends ed{supportsDOMEvents=!0;static makeCurrent(){Sw(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=G6();return t==null?null:K6(t)}resetBaseElement(){ud=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return sd(document.cookie,e)}},ud=null;function G6(){return ud=ud||document.head.querySelector("base"),ud?ud.getAttribute("href"):null}function K6(n){return new URL(n,document.baseURI).pathname}var Y6=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),gP=(()=>{class n extends ad{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(J(xt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),pP=["alt","control","meta","shift"],Q6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},mP=(()=>{class n extends ad{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>or().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),pP.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Q6[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),pP.forEach(s=>{if(s!==i){let a=X6[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(J(xt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function Ww(n,e,t){return R1(z({rootComponent:n,platformRef:t?.platformRef},Z6(e)))}function Z6(n){return{appProviders:[...rq,...n?.providers??[]],platformProviders:nq}}function J6(){bg.makeCurrent()}function eq(){return new Zr}function tq(){return CR(document),document}var nq=[{provide:No,useValue:Lw},{provide:ew,useValue:J6,multi:!0},{provide:xt,useFactory:tq}];var rq=[{provide:Up,useValue:"root"},{provide:Zr,useFactory:eq},{provide:_g,useClass:gP,multi:!0,deps:[xt]},{provide:_g,useClass:mP,multi:!0,deps:[xt]},qw,Hw,$w,{provide:Sc,useExisting:qw},{provide:la,useClass:Y6},[]];var jc=class{},dd=class{},Lo=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Eg=class{encodeKey(e){return yP(e)}encodeValue(e){return yP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function iq(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var oq=/%(\d[a-f0-9])/gi,sq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yP(n){return encodeURIComponent(n).replace(oq,(e,t)=>sq[t]??e)}function wg(n){return`${n}`}var Gi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Eg,e.fromString){if(e.fromObject)throw new X(2805,!1);this.map=iq(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(wg):[wg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(wg(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(wg(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ig=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function aq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vP(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _P(n){return typeof Blob<"u"&&n instanceof Blob}function bP(n){return typeof FormData<"u"&&n instanceof FormData}function cq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var wP="Content-Type",EP="Accept",IP="X-Request-URL",CP="text/plain",DP="application/json",lq=`${DP}, ${CP}, */*`,Vc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(aq(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Lo,this.context??=new Ig,!this.params)this.params=new Gi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vP(this.body)||_P(this.body)||bP(this.body)||cq(this.body)?this.body:this.body instanceof Gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bP(this.body)?null:_P(this.body)?this.body.type||null:vP(this.body)?null:typeof this.body=="string"?CP:this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?DP:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new n(t,r,s,{params:u,headers:l,context:h,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},ua=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ua||{}),Uc=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Lo,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Cg=class n extends Uc{constructor(e={}){super(e)}type=ua.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hd=class n extends Uc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ua.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},fd=class extends Uc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uq=200,dq=204;function Gw(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ii=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Vc)o=t;else{let c;i.headers instanceof Lo?c=i.headers:c=new Lo(i.headers);let l;i.params&&(i.params instanceof Gi?l=i.params:l=new Gi({fromObject:i.params})),o=new Vc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=te(o).pipe(Wr(c=>this.handler.handle(c)));if(t instanceof Vc||i.observe==="events")return s;let a=s.pipe(on(c=>c instanceof hd));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(le(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new X(2806,!1);return c.body}));case"blob":return a.pipe(le(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new X(2807,!1);return c.body}));case"text":return a.pipe(le(c=>{if(c.body!==null&&typeof c.body!="string")throw new X(2808,!1);return c.body}));case"json":default:return a.pipe(le(c=>c.body))}case"response":return a;default:throw new X(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Gi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Gw(i,r))}post(t,r,i={}){return this.request("POST",t,Gw(i,r))}put(t,r,i={}){return this.request("PUT",t,Gw(i,r))}static \u0275fac=function(r){return new(r||n)(J(jc))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var hq=new G("");function fq(n,e){return e(n)}function pq(n,e,t){return(r,i)=>it(t,()=>e(r,o=>n(o,i)))}var TP=new G(""),SP=new G(""),xP=new G("",{providedIn:"root",factory:()=>!0});var Dg=(()=>{class n extends jc{backend;injector;chain=null;pendingTasks=U($i);contributeToStability=U(xP);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(TP),...this.injector.get(SP,[])]));this.chain=r.reduceRight((i,o)=>pq(i,o,this.injector),fq)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ls(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(J(dd),J(vt))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();var gq=/^\)\]\}',?\n/,mq=RegExp(`^${IP}:`,"m");function yq(n){return"responseURL"in n&&n.responseURL?n.responseURL:mq.test(n.getAllResponseHeaders())?n.getResponseHeader(IP):null}var Kw=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new X(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?qe(r.\u0275loadImpl()):te(null)).pipe(sn(()=>new ge(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,_)=>s.setRequestHeader(v,_.join(","))),t.headers.has(EP)||s.setRequestHeader(EP,lq),!t.headers.has(wP)){let v=t.detectContentTypeHeader();v!==null&&s.setRequestHeader(wP,v)}if(t.responseType){let v=t.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=s.statusText||"OK",_=new Lo(s.getAllResponseHeaders()),S=yq(s)||t.url;return c=new Cg({headers:_,status:s.status,statusText:v,url:S}),c},u=()=>{let{headers:v,status:_,statusText:S,url:R}=l(),O=null;_!==dq&&(O=typeof s.response>"u"?s.responseText:s.response),_===0&&(_=O?uq:0);let V=_>=200&&_<300;if(t.responseType==="json"&&typeof O=="string"){let L=O;O=O.replace(gq,"");try{O=O!==""?JSON.parse(O):null}catch(j){O=L,V&&(V=!1,O={error:j,text:O})}}V?(o.next(new hd({body:O,headers:v,status:_,statusText:S,url:R||void 0})),o.complete()):o.error(new fd({error:O,headers:v,status:_,statusText:S,url:R||void 0}))},h=v=>{let{url:_}=l(),S=new fd({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});o.error(S)},f=!1,p=v=>{f||(o.next(l()),f=!0);let _={type:ua.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),t.responseType==="text"&&s.responseText&&(_.partialText=s.responseText),o.next(_)},y=v=>{let _={type:ua.UploadProgress,loaded:v.loaded};v.lengthComputable&&(_.total=v.total),o.next(_)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:ua.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(J(la))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),AP=new G(""),vq="XSRF-TOKEN",_q=new G("",{providedIn:"root",factory:()=>vq}),bq="X-XSRF-TOKEN",wq=new G("",{providedIn:"root",factory:()=>bq}),pd=class{},Eq=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(J(xt),J(_q))};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function Iq(n,e){let t=n.url.toLowerCase();if(!U(AP)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=U(pd).getToken(),i=U(wq);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function Yw(...n){let e=[ii,Kw,Dg,{provide:jc,useExisting:Dg},{provide:dd,useFactory:()=>U(hq,{optional:!0})??U(Kw)},{provide:TP,useValue:Iq,multi:!0},{provide:AP,useValue:!0},{provide:pd,useClass:Eq}];for(let t of n)e.push(...t.\u0275providers);return nr(e)}var MP=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(J(xt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var me="primary",Sd=Symbol("RouteTitle"),tE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fa(n){return new tE(n)}function VP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Dq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!oi(n[t],e[t]))return!1;return!0}function oi(n,e){let t=n?nE(n):void 0,r=e?nE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!jP(n[i],e[i]))return!1;return!0}function nE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function jP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function UP(n){return n.length>0?n[n.length-1]:null}function $o(n){return mb(n)?n:sa(n)?qe(Promise.resolve(n)):te(n)}var Tq={exact:$P,subset:HP},BP={exact:Sq,subset:xq,ignored:()=>!0};function RP(n,e,t){return Tq[t.paths](n.root,e.root,t.matrixParams)&&BP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Sq(n,e){return oi(n,e)}function $P(n,e,t){if(!da(n.segments,e.segments)||!xg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!$P(n.children[r],e.children[r],t))return!1;return!0}function xq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jP(n[t],e[t]))}function HP(n,e,t){return zP(n,e,e.segments,t)}function zP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!da(i,t)||e.hasChildren()||!xg(i,t,r))}else if(n.segments.length===t.length){if(!da(n.segments,t)||!xg(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!HP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!da(n.segments,i)||!xg(n.segments,i,r)||!n.children[me]?!1:zP(n.children[me],e,o,r)}}function xg(n,e,t){return e.every((r,i)=>BP[t](n[i].parameters,r.parameters))}var ai=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fa(this.queryParams),this._queryParamMap}toString(){return Rq.serialize(this)}},Le=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ag(this)}},Vo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=fa(this.parameters),this._parameterMap}toString(){return WP(this)}};function Aq(n,e){return da(n,e)&&n.every((t,r)=>oi(t.parameters,e[r].parameters))}function da(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Mq(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}var pa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>new jo,providedIn:"root"})}return n})(),jo=class{parse(e){let t=new iE(e);return new ai(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${gd(e.root,!0)}`,r=kq(e.queryParams),i=typeof e.fragment=="string"?`#${Pq(e.fragment)}`:"";return`${t}${r}${i}`}},Rq=new jo;function Ag(n){return n.segments.map(e=>WP(e)).join("/")}function gd(n,e){if(!n.hasChildren())return Ag(n);if(e){let t=n.children[me]?gd(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${gd(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Mq(n,(r,i)=>i===me?[gd(n.children[me],!1)]:[`${i}:${gd(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${Ag(n)}/${t[0]}`:`${Ag(n)}/(${t.join("//")})`}}function qP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tg(n){return qP(n).replace(/%3B/gi,";")}function Pq(n){return encodeURI(n)}function rE(n){return qP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mg(n){return decodeURIComponent(n)}function PP(n){return Mg(n.replace(/\+/g,"%20"))}function WP(n){return`${rE(n.path)}${Nq(n.parameters)}`}function Nq(n){return Object.entries(n).map(([e,t])=>`;${rE(e)}=${rE(t)}`).join("")}function kq(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Tg(t)}=${Tg(i)}`).join("&"):`${Tg(t)}=${Tg(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Oq=/^[^\/()?;#]+/;function Xw(n){let e=n.match(Oq);return e?e[0]:""}var Fq=/^[^\/()?;=#]+/;function Lq(n){let e=n.match(Fq);return e?e[0]:""}var Vq=/^[^=?&#]+/;function jq(n){let e=n.match(Vq);return e?e[0]:""}var Uq=/^[^&#]+/;function Bq(n){let e=n.match(Uq);return e?e[0]:""}var iE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Le(e,t)),r}parseSegment(){let e=Xw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Vo(Mg(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Lq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Xw(this.remaining);i&&(r=i,this.capture(r))}e[Mg(t)]=Mg(r)}parseQueryParam(e){let t=jq(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Bq(this.remaining);s&&(r=s,this.capture(r))}let i=PP(t),o=PP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Xw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new X(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[me]:new Le([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function GP(n){return n.segments.length>0?new Le([],{[me]:n}):n}function KP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=KP(i);if(r===me&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Le(n.segments,e);return $q(t)}function $q(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new Le(n.segments.concat(e.segments),e.children)}return n}function Uo(n){return n instanceof ai}function YP(n,e,t=null,r=null){let i=QP(n);return XP(i,e,t,r)}function QP(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Le(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=GP(r);return e??i}function XP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Zw(i,i,i,t,r);let o=Hq(e);if(o.toRoot())return Zw(i,i,new Le([],{}),t,r);let s=zq(o,i,n),a=s.processChildren?yd(s.segmentGroup,s.index,o.commands):JP(s.segmentGroup,s.index,o.commands);return Zw(i,s.segmentGroup,a,t,r)}function Pg(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _d(n){return typeof n=="object"&&n!=null&&n.outlets}function Zw(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;n===e?s=t:s=ZP(n,e,t);let a=GP(KP(s));return new ai(a,o,i)}function ZP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=ZP(o,e,t)}),new Le(n.segments,r)}var Ng=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pg(r[0]))throw new X(4003,!1);let i=r.find(_d);if(i&&i!==UP(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Hq(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ng(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ng(t,e,r)}var Hc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function zq(n,e,t){if(n.isAbsolute)return new Hc(e,!0,0);if(!t)return new Hc(e,!1,NaN);if(t.parent===null)return new Hc(t,!0,0);let r=Pg(n.commands[0])?0:1,i=t.segments.length-1+r;return qq(t,i,n.numberOfDoubleDots)}function qq(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new X(4005,!1);i=r.segments.length}return new Hc(r,!1,i-o)}function Wq(n){return _d(n[0])?n[0].outlets:{[me]:n}}function JP(n,e,t){if(n??=new Le([],{}),n.segments.length===0&&n.hasChildren())return yd(n,e,t);let r=Gq(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Le(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new Le(n.segments.slice(r.pathIndex),n.children),yd(o,0,i)}else return r.match&&i.length===0?new Le(n.segments,{}):r.match&&!n.hasChildren()?oE(n,e,t):r.match?yd(n,0,i):oE(n,e,t)}function yd(n,e,t){if(t.length===0)return new Le(n.segments,{});{let r=Wq(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let o=yd(n.children[me],e,t);return new Le(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Le(n.segments,i)}}function Gq(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_d(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!kP(c,l,s))return o;r+=2}else{if(!kP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function oE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_d(o)){let c=Kq(o.outlets);return new Le(r,c)}if(i===0&&Pg(t[0])){let c=n.segments[e];r.push(new Vo(c.path,NP(t[0]))),i++;continue}let s=_d(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Pg(a)?(r.push(new Vo(s,NP(a))),i+=2):(r.push(new Vo(s,{})),i++)}return new Le(r,{})}function Kq(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=oE(new Le([],{}),0,r))}),e}function NP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function kP(n,e,t){return n==t.path&&oi(e,t.parameters)}var Rg="imperative",jt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(jt||{}),Gn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Bo=class extends Gn{type=jt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lr=class extends Gn{urlAfterRedirects;type=jt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Nn||{}),qc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(qc||{}),si=class extends Gn{reason;code;type=jt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ci=class extends Gn{reason;code;type=jt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Wc=class extends Gn{error;target;type=jt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bd=class extends Gn{urlAfterRedirects;state;type=jt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kg=class extends Gn{urlAfterRedirects;state;type=jt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Og=class extends Gn{urlAfterRedirects;state;shouldActivate;type=jt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fg=class extends Gn{urlAfterRedirects;state;type=jt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Gn{urlAfterRedirects;state;type=jt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vg=class{route;type=jt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{route;type=jt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ug=class{snapshot;type=jt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bg=class{snapshot;type=jt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{snapshot;type=jt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hg=class{snapshot;type=jt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gc=class{routerEvent;position;anchor;type=jt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wd=class{},Kc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Yq(n,e){return n.providers&&!n._injector&&(n._injector=Ku(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Or(n){return n.outlet||me}function Qq(n,e){let t=n.filter(r=>Or(r)===e);return t.push(...n.filter(r=>Or(r)!==e)),t}function xd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return xd(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ga(this.rootInjector)}},ga=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(J(vt))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qg=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=sE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=sE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=aE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return aE(e,this._root).map(t=>t.value)}};function sE(n,e){if(n===e.value)return e;for(let t of e.children){let r=sE(n,t);if(r)return r}return null}function aE(n,e){if(n===e.value)return[e];for(let t of e.children){let r=aE(n,t);if(r.length)return r.unshift(e),r}return[]}var Wn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function $c(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ed=class extends qg{snapshot;constructor(e,t){super(e),this.snapshot=t,gE(this,e)}toString(){return this.snapshot.toString()}};function eN(n){let e=Xq(n),t=new Lt([new Vo("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new ur(t,r,o,s,i,me,n,e.root);return a.snapshot=e.root,new Ed(new Wn(a,[]),e)}function Xq(n){let e={},t={},r={},i="",o=new ha([],e,r,i,t,me,n,null,{});return new Id("",new Wn(o,[]))}var ur=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(le(l=>l[Sd]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>fa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>fa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wg(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&nN(i)&&(r.resolve[Sd]=i.title),r}var ha=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Sd]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Id=class extends qg{url;constructor(e,t){super(t),this.url=e,gE(this,t)}toString(){return tN(this._root)}};function gE(n,e){e.value._routerState=n,e.children.forEach(t=>gE(n,t))}function tN(n){let e=n.children.length>0?` { ${n.children.map(tN).join(", ")} } `:"";return`${n.value}${e}`}function Jw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,oi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),oi(e.params,t.params)||n.paramsSubject.next(t.params),Dq(e.url,t.url)||n.urlSubject.next(t.url),oi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function cE(n,e){let t=oi(n.params,e.params)&&Aq(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||cE(n.parent,e.parent))}function nN(n){return typeof n.title=="string"||n.title===null}var rN=new G(""),Ad=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=me;activateEvents=new Be;deactivateEvents=new Be;attachEvents=new Be;detachEvents=new Be;routerOutletData=mR(void 0);parentContexts=U(ga);location=U(ko);changeDetector=U(aa);inputBinder=U(Md,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xn]})}return n})(),lE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ur?this.route:e===ga?this.childContexts:e===rN?this.outletData:this.parent.get(e,t)}},Md=new G(""),mE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ku([r.queryParams,r.params,r.data]).pipe(sn(([o,s,a],c)=>(a=z(z(z({},o),s),a),c===0?te(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=P1(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})(),yE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ae(0,"router-outlet")},dependencies:[Ad],encapsulation:2})}return n})();function vE(n){let e=n.children&&n.children.map(vE),t=e?ie(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=yE),t}function Zq(n,e,t){let r=Cd(n,e._root,t?t._root:void 0);return new Ed(r,e)}function Cd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=Jq(n,e,t);return new Wn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cd(n,a)),s}}let r=eW(e.value),i=e.children.map(o=>Cd(n,o));return new Wn(r,i)}}function Jq(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cd(n,r,i);return Cd(n,r)})}function eW(n){return new ur(new Lt(n.url),new Lt(n.params),new Lt(n.queryParams),new Lt(n.fragment),new Lt(n.data),n.outlet,n.component,n)}var Yc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},iN="ngNavigationCancelingError";function Gg(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=oN(!1,Nn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function oN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[iN]=!0,t.cancellationCode=e,t}function tW(n){return sN(n)&&Uo(n.url)}function sN(n){return!!n&&n[iN]}var nW=(n,e,t,r)=>le(i=>(new uE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),uE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=$c(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=$c(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=$c(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jw(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jw(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Kg=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},zc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function rW(n,e,t){let r=n._root,i=e?e._root:null;return md(r,i,t,[r.value])}function iW(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Xc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!fM(n)?n:e.get(n):r}function md(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$c(e);return n.children.forEach(s=>{oW(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vd(a,t.getContext(s),i)),i}function oW(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=sW(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Kg(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?md(n,e,a?a.children:null,r,i):md(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zc(a.outlet.component,s))}else s&&vd(e,a,i),i.canActivateChecks.push(new Kg(r)),o.component?md(n,null,a?a.children:null,r,i):md(n,null,t,r,i);return i}function sW(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!da(n.url,e.url);case"pathParamsOrQueryParamsChange":return!da(n.url,e.url)||!oi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cE(n,e)||!oi(n.queryParams,e.queryParams);case"paramsChange":default:return!cE(n,e)}}function vd(n,e,t){let r=$c(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?vd(s,e.children.getContext(o),t):vd(s,null,t):vd(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new zc(e.outlet.component,i)):t.canDeactivateChecks.push(new zc(null,i)):t.canDeactivateChecks.push(new zc(null,i))}function Rd(n){return typeof n=="function"}function aW(n){return typeof n=="boolean"}function cW(n){return n&&Rd(n.canLoad)}function lW(n){return n&&Rd(n.canActivate)}function uW(n){return n&&Rd(n.canActivateChild)}function dW(n){return n&&Rd(n.canDeactivate)}function hW(n){return n&&Rd(n.canMatch)}function aN(n){return n instanceof Cr||n?.name==="EmptyError"}var Sg=Symbol("INITIAL_VALUE");function Qc(){return sn(n=>ku(n.map(e=>e.pipe(ki(1),ip(Sg)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===Sg)return Sg;if(t===!1||fW(t))return t}return!0}),on(e=>e!==Sg),ki(1)))}function fW(n){return Uo(n)||n instanceof Yc}function pW(n,e){return Et(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?te(ie(z({},t),{guardsResult:!0})):gW(s,r,i,n).pipe(Et(a=>a&&aW(a)?mW(r,o,n,e):te(a)),le(a=>ie(z({},t),{guardsResult:a})))})}function gW(n,e,t,r){return qe(n).pipe(Et(i=>wW(i.component,i.route,t,e,r)),Oi(i=>i!==!0,!0))}function mW(n,e,t,r){return qe(e).pipe(Wr(i=>fc(vW(i.route.parent,r),yW(i.route,r),bW(n,i.path,t),_W(n,i.route,t))),Oi(i=>i!==!0,!0))}function yW(n,e){return n!==null&&e&&e(new $g(n)),te(!0)}function vW(n,e){return n!==null&&e&&e(new Ug(n)),te(!0)}function _W(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>ep(()=>{let s=xd(e)??t,a=Xc(o,s),c=lW(a)?a.canActivate(e,n):it(s,()=>a(e,n));return $o(c).pipe(Oi())}));return te(i).pipe(Qc())}function bW(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>iW(s)).filter(s=>s!==null).map(s=>ep(()=>{let a=s.guards.map(c=>{let l=xd(s.node)??t,u=Xc(c,l),h=uW(u)?u.canActivateChild(r,n):it(l,()=>u(r,n));return $o(h).pipe(Oi())});return te(a).pipe(Qc())}));return te(o).pipe(Qc())}function wW(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let c=xd(e)??i,l=Xc(a,c),u=dW(l)?l.canDeactivate(n,e,t,r):it(c,()=>l(n,e,t,r));return $o(u).pipe(Oi())});return te(s).pipe(Qc())}function EW(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=Xc(s,n),c=cW(a)?a.canLoad(e,t):it(n,()=>a(e,t));return $o(c)});return te(o).pipe(Qc(),cN(r))}function cN(n){return Nf(Qt(e=>{if(typeof e!="boolean")throw Gg(n,e)}),le(e=>e===!0))}function IW(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=Xc(s,n),c=hW(a)?a.canMatch(e,t):it(n,()=>a(e,t));return $o(c)});return te(o).pipe(Qc(),cN(r))}var Dd=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Td=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Bc(n){return dc(new Dd(n))}function CW(n){return dc(new X(4e3,!1))}function DW(n){return dc(oN(!1,Nn.GuardRejected))}var dE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return CW(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,params:p,data:y,title:v}=i,_=it(o,()=>a({params:p,data:y,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:f,title:v}));if(_ instanceof ai)throw new Td(_);t=_}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Td(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ai(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Le(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},hE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TW(n,e,t,r,i){let o=lN(n,e,t);return o.matched?(r=Yq(e,r),IW(r,e,t,i).pipe(le(s=>s===!0?o:z({},hE)))):te(o)}function lN(n,e,t){if(e.path==="**")return SW(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},hE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||VP)(t,n,e);if(!i)return z({},hE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SW(n){return{matched:!0,parameters:n.length>0?UP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function OP(n,e,t,r){return t.length>0&&MW(n,t,r)?{segmentGroup:new Le(e,AW(r,new Le(t,n.children))),slicedSegments:[]}:t.length===0&&RW(n,t,r)?{segmentGroup:new Le(n.segments,xW(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function xW(n,e,t,r){let i={};for(let o of t)if(Qg(n,e,o)&&!r[Or(o)]){let s=new Le([],{});i[Or(o)]=s}return z(z({},r),i)}function AW(n,e){let t={};t[me]=e;for(let r of n)if(r.path===""&&Or(r)!==me){let i=new Le([],{});t[Or(r)]=i}return t}function MW(n,e,t){return t.some(r=>Qg(n,e,r)&&Or(r)!==me)}function RW(n,e,t){return t.some(r=>Qg(n,e,r))}function Qg(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function PW(n,e,t){return e.length===0&&!n.children[t]}var fE=class{};function NW(n,e,t,r,i,o,s="emptyOnly"){return new pE(n,e,t,r,i,s,o).recognize()}var kW=31,pE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new dE(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=OP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new Wn(r,t),o=new Id("",i),s=YP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ha([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(le(r=>({children:r,rootSnapshot:t})),Dr(r=>{if(r instanceof Td)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dd?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Wn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return qe(o).pipe(Wr(s=>{let a=r.children[s],c=Qq(t,s);return this.processSegmentGroup(e,c,a,s,i)}),rp((s,a)=>(s.push(...a),s)),Mo(null),_b(),Et(s=>{if(s===null)return Bc(r);let a=uN(s);return OW(a),te(a)}))}processSegment(e,t,r,i,o,s,a){return qe(t).pipe(Wr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Dr(l=>{if(l instanceof Dd)return te(null);throw l}))),Oi(c=>!!c),Dr(c=>{if(aN(c))return PW(r,i,o)?te(new fE):Bc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Or(r)!==s&&(s===me||!Qg(i,o,r))?Bc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Bc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:f}=lN(t,i,o);if(!c)return Bc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kW&&(this.allowRedirects=!1));let p=new ha(o,l,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,FP(i),Or(i),i.component??i._loadedComponent??null,i,LP(i)),y=Wg(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(y.params),p.data=Object.freeze(y.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,v).pipe(Et(_=>this.processSegment(e,r,t,_.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=TW(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(sn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sn(({routes:l})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:f,remainingSegments:p}=c,y=new ha(f,h,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,FP(r),Or(r),r.component??r._loadedComponent??null,r,LP(r)),v=Wg(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let{segmentGroup:_,slicedSegments:S}=OP(t,f,p,l);if(S.length===0&&_.hasChildren())return this.processChildren(u,l,_,y).pipe(le(O=>new Wn(y,O)));if(l.length===0&&S.length===0)return te(new Wn(y,[]));let R=Or(r)===o;return this.processSegment(u,l,_,S,R?me:o,!0,y).pipe(le(O=>new Wn(y,O instanceof Wn?[O]:[])))}))):Bc(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?te({routes:t._loadedRoutes,injector:t._loadedInjector}):EW(e,t,r,this.urlSerializer).pipe(Et(i=>i?this.configLoader.loadChildren(e,t).pipe(Qt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):DW(t))):te({routes:[],injector:e})}};function OW(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function FW(n){let e=n.value.routeConfig;return e&&e.path===""}function uN(n){let e=[],t=new Set;for(let r of n){if(!FW(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=uN(r.children);e.push(new Wn(r.value,i))}return e.filter(r=>!t.has(r))}function FP(n){return n.data||{}}function LP(n){return n.resolve||{}}function LW(n,e,t,r,i,o){return Et(s=>NW(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:c})=>ie(z({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function VW(n,e){return Et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of dN(c))s.add(l);let a=0;return qe(s).pipe(Wr(c=>o.has(c)?jW(c,r,n,e):(c.data=Wg(c,c.parent,n).resolve,te(void 0))),Qt(()=>a++),pc(1),Et(c=>a===s.size?te(t):In))})}function dN(n){let e=n.children.map(t=>dN(t)).flat();return[n,...e]}function jW(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!nN(i)&&(o[Sd]=i.title),UW(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=Wg(n,n.parent,t).resolve,null)))}function UW(n,e,t,r){let i=nE(n);if(i.length===0)return te({});let o={};return qe(i).pipe(Et(s=>BW(n[s],e,t,r).pipe(Oi(),Qt(a=>{if(a instanceof Yc)throw Gg(new jo,a);o[s]=a}))),pc(1),le(()=>o),Dr(s=>aN(s)?In:dc(s)))}function BW(n,e,t,r){let i=xd(e)??r,o=Xc(n,i),s=o.resolve?o.resolve(e,t):it(i,()=>o(e,t));return $o(s)}function eE(n){return sn(e=>{let t=n(e);return t?qe(t).pipe(le(()=>e)):te(e)})}var _E=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[Sd]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(hN),providedIn:"root"})}return n})(),hN=(()=>{class n extends _E{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(J(MP))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ma=new G("",{providedIn:"root",factory:()=>({})}),ya=new G(""),Xg=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=U(T1);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=$o(t.loadComponent()).pipe(le(pN),Qt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ls(()=>{this.componentLoaders.delete(t)})),i=new ac(r,()=>new rt).pipe(sc());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fN(r,this.compiler,t,this.onLoadEndListener).pipe(Ls(()=>{this.childrenLoaders.delete(r)})),s=new ac(o,()=>new rt).pipe(sc());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fN(n,e,t,r){return $o(n.loadChildren()).pipe(le(pN),Et(i=>i instanceof bw||Array.isArray(i)?te(i):qe(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(ya,[],{optional:!0,self:!0}).flat()),{routes:s.map(vE),injector:o}}))}function $W(n){return n&&typeof n=="object"&&"default"in n}function pN(n){return $W(n)?n.default:n}var Zg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(HW),providedIn:"root"})}return n})(),HW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bE=new G(""),wE=new G("");function gN(n,e,t){let r=n.get(wE),i=n.get(xt);return n.get(Ae).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),zW(n))),{onViewTransitionCreated:c}=r;return c&&it(n,()=>c({transition:a,from:e,to:t})),s})}function zW(n){return new Promise(e=>{rw({read:()=>setTimeout(e)},{injector:n})})}var EE=new G(""),Jg=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=U(Xg);environmentInjector=U(vt);destroyRef=U(ia);urlSerializer=U(pa);rootContexts=U(ga);location=U(Fo);inputBindingEnabled=U(Md,{optional:!0})!==null;titleStrategy=U(_E);options=U(ma,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=U(Zg);createViewTransition=U(bE,{optional:!0});navigationErrorHandler=U(EE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Vg(i)),r=i=>this.events.next(new jg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ie(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Lt(null),this.transitions.pipe(on(r=>r!==null),sn(r=>{let i=!1,o=!1;return te(r).pipe(sn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Nn.SupersededByNewNavigation),In;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?ie(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new ci(s.id,this.urlSerializer.serialize(s.rawUrl),l,qc.IgnoredSameUrlNavigation)),s.resolve(!1),In}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return te(s).pipe(sn(l=>(this.events.next(new Bo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?In:Promise.resolve(l))),LW(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=ie(z({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new bd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:f,extras:p}=s,y=new Bo(l,this.urlSerializer.serialize(u),h,f);this.events.next(y);let v=eN(this.rootComponentType).snapshot;return this.currentTransition=r=ie(z({},s),{targetSnapshot:v,urlAfterRedirects:u,extras:ie(z({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,te(r)}else{let l="";return this.events.next(new ci(s.id,this.urlSerializer.serialize(s.extractedUrl),l,qc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),In}}),Qt(s=>{let a=new kg(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>(this.currentTransition=r=ie(z({},s),{guards:rW(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),pW(this.environmentInjector,s=>this.events.next(s)),Qt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Gg(this.urlSerializer,s.guardsResult);let a=new Og(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),on(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Nn.GuardRejected),!1)),eE(s=>{if(s.guards.canActivateChecks.length!==0)return te(s).pipe(Qt(a=>{let c=new Fg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),sn(a=>{let c=!1;return te(a).pipe(VW(this.paramsInheritanceStrategy,this.environmentInjector),Qt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Nn.NoDataFromResolver)}}))}),Qt(a=>{let c=new Lg(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),eE(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Qt(u=>{c.component=u}),le(()=>{})));for(let u of c.children)l.push(...a(u));return l};return ku(a(s.targetSnapshot.root)).pipe(Mo(null),ki(1))}),eE(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?qe(c).pipe(le(()=>r)):te(r)}),le(s=>{let a=Zq(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=ie(z({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Qt(()=>{this.events.next(new wd)}),nW(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),ki(1),Qt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Eb(this.transitionAbortSubject.pipe(Qt(s=>{throw s}))),Ls(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Nn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dr(s=>{if(this.destroyed)return r.resolve(!1),In;if(o=!0,sN(s))this.events.next(new si(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),tW(s)?this.events.next(new Kc(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Wc(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=it(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Yc){let{message:l,cancellationCode:u}=Gg(this.urlSerializer,c);this.events.next(new si(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Kc(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return In}))}))}cancelNavigationTransition(t,r,i){let o=new si(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qW(n){return n!==Rg}var mN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(WW),providedIn:"root"})}return n})(),Yg=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},WW=(()=>{class n extends Yg{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yN=(()=>{class n{urlSerializer=U(pa);options=U(ma,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=U(Fo);urlHandlingStrategy=U(Zg);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ai;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ai?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=eN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:()=>U(GW),providedIn:"root"})}return n})(),GW=(()=>{class n extends yN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Bo?this.updateStateMemento():t instanceof ci?this.commitTransition(r):t instanceof bd?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wd?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof si&&(t.code===Nn.GuardRejected||t.code===Nn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wc?this.restoreHistory(r,!0):t instanceof lr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function em(n,e){n.events.pipe(on(t=>t instanceof lr||t instanceof si||t instanceof Wc||t instanceof ci),le(t=>t instanceof lr||t instanceof ci?0:(t instanceof si?t.code===Nn.Redirect||t.code===Nn.SupersededByNewNavigation:!1)?2:1),on(t=>t!==2),ki(1)).subscribe(()=>{e()})}var KW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},YW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ct=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=U(g1);stateManager=U(yN);options=U(ma,{optional:!0})||{};pendingTasks=U($i);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=U(Jg);urlSerializer=U(pa);location=U(Fo);urlHandlingStrategy=U(Zg);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=U(mN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=U(ya,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!U(Md,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof si&&r.code!==Nn.Redirect&&r.code!==Nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof lr)this.navigated=!0;else if(r instanceof Kc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qW(i.source)},s);this.scheduleNavigation(a,Rg,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}XW(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Rg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=z({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(vE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let f=i?i.snapshot:this.routerState.snapshot.root;h=QP(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return XP(h,t,u,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Uo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Rg,null,r)}navigate(t,r={skipLocationChange:!1}){return QW(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},KW):r===!1?i=z({},YW):i=r,Uo(t))return RP(this.currentUrlTree,t,i);let o=this.parseUrl(t);return RP(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((h,f)=>{a=h,c=f});let u=this.pendingTasks.add();return em(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QW(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new X(4008,!1)}function XW(n){return!(n instanceof wd)&&!(n instanceof Kc)}var Zc=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof lr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Uo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:RR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Uo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(q(ct),q(ur),Y0("tabindex"),q(zi),q(_n),q(Nr))};static \u0275dir=Ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&ne("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Qu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Oo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Oo],replaceUrl:[2,"replaceUrl","replaceUrl",Oo],routerLink:"routerLink"},features:[xn]})}return n})();var Pd=class{};var vN=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(on(t=>t instanceof lr),Wr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ku(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return qe(i).pipe(hc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=te(null);let o=i.pipe(Et(s=>s===null?te(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return qe([o,s]).pipe(hc())}else return o})}static \u0275fac=function(r){return new(r||n)(J(ct),J(vt),J(Pd),J(Xg))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_N=new G(""),ZW=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ci&&t.code===qc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gc&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gc(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){i1()};static \u0275prov=K({token:n,factory:n.\u0275fac})}return n})();function tm(n,...e){return nr([{provide:ya,multi:!0,useValue:n},[],{provide:ur,useFactory:bN,deps:[ct]},{provide:ng,multi:!0,useFactory:wN},e.map(t=>t.\u0275providers)])}function bN(n){return n.routerState.root}function Nd(n,e){return{\u0275kind:n,\u0275providers:e}}function wN(){let n=U(Tt);return e=>{let t=n.get(Js);if(e!==t.components[0])return;let r=n.get(ct),i=n.get(EN);n.get(CE)===1&&r.initialNavigation(),n.get(DN,null,ye.Optional)?.setUpPreloading(),n.get(_N,null,ye.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EN=new G("",{factory:()=>new rt}),CE=new G("",{providedIn:"root",factory:()=>1});function IN(){let n=[{provide:CE,useValue:0},ww(()=>{let e=U(Tt);return e.get(xw,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ct),o=e.get(EN);em(i,()=>{r(!0)}),e.get(Jg).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))})];return Nd(2,n)}function CN(){let n=[ww(()=>{U(ct).setUpLocationChangeListener()}),{provide:CE,useValue:2}];return Nd(3,n)}var DN=new G("");function TN(n){return Nd(0,[{provide:DN,useExisting:vN},{provide:Pd,useExisting:n}])}function SN(){return Nd(8,[mE,{provide:Md,useExisting:mE}])}function xN(n){Lc("NgRouterViewTransitions");let e=[{provide:bE,useValue:gN},{provide:wE,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return Nd(9,e)}var AN=[Fo,{provide:pa,useClass:jo},ct,ga,{provide:ur,useFactory:bN,deps:[ct]},Xg,[]],Fr=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[AN,[],{provide:ya,multi:!0,useValue:t},[],r?.errorHandler?{provide:EE,useValue:r.errorHandler}:[],{provide:ma,useValue:r||{}},r?.useHash?e8():t8(),JW(),r?.preloadingStrategy?TN(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?n8(r):[],r?.bindToComponentInputs?SN().\u0275providers:[],r?.enableViewTransitions?xN().\u0275providers:[],r8()]}}static forChild(t){return{ngModule:n,providers:[{provide:ya,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=xr({})}return n})();function JW(){return{provide:_N,useFactory:()=>{let n=U(cP),e=U(Ae),t=U(ma),r=U(Jg),i=U(pa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ZW(i,r,n,e,t)}}}function e8(){return{provide:Nr,useClass:kw}}function t8(){return{provide:Nr,useClass:sg}}function n8(n){return[n.initialNavigation==="disabled"?CN().\u0275providers:[],n.initialNavigation==="enabledBlocking"?IN().\u0275providers:[]]}var IE=new G("");function r8(){return[{provide:IE,useFactory:wN},{provide:ng,multi:!0,useExisting:IE}]}var nm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){t&1&&(A(0,"p"),N(1,"error works!"),T())},encapsulation:2})};var jN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(q(zi),q(_n))};static \u0275dir=Ge({type:n})}return n})(),pm=(()=>{class n extends jN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275dir=Ge({type:n,features:[An]})}return n})(),rl=new G("");var i8={provide:rl,useExisting:tr(()=>zt),multi:!0};function o8(){let n=or()?or().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var s8=new G(""),zt=(()=>{class n extends jN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!o8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(q(zi),q(_n),q(s8,8))};static \u0275dir=Ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ne("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ni([i8]),An]})}return n})();function xE(n){return n==null||AE(n)===0}function AE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ud=new G(""),gm=new G(""),a8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ke=class{static min(e){return c8(e)}static max(e){return l8(e)}static required(e){return UN(e)}static requiredTrue(e){return u8(e)}static email(e){return d8(e)}static minLength(e){return h8(e)}static maxLength(e){return f8(e)}static pattern(e){return p8(e)}static nullValidator(e){return im()}static compose(e){return WN(e)}static composeAsync(e){return GN(e)}};function c8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function l8(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function UN(n){return xE(n.value)?{required:!0}:null}function u8(n){return n.value===!0?null:{required:!0}}function d8(n){return xE(n.value)||a8.test(n.value)?null:{email:!0}}function h8(n){return e=>{let t=e.value?.length??AE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function f8(n){return e=>{let t=e.value?.length??AE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function p8(n){if(!n)return im;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(xE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function im(n){return null}function BN(n){return n!=null}function $N(n){return sa(n)?qe(n):n}function HN(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function zN(n,e){return e.map(t=>t(n))}function g8(n){return!n.validate}function qN(n){return n.map(e=>g8(e)?e:t=>e.validate(t))}function WN(n){if(!n)return null;let e=n.filter(BN);return e.length==0?null:function(t){return HN(zN(t,e))}}function ME(n){return n!=null?WN(qN(n)):null}function GN(n){if(!n)return null;let e=n.filter(BN);return e.length==0?null:function(t){let r=zN(t,e).map($N);return yb(r).pipe(le(HN))}}function RE(n){return n!=null?GN(qN(n)):null}function MN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function KN(n){return n._rawValidators}function YN(n){return n._rawAsyncValidators}function DE(n){return n?Array.isArray(n)?n:[n]:[]}function om(n,e){return Array.isArray(n)?n.includes(e):n===e}function RN(n,e){let t=DE(e);return DE(n).forEach(i=>{om(t,i)||t.push(i)}),t}function PN(n,e){return DE(e).filter(t=>!om(n,t))}var sm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ME(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ki=class extends sm{name;get formDirective(){return null}get path(){return null}},va=class extends sm{_parent=null;name=null;valueAccessor=null},am=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},m8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rye=ie(z({},m8),{"[class.ng-submitted]":"isSubmitted"}),ln=(()=>{class n extends am{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(va,2))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&rr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[An]})}return n})(),dr=(()=>{class n extends am{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(q(Ki,10))};static \u0275dir=Ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&rr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[An]})}return n})();var kd="VALID",rm="INVALID",Jc="PENDING",Od="DISABLED",zo=class{},cm=class extends zo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ld=class extends zo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Vd=class extends zo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},el=class extends zo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},lm=class extends zo{source;constructor(e){super(),this.source=e}},um=class extends zo{source;constructor(e){super(),this.source=e}};function PE(n){return(mm(n)?n.validators:n)||null}function y8(n){return Array.isArray(n)?ME(n):n||null}function NE(n,e){return(mm(e)?e.asyncValidators:n)||null}function v8(n){return Array.isArray(n)?RE(n):n||null}function mm(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function QN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new X(1e3,"");if(!r[t])throw new X(1001,"")}function XN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new X(1002,"")})}var tl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Rr(this.statusReactive)}set status(e){Rr(()=>this.statusReactive.set(e))}_status=qi(()=>this.statusReactive());statusReactive=St(void 0);get valid(){return this.status===kd}get invalid(){return this.status===rm}get pending(){return this.status==Jc}get disabled(){return this.status===Od}get enabled(){return this.status!==Od}errors;get pristine(){return Rr(this.pristineReactive)}set pristine(e){Rr(()=>this.pristineReactive.set(e))}_pristine=qi(()=>this.pristineReactive());pristineReactive=St(!0);get dirty(){return!this.pristine}get touched(){return Rr(this.touchedReactive)}set touched(e){Rr(()=>this.touchedReactive.set(e))}_touched=qi(()=>this.touchedReactive());touchedReactive=St(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(RN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}hasValidator(e){return om(this._rawValidators,e)}hasAsyncValidator(e){return om(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ie(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Vd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Vd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ie(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ld(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ld(!0,r))}markAsPending(e={}){this.status=Jc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new el(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ie(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Od,this.errors=null,this._forEachChild(i=>{i.disable(ie(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cm(this.value,r)),this._events.next(new el(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ie(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=kd,this._forEachChild(r=>{r.enable(ie(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ie(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kd||this.status===Jc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cm(this.value,t)),this._events.next(new el(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ie(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Od:kd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Jc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=$N(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new el(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Od:this.errors?rm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jc)?Jc:this._anyControlsHaveStatus(rm)?rm:kd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ld(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Vd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=y8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=v8(this._rawAsyncValidators)}},nl=class extends tl{constructor(e,t,r){super(PE(t),NE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){XN(this,!0,e),Object.keys(e).forEach(r=>{QN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var TE=class extends nl{};var Bd=new G("",{providedIn:"root",factory:()=>ym}),ym="always";function ZN(n,e){return[...e.path,n]}function dm(n,e,t=ym){kE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),b8(n,e),E8(n,e),w8(n,e),_8(n,e)}function NN(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function kE(n,e){let t=KN(n);e.validator!==null?n.setValidators(MN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=YN(n);e.asyncValidator!==null?n.setAsyncValidators(MN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();hm(e._rawValidators,i),hm(e._rawAsyncValidators,i)}function fm(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=KN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=YN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return hm(e._rawValidators,r),hm(e._rawAsyncValidators,r),t}function b8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&JN(n,e)})}function w8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&JN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function JN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function E8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ek(n,e){n==null,kE(n,e)}function I8(n,e){return fm(n,e)}function tk(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function C8(n){return Object.getPrototypeOf(n.constructor)===pm}function nk(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rk(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===zt?t=o:C8(o)?r=o:i=o}),i||r||t||null}function D8(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var T8={provide:Ki,useExisting:tr(()=>$d)},Fd=Promise.resolve(),$d=(()=>{class n extends Ki{callSetDisabledState;get submitted(){return Rr(this.submittedReactive)}_submitted=qi(()=>this.submittedReactive());submittedReactive=St(!1);_directives=new Set;form;ngSubmit=new Be;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new nl({},ME(t),RE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),dm(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fd.then(()=>{let r=this._findContainer(t.path),i=new nl({});ek(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),nk(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new lm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new um(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(q(Ud,10),q(gm,10),q(Bd,8))};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ni([T8]),An]})}return n})();function kN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ON(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var jd=class extends tl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(PE(t),NE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(ON(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ON(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var S8=n=>n instanceof jd;var x8={provide:va,useExisting:tr(()=>Yi)},FN=Promise.resolve(),Yi=(()=>{class n extends va{_changeDetectorRef;callSetDisabledState;control=new jd;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Be;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rk(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),tk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){FN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Oo(r);FN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ZN(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(q(Ki,9),q(Ud,10),q(gm,10),q(rl,10),q(aa,8),q(Bd,8))};static \u0275dir=Ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ni([x8]),An,xn]})}return n})();var hr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),A8={provide:rl,useExisting:tr(()=>Hd),multi:!0},Hd=(()=>{class n extends pm{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ne("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ni([A8]),An]})}return n})();var ik=new G("");var M8={provide:Ki,useExisting:tr(()=>Qi)},Qi=(()=>{class n extends Ki{callSetDisabledState;get submitted(){return Rr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=qi(()=>this._submittedReactive());_submittedReactive=St(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Be;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return dm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){NN(t.control||null,t,!1),D8(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),nk(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new lm(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new um(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(NN(r||null,t),S8(i)&&(dm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ek(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&I8(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kE(this.form,this),this._oldForm&&fm(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(q(Ud,10),q(gm,10),q(Bd,8))};static \u0275dir=Ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&ne("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ni([M8]),An,xn]})}return n})();var R8={provide:va,useExisting:tr(()=>Xi)},Xi=(()=>{class n extends va{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Be;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=rk(this,o)}ngOnChanges(t){this._added||this._setUpControl(),tk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ZN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(q(Ki,13),q(Ud,10),q(gm,10),q(rl,10),q(ik,8))};static \u0275dir=Ge({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ni([R8]),An,xn]})}return n})();var P8={provide:rl,useExisting:tr(()=>il),multi:!0};function ok(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function N8(n){return n.split(":")[0]}var il=(()=>{class n extends pm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=ok(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=N8(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([P8]),An]})}return n})(),vm=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ok(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(_n),q(zi),q(il,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),k8={provide:rl,useExisting:tr(()=>sk),multi:!0};function LN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function O8(n){return n.split(":")[0]}var sk=(()=>{class n extends pm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=O8(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&ne("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ni([k8]),An]})}return n})(),_m=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(LN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(LN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(q(_n),q(zi),q(sk,9))};static \u0275dir=Ge({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var F8=(()=>{class n{_validator=im;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):im,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ge({type:n,features:[xn]})}return n})();var L8={provide:Ud,useExisting:tr(()=>OE),multi:!0};var OE=(()=>{class n extends F8{required;inputName="required";normalizeInput=Oo;createValidator=t=>UN;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Bi(n)))(i||n)}})();static \u0275dir=Ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Qu("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ni([L8]),An]})}return n})();var ak=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=xr({})}return n})(),SE=class extends tl{constructor(e,t,r){super(PE(t),NE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){XN(this,!1,e),e.forEach((r,i)=>{QN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function VN(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var qo=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return VN(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new nl(i,o)}record(t,r=null){let i=this._reduceControls(t);return new TE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(VN(r)?o=r:(o.validators=r,o.asyncValidators=i),new jd(t,ie(z({},o),{nonNullable:!0}))):new jd(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new SE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof jd)return t;if(t instanceof tl)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Bd,useValue:t.callSetDisabledState??ym}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=xr({imports:[ak]})}return n})(),li=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ik,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bd,useValue:t.callSetDisabledState??ym}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=xr({imports:[ak]})}return n})();var bm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-principal"]],decls:38,vars:0,consts:[[1,"container-fluid","bg-light-rose","text-center","py-5"],[1,"display-4","text-rose"],[1,"lead"],[1,"container","py-5"],[1,"text-center","text-rose","mb-4"],[1,"row","g-4","justify-content-center"],[1,"col-6","col-md-4","col-lg-3"],[1,"producto-img"],["src","https://i.pinimg.com/736x/68/c8/1c/68c81c5b986cf8cb260d761d2915d90c.jpg","alt","Producto 1",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/5d/da/76/5dda76d41ba13028210e928a01a4c04e.jpg","alt","Producto 2",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/bf/16/a9/bf16a95037699ef09d79a7c013f5d836.jpg","alt","Producto 3",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e1/71/19/e17119801163ebbe303acd151bb3c10c.jpg","alt","Producto 4",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/27/00/2a/27002a7bc5273a281f9fdd8fd217353d.jpg","alt","Producto 5",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e9/ee/33/e9ee33c1b9ce1fb8a0b1418caeb904a4.jpg","alt","Producto 6 ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e3/60/c8/e360c8ca550829d50eedf54c8c2ada2e.jpg","alt","Producto 7 ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/91/29/a6/9129a6920f9505c265a71f4dbc5dcfec.jpg","alt","Producto 8  ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/72/35/49/7235494fbbf3d71f792051fb89724d2d.jpg","alt","Producto 9  ",1,"img-fluid","rounded","shadow-sm","border","border-rose"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"h1",1),N(2,"\xA1Bienvenidos!"),T(),A(3,"p",2),N(4,"Descubr\xED productos incre\xEDbles seleccionados para vos."),T()(),A(5,"div",3)(6,"h2",4),N(7,"Productos destacados"),T(),A(8,"div",5)(9,"div",3)(10,"div",5)(11,"div",6)(12,"div",7),ae(13,"img",8),T()(),A(14,"div",6)(15,"div",7),ae(16,"img",9),T()(),A(17,"div",6)(18,"div",7),ae(19,"img",10),T()(),A(20,"div",6)(21,"div",7),ae(22,"img",11),T()(),A(23,"div",6)(24,"div",7),ae(25,"img",12),T()(),A(26,"div",6)(27,"div",7),ae(28,"img",13),T()(),A(29,"div",6)(30,"div",7),ae(31,"img",14),T()(),A(32,"div",6)(33,"div",7),ae(34,"img",15),T()(),A(35,"div",6)(36,"div",7),ae(37,"img",16),T()()()()()())},dependencies:[Fr,fr],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-light-rose[_ngcontent-%COMP%]{background-color:#f8d7e4}.border-rose[_ngcontent-%COMP%]{border:2px solid #d63384!important}.producto-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease}.producto-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var ck=()=>{};var dk=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},V8=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},wm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,u=o>>2,h=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,p=l&63;c||(p=64,s||(f=64)),r.push(t[u],t[h],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):V8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||h==null)throw new LE;let f=o<<2|a>>4;if(r.push(f),l!==64){let p=a<<4&240|l>>2;if(r.push(p),h!==64){let y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},LE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},j8=function(n){let e=dk(n);return wm.encodeByteArray(e,!0)},qd=function(n){return j8(n).replace(/\./g,"")},Em=function(n){try{return wm.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var U8=()=>jE().__FIREBASE_DEFAULTS__,B8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Em(n[1]);return e&&JSON.parse(e)},Im=()=>{try{return ck()||U8()||B8()||$8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UE=n=>{var e,t;return(t=(e=Im())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hk=n=>{let e=UE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},BE=()=>{var n;return(n=Im())===null||n===void 0?void 0:n.config},$E=n=>{var e;return(e=Im())===null||e===void 0?void 0:e[`_${n}`]};var _a=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Go(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Cm(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function fk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qd(JSON.stringify(t)),qd(JSON.stringify(s)),""].join(".")}var zd={};function H8(){let n={prod:[],emulator:[]};for(let e of Object.keys(zd))zd[e]?n.emulator.push(e):n.prod.push(e);return n}function z8(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var lk=!1;function Dm(n,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||zd[n]===e||zd[n]||lk)return;zd[n]=e;function t(f){return`__firebase__banner__${f}`}let r="__firebase__banner",o=H8().prod.length>0;function s(){let f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function l(){let f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{lk=!0,s()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){let f=z8(r),p=t("text"),y=document.getElementById(p)||document.createElement("span"),v=t("learnmore"),_=document.getElementById(v)||document.createElement("a"),S=t("preprendIcon"),R=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){let O=f.element;a(O),u(_,v);let V=l();c(R,S),O.append(R,y,_,V),document.body.appendChild(O)}o?(y.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function q8(){var n;let e=(n=Im())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mk(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vk(){let n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function _k(){return!q8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wd(){try{return typeof indexedDB=="object"}catch{return!1}}function bk(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var W8="FirebaseError",Kn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=W8,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}},Lr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?G8(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kn(i,a,r)}};function G8(n,e){return n.replace(K8,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var K8=/\{\$([^}]+)}/g;function wk(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(uk(o)&&uk(s)){if(!Vr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function uk(n){return n!==null&&typeof n=="object"}function Gd(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ek(n,e){let t=new VE(n,e);return t.subscribe.bind(t)}var VE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Y8(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=FE),i.error===void 0&&(i.error=FE),i.complete===void 0&&(i.complete=FE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Y8(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function FE(){}var dye=4*60*60*1e3;function Ut(n){return n&&n._delegate?n._delegate:n}var En=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ba="[DEFAULT]";var HE=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new _a;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X8(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Q8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Q8(n){return n===ba?void 0:n}function X8(n){return n.instantiationMode==="EAGER"}var Tm=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new HE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Z8=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),J8={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},e9=Ce.INFO,t9={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},n9=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=t9[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ui=class{constructor(e){this.name=e,this._logLevel=e9,this._logHandler=n9,this._userLogHandler=null,Z8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var r9=(n,e)=>e.some(t=>n instanceof t),Ik,Ck;function i9(){return Ik||(Ik=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o9(){return Ck||(Ck=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Dk=new WeakMap,qE=new WeakMap,Tk=new WeakMap,zE=new WeakMap,GE=new WeakMap;function s9(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(di(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&Dk.set(t,n)}).catch(()=>{}),GE.set(e,n),e}function a9(n){if(qE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});qE.set(n,e)}var WE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tk.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Sk(n){WE=n(WE)}function c9(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Sm(this),e,...t);return Tk.set(r,e.sort?e.sort():[e]),di(r)}:o9().includes(n)?function(...e){return n.apply(Sm(this),e),di(Dk.get(this))}:function(...e){return di(n.apply(Sm(this),e))}}function l9(n){return typeof n=="function"?c9(n):(n instanceof IDBTransaction&&a9(n),r9(n,i9())?new Proxy(n,WE):n)}function di(n){if(n instanceof IDBRequest)return s9(n);if(zE.has(n))return zE.get(n);let e=l9(n);return e!==n&&(zE.set(n,e),GE.set(e,n)),e}var Sm=n=>GE.get(n);function Ak(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=di(s);return r&&s.addEventListener("upgradeneeded",c=>{r(di(s.result),c.oldVersion,c.newVersion,di(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var u9=["get","getKey","getAll","getAllKeys","count"],d9=["put","add","delete","clear"],KE=new Map;function xk(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(KE.get(e))return KE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=d9.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u9.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return KE.set(e,o),o}Sk(n=>ie(z({},n),{get:(e,t,r)=>xk(e,t)||n.get(e,t,r),has:(e,t)=>!!xk(e,t)||n.has(e,t)}));var QE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(h9(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function h9(n){let e=n.getComponent();return e?.type==="VERSION"}var XE="@firebase/app",Mk="0.13.2";var Zi=new ui("@firebase/app"),f9="@firebase/app-compat",p9="@firebase/analytics-compat",g9="@firebase/analytics",m9="@firebase/app-check-compat",y9="@firebase/app-check",v9="@firebase/auth",_9="@firebase/auth-compat",b9="@firebase/database",w9="@firebase/data-connect",E9="@firebase/database-compat",I9="@firebase/functions",C9="@firebase/functions-compat",D9="@firebase/installations",T9="@firebase/installations-compat",S9="@firebase/messaging",x9="@firebase/messaging-compat",A9="@firebase/performance",M9="@firebase/performance-compat",R9="@firebase/remote-config",P9="@firebase/remote-config-compat",N9="@firebase/storage",k9="@firebase/storage-compat",O9="@firebase/firestore",F9="@firebase/ai",L9="@firebase/firestore-compat",V9="firebase",j9="11.10.0";var ZE="[DEFAULT]",U9={[XE]:"fire-core",[f9]:"fire-core-compat",[g9]:"fire-analytics",[p9]:"fire-analytics-compat",[y9]:"fire-app-check",[m9]:"fire-app-check-compat",[v9]:"fire-auth",[_9]:"fire-auth-compat",[b9]:"fire-rtdb",[w9]:"fire-data-connect",[E9]:"fire-rtdb-compat",[I9]:"fire-fn",[C9]:"fire-fn-compat",[D9]:"fire-iid",[T9]:"fire-iid-compat",[S9]:"fire-fcm",[x9]:"fire-fcm-compat",[A9]:"fire-perf",[M9]:"fire-perf-compat",[R9]:"fire-rc",[P9]:"fire-rc-compat",[N9]:"fire-gcs",[k9]:"fire-gcs-compat",[O9]:"fire-fst",[L9]:"fire-fst-compat",[F9]:"fire-vertex","fire-js":"fire-js",[V9]:"fire-js-all"};var Kd=new Map,B9=new Map,JE=new Map;function Rk(n,e){try{n.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jr(n){let e=n.name;if(JE.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;JE.set(e,n);for(let t of Kd.values())Rk(t,n);for(let t of B9.values())Rk(t,n);return!0}function ol(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pr(n){return n==null?!1:n.settings!==void 0}var $9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ko=new Lr("app","Firebase",$9);var eI=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new En("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ko.create("app-deleted",{appName:this._name})}};var Yo=j9;function xm(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ZE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ko.create("bad-app-name",{appName:String(i)});if(t||(t=BE()),!t)throw Ko.create("no-options");let o=Kd.get(i);if(o){if(Vr(t,o.options)&&Vr(r,o.config))return o;throw Ko.create("duplicate-app",{appName:i})}let s=new Tm(i);for(let c of JE.values())s.addComponent(c);let a=new eI(t,r,s);return Kd.set(i,a),a}function wa(n=ZE){let e=Kd.get(n);if(!e&&n===ZE&&BE())return xm();if(!e)throw Ko.create("no-app",{appName:n});return e}function Am(){return Array.from(Kd.values())}function _t(n,e,t){var r;let i=(r=U9[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(a.join(" "));return}jr(new En(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var H9="firebase-heartbeat-database",z9=1,Yd="firebase-heartbeat-store",YE=null;function Ok(){return YE||(YE=Ak(H9,z9,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ko.create("idb-open",{originalErrorMessage:n.message})})),YE}function q9(n){return C(this,null,function*(){try{let t=(yield Ok()).transaction(Yd),r=yield t.objectStore(Yd).get(Fk(n));return yield t.done,r}catch(e){if(e instanceof Kn)Zi.warn(e.message);else{let t=Ko.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(t.message)}}})}function Pk(n,e){return C(this,null,function*(){try{let r=(yield Ok()).transaction(Yd,"readwrite");yield r.objectStore(Yd).put(e,Fk(n)),yield r.done}catch(t){if(t instanceof Kn)Zi.warn(t.message);else{let r=Ko.create("idb-set",{originalErrorMessage:t?.message});Zi.warn(r.message)}}})}function Fk(n){return`${n.name}!${n.options.appId}`}var W9=1024,G9=30,tI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Nk();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>G9){let s=Y9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zi.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Nk(),{heartbeatsToSend:r,unsentEntries:i}=K9(this._heartbeatsCache.heartbeats),o=qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Zi.warn(t),""}})}};function Nk(){return new Date().toISOString().substring(0,10)}function K9(n,e=W9){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var nI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Wd()?bk().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield q9(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Pk(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kk(n){return qd(JSON.stringify({version:2,heartbeats:n})).length}function Y9(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Q9(n){jr(new En("platform-logger",e=>new QE(e),"PRIVATE")),jr(new En("heartbeat",e=>new tI(e),"PRIVATE")),_t(XE,Mk,n),_t(XE,Mk,"esm2017"),_t("fire-js","")}Q9("");var X9="firebase",Z9="11.10.0";_t(X9,Z9,"app");function rI(n){n===void 0&&(F0(rI),n=U(Tt));let e=n.get(Gp);return t=>new ge(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qo=new ta("ANGULARFIRE2_VERSION");function Qd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var al=(n,e)=>{let t=e?[e]:Am(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},sl=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(sl||{}),Lk=Dw()&&typeof Zone<"u"?sl.WARN:sl.SILENT;var Mm=class{zone;delegate;constructor(e,t=pb){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Xo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=U(Ae);this.outsideAngular=t.runOutsideAngular(()=>new Mm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Mm(typeof Zone>"u"?void 0:Zone.current,Ff))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vk=!1;function J9(n,e){!Vk&&(Lk>sl.SILENT||Dw())&&(Vk=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Lk>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function eG(n){let e=U(Ae,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Ea(n){let e=U(Ae,{optional:!0});return e?e.run(()=>n()):n()}var tG=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),it(t,()=>Ea(()=>n.apply(void 0,r)))),Xt=(n,e,t)=>(t||=e?sl.WARN:sl.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=U(Xo),s=U(Gp),a=U(vt)}catch{return J9(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ea(()=>s.add())),i[l]=tG(i[l],r,a));let c=eG(()=>n.apply(this,i));return e?c instanceof ge?c.pipe(Ao(o.outsideAngular),xo(o.insideAngular),rI(a)):c instanceof Promise?Ea(()=>new Promise((l,u)=>{s.run(()=>c).then(h=>it(a,()=>Ea(()=>l(h))),h=>it(a,()=>Ea(()=>u(h))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Ea(()=>c):c instanceof ge?c.pipe(Ao(o.outsideAngular),xo(o.insideAngular)):Ea(()=>c)});var Ji=class{constructor(e){return e}},Ia=class{constructor(){return Am()}};function nG(n){return n&&n.length===1?n[0]:new Ji(wa())}var iI=new G("angularfire2._apps"),rG={provide:Ji,useFactory:nG,deps:[[new Hn,iI]]},iG={provide:Ia,deps:[[new Hn,iI]]};function oG(n){return(e,t)=>{let r=t.get(No);_t("angularfire",Qo.full,"core"),_t("angularfire",Qo.full,"app"),_t("angular",D1.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ji(i)}}function jk(n,...e){return nr([rG,iG,{provide:iI,useFactory:oG(n),multi:!0,deps:[Ae,Tt,Xo,...e]}])}var sG=new Map,aG={activated:!1,tokenObservers:[]},cG={initialized:!1,enabled:!1};function Ur(n){return sG.get(n)||Object.assign({},aG)}function Hk(){return cG}var lG="https://content-firebaseappcheck.googleapis.com/v1";var uG="exchangeDebugToken",Uk={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},mve=24*60*60*1e3;var aI=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new _a,this.pending.promise.catch(t=>{}),yield dG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new _a,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function dG(n){return new Promise(e=>{setTimeout(e,n)})}var hG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Zo=new Lr("appCheck","AppCheck",hG);function zk(n){if(!Ur(n).activated)throw Zo.create("use-before-activation",{appName:n.name})}function qk(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let p=yield s.getHeartbeatsHeader();p&&(o["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(p){throw Zo.create("fetch-network-error",{originalErrorMessage:p?.message})}if(c.status!==200)throw Zo.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(p){throw Zo.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Zo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let h=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+h,issuedAtTimeMillis:f}})}function Wk(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${lG}/projects/${t}/apps/${r}:${uG}?key=${i}`,body:{debug_token:e}}}var fG="firebase-app-check-database",pG=1,cI="firebase-app-check-store";var Rm=null;function gG(){return Rm||(Rm=new Promise((n,e)=>{try{let t=indexedDB.open(fG,pG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Zo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(cI,{keyPath:"compositeKey"})}}}catch(t){e(Zo.create("storage-open",{originalErrorMessage:t?.message}))}}),Rm)}function mG(n,e){return yG(vG(n),e)}function yG(n,e){return C(this,null,function*(){let r=(yield gG()).transaction(cI,"readwrite"),o=r.objectStore(cI).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Zo.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function vG(n){return`${n.options.appId}-${n.name}`}var Xd=new ui("@firebase/app-check");function oI(n,e){return Wd()?mG(n,e).catch(t=>{Xd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Gk(){return Hk().enabled}function Kk(){return C(this,null,function*(){let n=Hk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var _G={error:"UNKNOWN_ERROR"};function bG(n){return wm.encodeString(JSON.stringify(n),!1)}function lI(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;zk(r);let i=Ur(r),o=i.token,s;if(o&&!Zd(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Zd(l)?o=l:yield oI(r,void 0))}if(!e&&o&&Zd(o))return{token:o.token};let a=!1;if(Gk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qk(Wk(r,yield Kk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield oI(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xd.warn(l.message):t&&Xd.error(l),sI(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ur(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xd.warn(l.message):t&&Xd.error(l),s=l}let c;return o?s?Zd(o)?c={token:o.token,internalError:s}:c=sI(s):(c={token:o.token},i.token=o,yield oI(r,o)):c=sI(s),a&&CG(r,c),c})}function wG(n){return C(this,null,function*(){let e=n.app;zk(e);let{provider:t}=Ur(e);if(Gk()){let r=yield Kk(),{token:i}=yield qk(Wk(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function EG(n,e,t,r){let{app:i}=n,o=Ur(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Zd(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),Bk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Bk(n))}function Yk(n,e){let t=Ur(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Bk(n){let{app:e}=n,t=Ur(e),r=t.tokenRefresher;r||(r=IG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function IG(n){let{app:e}=n;return new aI(()=>C(null,null,function*(){let t=Ur(e),r;if(t.token?r=yield lI(n,!0):r=yield lI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Uk.RETRIAL_MIN_WAIT,Uk.RETRIAL_MAX_WAIT)}function CG(n,e){let t=Ur(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Zd(n){return n.expireTimeMillis-Date.now()>0}function sI(n){return{token:bG(_G),error:n}}var uI=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Ur(this.app);for(let t of e)Yk(this.app,t.next);return Promise.resolve()}};function DG(n,e){return new uI(n,e)}function TG(n){return{getToken:e=>lI(n,e),getLimitedUseToken:()=>wG(n),addTokenListener:e=>EG(n,"INTERNAL",e),removeTokenListener:e=>Yk(n.app,e)}}var SG="@firebase/app-check",xG="0.10.1";var AG="app-check",$k="app-check-internal";function MG(){jr(new En(AG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return DG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider($k).initialize()})),jr(new En($k,n=>{let e=n.getProvider("app-check").getImmediate();return TG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_t(SG,xG)}MG();var RG="app-check";var cl=class{constructor(){return al(RG)}};var PG=["localhost","0.0.0.0","127.0.0.1"],Ave=typeof window<"u"&&PG.includes(window.location.hostname);function uO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dO=uO,hO=new Lr("auth","Firebase",uO());var Lm=new ui("@firebase/auth");function NG(n,...e){Lm.logLevel<=Ce.WARN&&Lm.warn(`Auth (${Yo}): ${n}`,...e)}function Nm(n,...e){Lm.logLevel<=Ce.ERROR&&Lm.error(`Auth (${Yo}): ${n}`,...e)}function ts(n,...e){throw MI(n,...e)}function Da(n,...e){return MI(n,...e)}function fO(n,e,t){let r=Object.assign(Object.assign({},dO()),{[e]:t});return new Lr("auth","Firebase",r).create(e,{appName:n.name})}function Ca(n){return fO(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hO.create(n,...e)}function ce(n,e,...t){if(!n)throw MI(e,...t)}function eo(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Nm(e),new Error(e)}function ns(n,e){n||eo(e)}function pI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function kG(){return Qk()==="http:"||Qk()==="https:"}function Qk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function OG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kG()||mk()||"connection"in navigator)?navigator.onLine:!0}function FG(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ta=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ns(t>e,"Short delay should be less than long delay!"),this.isMobile=pk()||yk()}get(){return OG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function RI(n,e){ns(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jG=new Ta(3e4,6e4);function PI(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ll(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){return pO(n,i,()=>C(null,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let h=Gd(Object.assign({key:n.config.apiKey},u)).slice(1),f=yield n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);let p=Object.assign({method:e,headers:f},l);return gk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Go(n.emulatorConfig.host)&&(p.credentials="include"),Vm.fetch()(yield gO(n,n.config.apiHost,t,h),p)}))})}function pO(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},LG),e);try{let i=new gI(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Pm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Pm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Pm(n,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fO(n,u,l);ts(n,u)}}catch(i){if(i instanceof Kn)throw i;ts(n,"network-request-failed",{message:String(i)})}})}function UG(o,s,a,c){return C(this,arguments,function*(n,e,t,r,i={}){let l=yield ll(n,e,t,r,i);return"mfaPendingCredential"in l&&ts(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function gO(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?RI(n.config,i):`${n.config.apiScheme}://${i}`;return VG.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var gI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Da(this.auth,"network-request-failed")),jG.get())})}};function Pm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Da(n,e,r);return i.customData._tokenResponse=t,i}function BG(n,e){return C(this,null,function*(){return ll(n,"POST","/v1/accounts:delete",e)})}function jm(n,e){return C(this,null,function*(){return ll(n,"POST","/v1/accounts:lookup",e)})}function Jd(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function NI(n,e=!1){return C(this,null,function*(){let t=Ut(n),r=yield t.getIdToken(e),i=kI(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Jd(dI(i.auth_time)),issuedAtTime:Jd(dI(i.iat)),expirationTime:Jd(dI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function dI(n){return Number(n)*1e3}function kI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Nm("JWT malformed, contained fewer than 3 sections"),null;try{let i=Em(t);return i?JSON.parse(i):(Nm("Failed to decode base64 JWT payload"),null)}catch(i){return Nm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xk(n){let e=kI(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function th(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Kn&&$G(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function $G({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var mI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nh=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jd(this.lastLoginAt),this.creationTime=Jd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Um(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield th(n,jm(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mO(o.providerUserInfo):[],a=HG(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,u=c?l:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,h)})}function OI(n){return C(this,null,function*(){let e=Ut(n);yield Um(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mO(n){return n.map(e=>{var{providerId:t}=e,r=gb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zG(n,e){return C(this,null,function*(){let t=yield pO(n,{},()=>C(null,null,function*(){let r=Gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield gO(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Go(n.emulatorConfig.host)&&(c.credentials="include"),Vm.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function qG(n,e){return C(this,null,function*(){return ll(n,"POST","/v2/accounts:revokeToken",PI(n,e))})}var eh=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=Xk(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield zG(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return eo("not implemented")}};function Jo(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var es=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=gb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield th(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return NI(this,e)}reload(){return OI(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Um(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(pr(this.auth.app))return Promise.reject(Ca(this.auth));let e=yield this.getIdToken();return yield th(this,BG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,u;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(i=t.email)!==null&&i!==void 0?i:void 0,p=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=t.photoURL)!==null&&s!==void 0?s:void 0,v=(a=t.tenantId)!==null&&a!==void 0?a:void 0,_=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,S=(l=t.createdAt)!==null&&l!==void 0?l:void 0,R=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:O,emailVerified:V,isAnonymous:L,providerData:j,stsTokenManager:I}=t;ce(O&&I,e,"internal-error");let w=eh.fromJSON(this.name,I);ce(typeof O=="string",e,"internal-error"),Jo(h,e.name),Jo(f,e.name),ce(typeof V=="boolean",e,"internal-error"),ce(typeof L=="boolean",e,"internal-error"),Jo(p,e.name),Jo(y,e.name),Jo(v,e.name),Jo(_,e.name),Jo(S,e.name),Jo(R,e.name);let E=new n({uid:O,auth:e,email:f,emailVerified:V,displayName:h,isAnonymous:L,photoURL:y,phoneNumber:p,tenantId:v,stsTokenManager:w,createdAt:S,lastLoginAt:R});return j&&Array.isArray(j)&&(E.providerData=j.map(x=>Object.assign({},x))),_&&(E._redirectEventId=_),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new eh;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Um(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new eh;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nh(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var Zk=new Map;function to(n){ns(n instanceof Function,"Expected a class definition");let e=Zk.get(n);return e?(ns(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Zk.set(n,e),e)}var WG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),yI=WG;function km(n,e,t){return`firebase:${n}:${e}:${t}`}var Bm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=km(this.userKey,i.apiKey,o),this.fullPersistenceKey=km("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield jm(this.auth,{idToken:e}).catch(()=>{});return t?es._fromGetAccountInfoResponse(this.auth,t,e):null}return es._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(to(yI),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||to(yI),s=km(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let u=yield l._get(s);if(u){let h;if(typeof u=="string"){let f=yield jm(e,{idToken:u}).catch(()=>{});if(!f)break;h=yield es._fromGetAccountInfoResponse(e,f,u)}else h=es._fromJSON(e,u);l!==o&&(a=h),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function Jk(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EO(e))return"Blackberry";if(IO(e))return"Webos";if(vO(e))return"Safari";if((e.includes("chrome/")||_O(e))&&!e.includes("edge/"))return"Chrome";if(wO(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yO(n=qt()){return/firefox\//i.test(n)}function vO(n=qt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _O(n=qt()){return/crios\//i.test(n)}function bO(n=qt()){return/iemobile/i.test(n)}function wO(n=qt()){return/android/i.test(n)}function EO(n=qt()){return/blackberry/i.test(n)}function IO(n=qt()){return/webos/i.test(n)}function FI(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GG(n=qt()){var e;return FI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KG(){return vk()&&document.documentMode===10}function CO(n=qt()){return FI(n)||wO(n)||IO(n)||EO(n)||/windows phone/i.test(n)||bO(n)}function DO(n,e=[]){let t;switch(n){case"Browser":t=Jk(qt());break;case"Worker":t=`${Jk(qt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${r}`}var vI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function YG(t){return C(this,arguments,function*(n,e={}){return ll(n,"GET","/v2/passwordPolicy",PI(n,e))})}var QG=6,_I=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:QG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $m(this),this.idTokenSubscription=new $m(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=to(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Bm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield jm(this,{idToken:e}),r=yield es._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(pr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Um(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FG()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(pr(this.app))return Promise.reject(Ca(this));let t=e?Ut(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return pr(this.app)?Promise.reject(Ca(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pr(this.app)?Promise.reject(Ca(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(to(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield YG(this),t=new _I(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qG(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&to(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield Bm.create(this,[to(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&NG(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function LI(n){return Ut(n)}var $m=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ek(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var VI={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XG(n){VI=n}function ZG(n){return VI.loadJS(n)}function JG(){return VI.gapiScript}function TO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function jI(n,e){let t=ol(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Vr(o,e??{}))return i;ts(i,"already-initialized")}return t.initialize({options:e})}function e7(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(to);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function UI(n,e,t){let r=LI(n);ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=SO(e),{host:s,port:a}=t7(e),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ce(Vr(l,r.config.emulator)&&Vr(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Go(s)?(Cm(`${o}//${s}${c}`),Dm("Auth",!0)):i||n7()}function SO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function t7(n){let e=SO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:eO(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:eO(s)}}}function eO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function n7(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Hm=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eo("not implemented")}_getIdTokenResponse(e){return eo("not implemented")}_linkToIdToken(e,t){return eo("not implemented")}_getReauthenticationResolver(e){return eo("not implemented")}};function hI(n,e){return C(this,null,function*(){return UG(n,"POST","/v1/accounts:signInWithIdp",PI(n,e))})}var zm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wI=class extends zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var rh=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield es._fromIdTokenResponse(e,r,i),s=tO(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=tO(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function tO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var EI=class n extends Kn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function xO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?EI._fromErrorAndOperation(n,o,e,r):o})}function r7(n,e,t=!1){return C(this,null,function*(){let r=yield th(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return rh._forOperation(n,"link",r)})}function i7(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(pr(r.app))return Promise.reject(Ca(r));let i="reauthenticate";try{let o=yield th(n,xO(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=kI(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),rh._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ts(r,"user-mismatch"),o}})}function o7(n,e,t=!1){return C(this,null,function*(){if(pr(n.app))return Promise.reject(Ca(n));let r="signIn",i=yield xO(n,r,e),o=yield rh._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function BI(n,e,t,r){return Ut(n).onIdTokenChanged(e,t,r)}function $I(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}var qm="__sak";var Wm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qm,"1"),this.storage.removeItem(qm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var s7=1e3,a7=10,c7=(()=>{class n extends Wm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);KG()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,a7):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},s7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield To(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield To(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield To(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),AO=c7;var l7=(()=>{class n extends Wm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),HI=l7;function u7(n){return Promise.all(n.map(e=>C(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var d7=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>C(this,null,function*(){return u(r.origin,s)})),l=yield u7(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function MO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var II=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=MO("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function hi(){return window}function h7(n){hi().location.href=n}function RO(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}function f7(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function p7(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function g7(){return RO()?self:null}var PO="firebaseLocalStorageDb",m7=1,Gm="firebaseLocalStorage",NO="fbase_key",Sa=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ym(n,e){return n.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function y7(){let n=indexedDB.deleteDatabase(PO);return new Sa(n).toPromise()}function CI(){let n=indexedDB.open(PO,m7);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gm,{keyPath:NO})}catch(i){t(i)}}),n.addEventListener("success",()=>C(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),yield y7(),e(yield CI()))}))})}function nO(n,e,t){return C(this,null,function*(){let r=Ym(n,!0).put({[NO]:e,value:t});return new Sa(r).toPromise()})}function v7(n,e){return C(this,null,function*(){let t=Ym(n,!1).get(e),r=yield new Sa(t).toPromise();return r===void 0?null:r.value})}function rO(n,e){let t=Ym(n,!0).delete(e);return new Sa(t).toPromise()}var _7=800,b7=3,w7=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield CI(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>b7)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return RO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=d7._getInstance(g7()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield f7(),!this.activeServiceWorker)return;this.sender=new II(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||p7()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield CI();return yield nO(t,qm,"1"),yield rO(t,qm),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>nO(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>v7(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>rO(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=Ym(o,!1).getAll();return new Sa(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),_7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),kO=w7;var jve=TO("rcb"),Uve=new Ta(3e4,6e4);function E7(n,e){return e?to(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ih=class extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hI(e,this._buildIdpRequest())}_linkToIdToken(e,t){return hI(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return hI(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function I7(n){return o7(n.auth,new ih(n),n.bypassAuthState)}function C7(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),i7(t,new ih(n),n.bypassAuthState)}function D7(n){return C(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),r7(t,new ih(n),n.bypassAuthState)})}var DI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I7;case"linkViaPopup":case"linkViaRedirect":return D7;case"reauthViaPopup":case"reauthViaRedirect":return C7;default:ts(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Bve=new Ta(2e3,1e4);var T7="pendingRedirect",Om=new Map,TI=class n extends DI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Om.get(this.auth._key());if(!e){try{let r=(yield S7(this.resolver,this.auth))?yield To(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Om.set(this.auth._key(),e)}return this.bypassAuthState||Om.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return To(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,To(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function S7(n,e){return C(this,null,function*(){let t=M7(e),r=A7(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function x7(n,e){Om.set(n._key(),e)}function A7(n){return to(n._redirectPersistence)}function M7(n){return km(T7,n.config.apiKey,n.name)}function R7(n,e,t=!1){return C(this,null,function*(){if(pr(n.app))return Promise.reject(Ca(n));let r=LI(n),i=E7(r,e),s=yield new TI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var P7=10*60*1e3,SI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N7(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Da(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=P7&&this.cachedEventUids.clear(),this.cachedEventUids.has(iO(e))}saveEventToCache(e){this.cachedEventUids.add(iO(e)),this.lastProcessedEventTime=Date.now()}};function iO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function N7(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OO(n);default:return!1}}function k7(t){return C(this,arguments,function*(n,e={}){return ll(n,"GET","/v1/projects",e)})}var O7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F7=/^https?/;function L7(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield k7(n);for(let t of e)try{if(V7(t))return}catch{}ts(n,"unauthorized-domain")})}function V7(n){let e=pI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!F7.test(t))return!1;if(O7.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var j7=new Ta(3e4,6e4);function oO(){let n=hi().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function U7(n){return new Promise((e,t)=>{var r,i,o;function s(){oO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oO(),t(Da(n,"network-request-failed"))},timeout:j7.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hi().gapi)===null||o===void 0)&&o.load)s();else{let a=TO("iframefcb");return hi()[a]=()=>{gapi.load?s():t(Da(n,"network-request-failed"))},ZG(`${JG()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw Fm=null,e})}var Fm=null;function B7(n){return Fm=Fm||U7(n),Fm}var $7=new Ta(5e3,15e3),H7="__/auth/iframe",z7="emulator/auth/iframe",q7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G7(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?RI(e,z7):`https://${n.config.authDomain}/${H7}`,r={apiKey:e.apiKey,appName:n.name,v:Yo},i=W7.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Gd(r).slice(1)}`}function K7(n){return C(this,null,function*(){let e=yield B7(n),t=hi().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:G7(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q7,dontclear:!0},r=>new Promise((i,o)=>C(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Da(n,"network-request-failed"),a=hi().setTimeout(()=>{o(s)},$7.get());function c(){hi().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var Y7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q7=500,X7=600,Z7="_blank",J7="http://localhost",Km=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eK(n,e,t,r=Q7,i=X7){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Y7),{width:r.toString(),height:i.toString(),top:o,left:s}),l=qt().toLowerCase();t&&(a=_O(l)?Z7:t),yO(l)&&(e=e||J7,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(GG(l)&&a!=="_self")return tK(e||"",a),new Km(null);let h=window.open(e||"",a,u);ce(h,n,"popup-blocked");try{h.focus()}catch{}return new Km(h)}function tK(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var nK="__/auth/handler",rK="emulator/auth/handler",iK=encodeURIComponent("fac");function sO(n,e,t,r,i,o){return C(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yo,eventId:i};if(e instanceof zm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wk(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,h]of Object.entries(o||{}))s[u]=h}if(e instanceof wI){let u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield n._getAppCheckToken(),l=c?`#${iK}=${encodeURIComponent(c)}`:"";return`${oK(n)}?${Gd(a).slice(1)}${l}`})}function oK({config:n}){return n.emulator?RI(n,rK):`https://${n.authDomain}/${nK}`}var fI="webStorageSupport",xI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HI,this._completeRedirectFn=R7,this._overrideRedirectResult=x7}_openPopup(e,t,r,i){return C(this,null,function*(){var o;ns((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield sO(e,t,r,pI(),i);return eK(e,s,MO())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield sO(e,t,r,pI(),i);return h7(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ns(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield K7(e),r=new SI(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fI,{type:fI},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[fI];s!==void 0&&t(!!s),ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=L7(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CO()||vO()||FI()}},FO=xI;var aO="@firebase/auth",cO="1.10.8";var AI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sK(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aK(n){jr(new En("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DO(n)},l=new bI(r,i,o,c);return e7(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),jr(new En("auth-internal",e=>{let t=LI(e.getProvider("auth").getImmediate());return(r=>new AI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_t(aO,cO,sK(n)),_t(aO,cO,"esm2017")}var cK=5*60,lK=$E("authIdTokenMaxAge")||cK,lO=null,uK=n=>e=>C(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>lK)return;let i=t?.token;lO!==i&&(lO=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zI(n=wa()){let e=ol(n,"auth");if(e.isInitialized())return e.getImmediate();let t=jI(n,{popupRedirectResolver:FO,persistence:[kO,AO,HI]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=uK(o.toString());$I(t,s,()=>s(t.currentUser)),BI(t,a=>s(a))}}let i=UE("auth");return i&&UI(t,`http://${i}`),t}function dK(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}XG({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Da("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",dK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aK("Browser");var LO="auth",oh=class{constructor(e){return e}},sh=class{constructor(){return al(LO)}};var qI=new G("angularfire2.auth-instances");function iY(n,e){let t=Qd(LO,n,e);return t&&new oh(t)}function oY(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new oh(r)}}var sY={provide:sh,deps:[[new Hn,qI]]},aY={provide:oh,useFactory:iY,deps:[[new Hn,qI],Ji]};function VO(n,...e){return _t("angularfire",Qo.full,"auth"),nr([aY,sY,{provide:qI,useFactory:oY(n),multi:!0,deps:[Ae,Tt,Xo,Ia,[new Hn,cl],...e]}])}var jO=Xt(zI,!0);var UO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BO={};var no,WI;(function(){var n;function e(I,w){function E(){}E.prototype=w.prototype,I.D=w.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(x,M,P){for(var D=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)D[dt-2]=arguments[dt];return w.prototype[M].apply(x,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,w,E){E||(E=0);var x=Array(16);if(typeof w=="string")for(var M=0;16>M;++M)x[M]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(M=0;16>M;++M)x[M]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=I.g[0],E=I.g[1],M=I.g[2];var P=I.g[3],D=w+(P^E&(M^P))+x[0]+3614090360&4294967295;w=E+(D<<7&4294967295|D>>>25),D=P+(M^w&(E^M))+x[1]+3905402710&4294967295,P=w+(D<<12&4294967295|D>>>20),D=M+(E^P&(w^E))+x[2]+606105819&4294967295,M=P+(D<<17&4294967295|D>>>15),D=E+(w^M&(P^w))+x[3]+3250441966&4294967295,E=M+(D<<22&4294967295|D>>>10),D=w+(P^E&(M^P))+x[4]+4118548399&4294967295,w=E+(D<<7&4294967295|D>>>25),D=P+(M^w&(E^M))+x[5]+1200080426&4294967295,P=w+(D<<12&4294967295|D>>>20),D=M+(E^P&(w^E))+x[6]+2821735955&4294967295,M=P+(D<<17&4294967295|D>>>15),D=E+(w^M&(P^w))+x[7]+4249261313&4294967295,E=M+(D<<22&4294967295|D>>>10),D=w+(P^E&(M^P))+x[8]+1770035416&4294967295,w=E+(D<<7&4294967295|D>>>25),D=P+(M^w&(E^M))+x[9]+2336552879&4294967295,P=w+(D<<12&4294967295|D>>>20),D=M+(E^P&(w^E))+x[10]+4294925233&4294967295,M=P+(D<<17&4294967295|D>>>15),D=E+(w^M&(P^w))+x[11]+2304563134&4294967295,E=M+(D<<22&4294967295|D>>>10),D=w+(P^E&(M^P))+x[12]+1804603682&4294967295,w=E+(D<<7&4294967295|D>>>25),D=P+(M^w&(E^M))+x[13]+4254626195&4294967295,P=w+(D<<12&4294967295|D>>>20),D=M+(E^P&(w^E))+x[14]+2792965006&4294967295,M=P+(D<<17&4294967295|D>>>15),D=E+(w^M&(P^w))+x[15]+1236535329&4294967295,E=M+(D<<22&4294967295|D>>>10),D=w+(M^P&(E^M))+x[1]+4129170786&4294967295,w=E+(D<<5&4294967295|D>>>27),D=P+(E^M&(w^E))+x[6]+3225465664&4294967295,P=w+(D<<9&4294967295|D>>>23),D=M+(w^E&(P^w))+x[11]+643717713&4294967295,M=P+(D<<14&4294967295|D>>>18),D=E+(P^w&(M^P))+x[0]+3921069994&4294967295,E=M+(D<<20&4294967295|D>>>12),D=w+(M^P&(E^M))+x[5]+3593408605&4294967295,w=E+(D<<5&4294967295|D>>>27),D=P+(E^M&(w^E))+x[10]+38016083&4294967295,P=w+(D<<9&4294967295|D>>>23),D=M+(w^E&(P^w))+x[15]+3634488961&4294967295,M=P+(D<<14&4294967295|D>>>18),D=E+(P^w&(M^P))+x[4]+3889429448&4294967295,E=M+(D<<20&4294967295|D>>>12),D=w+(M^P&(E^M))+x[9]+568446438&4294967295,w=E+(D<<5&4294967295|D>>>27),D=P+(E^M&(w^E))+x[14]+3275163606&4294967295,P=w+(D<<9&4294967295|D>>>23),D=M+(w^E&(P^w))+x[3]+4107603335&4294967295,M=P+(D<<14&4294967295|D>>>18),D=E+(P^w&(M^P))+x[8]+1163531501&4294967295,E=M+(D<<20&4294967295|D>>>12),D=w+(M^P&(E^M))+x[13]+2850285829&4294967295,w=E+(D<<5&4294967295|D>>>27),D=P+(E^M&(w^E))+x[2]+4243563512&4294967295,P=w+(D<<9&4294967295|D>>>23),D=M+(w^E&(P^w))+x[7]+1735328473&4294967295,M=P+(D<<14&4294967295|D>>>18),D=E+(P^w&(M^P))+x[12]+2368359562&4294967295,E=M+(D<<20&4294967295|D>>>12),D=w+(E^M^P)+x[5]+4294588738&4294967295,w=E+(D<<4&4294967295|D>>>28),D=P+(w^E^M)+x[8]+2272392833&4294967295,P=w+(D<<11&4294967295|D>>>21),D=M+(P^w^E)+x[11]+1839030562&4294967295,M=P+(D<<16&4294967295|D>>>16),D=E+(M^P^w)+x[14]+4259657740&4294967295,E=M+(D<<23&4294967295|D>>>9),D=w+(E^M^P)+x[1]+2763975236&4294967295,w=E+(D<<4&4294967295|D>>>28),D=P+(w^E^M)+x[4]+1272893353&4294967295,P=w+(D<<11&4294967295|D>>>21),D=M+(P^w^E)+x[7]+4139469664&4294967295,M=P+(D<<16&4294967295|D>>>16),D=E+(M^P^w)+x[10]+3200236656&4294967295,E=M+(D<<23&4294967295|D>>>9),D=w+(E^M^P)+x[13]+681279174&4294967295,w=E+(D<<4&4294967295|D>>>28),D=P+(w^E^M)+x[0]+3936430074&4294967295,P=w+(D<<11&4294967295|D>>>21),D=M+(P^w^E)+x[3]+3572445317&4294967295,M=P+(D<<16&4294967295|D>>>16),D=E+(M^P^w)+x[6]+76029189&4294967295,E=M+(D<<23&4294967295|D>>>9),D=w+(E^M^P)+x[9]+3654602809&4294967295,w=E+(D<<4&4294967295|D>>>28),D=P+(w^E^M)+x[12]+3873151461&4294967295,P=w+(D<<11&4294967295|D>>>21),D=M+(P^w^E)+x[15]+530742520&4294967295,M=P+(D<<16&4294967295|D>>>16),D=E+(M^P^w)+x[2]+3299628645&4294967295,E=M+(D<<23&4294967295|D>>>9),D=w+(M^(E|~P))+x[0]+4096336452&4294967295,w=E+(D<<6&4294967295|D>>>26),D=P+(E^(w|~M))+x[7]+1126891415&4294967295,P=w+(D<<10&4294967295|D>>>22),D=M+(w^(P|~E))+x[14]+2878612391&4294967295,M=P+(D<<15&4294967295|D>>>17),D=E+(P^(M|~w))+x[5]+4237533241&4294967295,E=M+(D<<21&4294967295|D>>>11),D=w+(M^(E|~P))+x[12]+1700485571&4294967295,w=E+(D<<6&4294967295|D>>>26),D=P+(E^(w|~M))+x[3]+2399980690&4294967295,P=w+(D<<10&4294967295|D>>>22),D=M+(w^(P|~E))+x[10]+4293915773&4294967295,M=P+(D<<15&4294967295|D>>>17),D=E+(P^(M|~w))+x[1]+2240044497&4294967295,E=M+(D<<21&4294967295|D>>>11),D=w+(M^(E|~P))+x[8]+1873313359&4294967295,w=E+(D<<6&4294967295|D>>>26),D=P+(E^(w|~M))+x[15]+4264355552&4294967295,P=w+(D<<10&4294967295|D>>>22),D=M+(w^(P|~E))+x[6]+2734768916&4294967295,M=P+(D<<15&4294967295|D>>>17),D=E+(P^(M|~w))+x[13]+1309151649&4294967295,E=M+(D<<21&4294967295|D>>>11),D=w+(M^(E|~P))+x[4]+4149444226&4294967295,w=E+(D<<6&4294967295|D>>>26),D=P+(E^(w|~M))+x[11]+3174756917&4294967295,P=w+(D<<10&4294967295|D>>>22),D=M+(w^(P|~E))+x[2]+718787259&4294967295,M=P+(D<<15&4294967295|D>>>17),D=E+(P^(M|~w))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,w){w===void 0&&(w=I.length);for(var E=w-this.blockSize,x=this.B,M=this.h,P=0;P<w;){if(M==0)for(;P<=E;)i(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<w;)if(x[M++]=I.charCodeAt(P++),M==this.blockSize){i(this,x),M=0;break}}else for(;P<w;)if(x[M++]=I[P++],M==this.blockSize){i(this,x),M=0;break}}this.h=M,this.o+=w},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;var E=8*this.o;for(w=I.length-8;w<I.length;++w)I[w]=E&255,E/=256;for(this.u(I),I=Array(16),w=E=0;4>w;++w)for(var x=0;32>x;x+=8)I[E++]=this.g[w]>>>x&255;return I};function o(I,w){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=w(I)}function s(I,w){this.h=w;for(var E=[],x=!0,M=I.length-1;0<=M;M--){var P=I[M]|0;x&&P==w||(E[M]=P,x=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?o(I,function(w){return new s([w|0],0>w?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return _(l(-I));for(var w=[],E=1,x=0;I>=E;x++)w[x]=I/E|0,E*=4294967296;return new s(w,0)}function u(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return _(u(I.substring(1),w));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(w,8)),x=h,M=0;M<I.length;M+=8){var P=Math.min(8,I.length-M),D=parseInt(I.substring(M,M+P),w);8>P?(P=l(Math.pow(w,P)),x=x.j(P).add(l(D))):(x=x.j(E),x=x.add(l(D)))}return x}var h=c(0),f=c(1),p=c(16777216);n=s.prototype,n.m=function(){if(v(this))return-_(this).m();for(var I=0,w=1,E=0;E<this.g.length;E++){var x=this.i(E);I+=(0<=x?x:4294967296+x)*w,w*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(v(this))return"-"+_(this).toString(I);for(var w=l(Math.pow(I,6)),E=this,x="";;){var M=V(E,w).g;E=S(E,M.j(w));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=M,y(E))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function v(I){return I.h==-1}n.l=function(I){return I=S(this,I),v(I)?-1:y(I)?0:1};function _(I){for(var w=I.g.length,E=[],x=0;x<w;x++)E[x]=~I.g[x];return new s(E,~I.h).add(f)}n.abs=function(){return v(this)?_(this):this},n.add=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],x=0,M=0;M<=w;M++){var P=x+(this.i(M)&65535)+(I.i(M)&65535),D=(P>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);x=D>>>16,P&=65535,D&=65535,E[M]=D<<16|P}return new s(E,E[E.length-1]&-2147483648?-1:0)};function S(I,w){return I.add(_(w))}n.j=function(I){if(y(this)||y(I))return h;if(v(this))return v(I)?_(this).j(_(I)):_(_(this).j(I));if(v(I))return _(this.j(_(I)));if(0>this.l(p)&&0>I.l(p))return l(this.m()*I.m());for(var w=this.g.length+I.g.length,E=[],x=0;x<2*w;x++)E[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<I.g.length;M++){var P=this.i(x)>>>16,D=this.i(x)&65535,dt=I.i(M)>>>16,xe=I.i(M)&65535;E[2*x+2*M]+=D*xe,R(E,2*x+2*M),E[2*x+2*M+1]+=P*xe,R(E,2*x+2*M+1),E[2*x+2*M+1]+=D*dt,R(E,2*x+2*M+1),E[2*x+2*M+2]+=P*dt,R(E,2*x+2*M+2)}for(x=0;x<w;x++)E[x]=E[2*x+1]<<16|E[2*x];for(x=w;x<2*w;x++)E[x]=0;return new s(E,0)};function R(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function O(I,w){this.g=I,this.h=w}function V(I,w){if(y(w))throw Error("division by zero");if(y(I))return new O(h,h);if(v(I))return w=V(_(I),w),new O(_(w.g),_(w.h));if(v(w))return w=V(I,_(w)),new O(_(w.g),w.h);if(30<I.g.length){if(v(I)||v(w))throw Error("slowDivide_ only works with positive integers.");for(var E=f,x=w;0>=x.l(I);)E=L(E),x=L(x);var M=j(E,1),P=j(x,1);for(x=j(x,2),E=j(E,2);!y(x);){var D=P.add(x);0>=D.l(I)&&(M=M.add(E),P=D),x=j(x,1),E=j(E,1)}return w=S(I,M.j(w)),new O(M,w)}for(M=h;0<=I.l(w);){for(E=Math.max(1,Math.floor(I.m()/w.m())),x=Math.ceil(Math.log(E)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=l(E),D=P.j(w);v(D)||0<D.l(I);)E-=x,P=l(E),D=P.j(w);y(P)&&(P=f),M=M.add(P),I=S(I,D)}return new O(M,I)}n.A=function(I){return V(this,I).h},n.and=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],x=0;x<w;x++)E[x]=this.i(x)&I.i(x);return new s(E,this.h&I.h)},n.or=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],x=0;x<w;x++)E[x]=this.i(x)|I.i(x);return new s(E,this.h|I.h)},n.xor=function(I){for(var w=Math.max(this.g.length,I.g.length),E=[],x=0;x<w;x++)E[x]=this.i(x)^I.i(x);return new s(E,this.h^I.h)};function L(I){for(var w=I.g.length+1,E=[],x=0;x<w;x++)E[x]=I.i(x)<<1|I.i(x-1)>>>31;return new s(E,I.h)}function j(I,w){var E=w>>5;w%=32;for(var x=I.g.length-E,M=[],P=0;P<x;P++)M[P]=0<w?I.i(P+E)>>>w|I.i(P+E+1)<<32-w:I.i(P+E);return new s(M,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WI=BO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=u,no=BO.Integer=s}).apply(typeof UO<"u"?UO:typeof self<"u"?self:typeof window<"u"?window:{});var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ro={};var GI,cY,ul,KI,ah,Xm,YI,QI,XI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,g,m){return d==Array.prototype||d==Object.prototype||(d[g]=m.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qm=="object"&&Qm];for(var g=0;g<d.length;++g){var m=d[g];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(d,g){if(g)e:{var m=r;d=d.split(".");for(var b=0;b<d.length-1;b++){var k=d[b];if(!(k in m))break e;m=m[k]}d=d[d.length-1],b=m[d],g=g(b),g!=b&&g!=null&&e(m,d,{configurable:!0,writable:!0,value:g})}}function o(d,g){d instanceof String&&(d+="");var m=0,b=!1,k={next:function(){if(!b&&m<d.length){var F=m++;return{value:g(F,d[F]),done:!1}}return b=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(d){return d||function(){return o(this,function(g,m){return m})}});var s=s||{},a=this||self;function c(d){var g=typeof d;return g=g!="object"?g:d?Array.isArray(d)?"array":g:"null",g=="array"||g=="object"&&typeof d.length=="number"}function l(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function u(d,g,m){return d.call.apply(d.bind,arguments)}function h(d,g,m){if(!d)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,b),d.apply(g,k)}}return function(){return d.apply(g,arguments)}}function f(d,g,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function p(d,g){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),d.apply(this,b)}}function y(d,g){function m(){}m.prototype=g.prototype,d.aa=g.prototype,d.prototype=new m,d.prototype.constructor=d,d.Qb=function(b,k,F){for(var W=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)W[ze-2]=arguments[ze];return g.prototype[k].apply(b,W)}}function v(d){let g=d.length;if(0<g){let m=Array(g);for(let b=0;b<g;b++)m[b]=d[b];return m}return[]}function _(d,g){for(let m=1;m<arguments.length;m++){let b=arguments[m];if(c(b)){let k=d.length||0,F=b.length||0;d.length=k+F;for(let W=0;W<F;W++)d[k+W]=b[W]}else d.push(b)}}class S{constructor(g,m){this.i=g,this.j=m,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function R(d){return/^[\s\xa0]*$/.test(d)}function O(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function V(d){return V[" "](d),d}V[" "]=function(){};var L=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function j(d,g,m){for(let b in d)g.call(m,d[b],b,d)}function I(d,g){for(let m in d)g.call(void 0,d[m],m,d)}function w(d){let g={};for(let m in d)g[m]=d[m];return g}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(d,g){let m,b;for(let k=1;k<arguments.length;k++){b=arguments[k];for(m in b)d[m]=b[m];for(let F=0;F<E.length;F++)m=E[F],Object.prototype.hasOwnProperty.call(b,m)&&(d[m]=b[m])}}function M(d){var g=1;d=d.split(":");let m=[];for(;0<g&&d.length;)m.push(d.shift()),g--;return d.length&&m.push(d.join(":")),m}function P(d){a.setTimeout(()=>{throw d},0)}function D(){var d=Ct;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class dt{constructor(){this.h=this.g=null}add(g,m){let b=xe.get();b.set(g,m),this.h?this.h.next=b:this.g=b,this.h=b}}var xe=new S(()=>new Xe,d=>d.reset());class Xe{constructor(){this.next=this.g=this.h=null}set(g,m){this.h=g,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let He,Kt=!1,Ct=new dt,xi=()=>{let d=a.Promise.resolve(void 0);He=()=>{d.then(Xa)}};var Xa=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(m){P(m)}var g=xe;g.j(d),100>g.h&&(g.h++,d.next=g.g,g.g=d)}Kt=!1};function fn(){this.s=this.s,this.C=this.C}fn.prototype.s=!1,fn.prototype.ma=function(){this.s||(this.s=!0,this.N())},fn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var Ai=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{let m=()=>{};a.addEventListener("test",m,g),a.removeEventListener("test",m,g)}catch{}return d}();function br(d,g){if(gt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var m=this.type=d.type,b=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget){if(L){e:{try{V(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else m=="mouseover"?g=d.fromElement:m=="mouseout"&&(g=d.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Mi[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&br.aa.h.call(this)}}y(br,gt);var Mi={2:"touch",3:"pen",4:"mouse"};br.prototype.h=function(){br.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var lu="closure_listenable_"+(1e6*Math.random()|0),hB=0;function fB(d,g,m,b,k){this.listener=d,this.proxy=null,this.src=g,this.type=m,this.capture=!!b,this.ha=k,this.key=++hB,this.da=this.fa=!1}function of(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function sf(d){this.src=d,this.g={},this.h=0}sf.prototype.add=function(d,g,m,b,k){var F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);var W=v_(d,g,b,k);return-1<W?(g=d[W],m||(g.fa=!1)):(g=new fB(g,this.src,F,!!b,k),g.fa=m,d.push(g)),g};function y_(d,g){var m=g.type;if(m in d.g){var b=d.g[m],k=Array.prototype.indexOf.call(b,g,void 0),F;(F=0<=k)&&Array.prototype.splice.call(b,k,1),F&&(of(g),d.g[m].length==0&&(delete d.g[m],d.h--))}}function v_(d,g,m,b){for(var k=0;k<d.length;++k){var F=d[k];if(!F.da&&F.listener==g&&F.capture==!!m&&F.ha==b)return k}return-1}var __="closure_lm_"+(1e6*Math.random()|0),b_={};function US(d,g,m,b,k){if(b&&b.once)return $S(d,g,m,b,k);if(Array.isArray(g)){for(var F=0;F<g.length;F++)US(d,g[F],m,b,k);return null}return m=C_(m),d&&d[lu]?d.K(g,m,l(b)?!!b.capture:!!b,k):BS(d,g,m,!1,b,k)}function BS(d,g,m,b,k,F){if(!g)throw Error("Invalid event type");var W=l(k)?!!k.capture:!!k,ze=E_(d);if(ze||(d[__]=ze=new sf(d)),m=ze.add(g,m,b,W,F),m.proxy)return m;if(b=pB(),m.proxy=b,b.src=d,b.listener=m,d.addEventListener)Ai||(k=W),k===void 0&&(k=!1),d.addEventListener(g.toString(),b,k);else if(d.attachEvent)d.attachEvent(zS(g.toString()),b);else if(d.addListener&&d.removeListener)d.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function pB(){function d(m){return g.call(d.src,d.listener,m)}let g=gB;return d}function $S(d,g,m,b,k){if(Array.isArray(g)){for(var F=0;F<g.length;F++)$S(d,g[F],m,b,k);return null}return m=C_(m),d&&d[lu]?d.L(g,m,l(b)?!!b.capture:!!b,k):BS(d,g,m,!0,b,k)}function HS(d,g,m,b,k){if(Array.isArray(g))for(var F=0;F<g.length;F++)HS(d,g[F],m,b,k);else b=l(b)?!!b.capture:!!b,m=C_(m),d&&d[lu]?(d=d.i,g=String(g).toString(),g in d.g&&(F=d.g[g],m=v_(F,m,b,k),-1<m&&(of(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete d.g[g],d.h--)))):d&&(d=E_(d))&&(g=d.g[g.toString()],d=-1,g&&(d=v_(g,m,b,k)),(m=-1<d?g[d]:null)&&w_(m))}function w_(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[lu])y_(g.i,d);else{var m=d.type,b=d.proxy;g.removeEventListener?g.removeEventListener(m,b,d.capture):g.detachEvent?g.detachEvent(zS(m),b):g.addListener&&g.removeListener&&g.removeListener(b),(m=E_(g))?(y_(m,d),m.h==0&&(m.src=null,g[__]=null)):of(d)}}}function zS(d){return d in b_?b_[d]:b_[d]="on"+d}function gB(d,g){if(d.da)d=!0;else{g=new br(g,this);var m=d.listener,b=d.ha||d.src;d.fa&&w_(d),d=m.call(b,g)}return d}function E_(d){return d=d[__],d instanceof sf?d:null}var I_="__closure_events_fn_"+(1e9*Math.random()>>>0);function C_(d){return typeof d=="function"?d:(d[I_]||(d[I_]=function(g){return d.handleEvent(g)}),d[I_])}function tn(){fn.call(this),this.i=new sf(this),this.M=this,this.F=null}y(tn,fn),tn.prototype[lu]=!0,tn.prototype.removeEventListener=function(d,g,m,b){HS(this,d,g,m,b)};function pn(d,g){var m,b=d.F;if(b)for(m=[];b;b=b.F)m.push(b);if(d=d.M,b=g.type||g,typeof g=="string")g=new gt(g,d);else if(g instanceof gt)g.target=g.target||d;else{var k=g;g=new gt(b,d),x(g,k)}if(k=!0,m)for(var F=m.length-1;0<=F;F--){var W=g.g=m[F];k=af(W,b,!0,g)&&k}if(W=g.g=d,k=af(W,b,!0,g)&&k,k=af(W,b,!1,g)&&k,m)for(F=0;F<m.length;F++)W=g.g=m[F],k=af(W,b,!1,g)&&k}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var d=this.i,g;for(g in d.g){for(var m=d.g[g],b=0;b<m.length;b++)of(m[b]);delete d.g[g],d.h--}}this.F=null},tn.prototype.K=function(d,g,m,b){return this.i.add(String(d),g,!1,m,b)},tn.prototype.L=function(d,g,m,b){return this.i.add(String(d),g,!0,m,b)};function af(d,g,m,b){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,F=0;F<g.length;++F){var W=g[F];if(W&&!W.da&&W.capture==m){var ze=W.listener,Yt=W.ha||W.src;W.fa&&y_(d.i,W),k=ze.call(Yt,b)!==!1&&k}}return k&&!b.defaultPrevented}function qS(d,g,m){if(typeof d=="function")m&&(d=f(d,m));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(d,g||0)}function WS(d){d.g=qS(()=>{d.g=null,d.i&&(d.i=!1,WS(d))},d.l);let g=d.h;d.h=null,d.m.apply(null,g)}class mB extends fn{constructor(g,m){super(),this.m=g,this.l=m,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:WS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uu(d){fn.call(this),this.h=d,this.g={}}y(uu,fn);var GS=[];function KS(d){j(d.g,function(g,m){this.g.hasOwnProperty(m)&&w_(g)},d),d.g={}}uu.prototype.N=function(){uu.aa.N.call(this),KS(this)},uu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var D_=a.JSON.stringify,yB=a.JSON.parse,vB=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function T_(){}T_.prototype.h=null;function YS(d){return d.h||(d.h=d.i())}function QS(){}var du={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function S_(){gt.call(this,"d")}y(S_,gt);function x_(){gt.call(this,"c")}y(x_,gt);var As={},XS=null;function cf(){return XS=XS||new tn}As.La="serverreachability";function ZS(d){gt.call(this,As.La,d)}y(ZS,gt);function hu(d){let g=cf();pn(g,new ZS(g))}As.STAT_EVENT="statevent";function JS(d,g){gt.call(this,As.STAT_EVENT,d),this.stat=g}y(JS,gt);function gn(d){let g=cf();pn(g,new JS(g,d))}As.Ma="timingevent";function ex(d,g){gt.call(this,As.Ma,d),this.size=g}y(ex,gt);function fu(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},g)}function pu(){this.g=!0}pu.prototype.xa=function(){this.g=!1};function _B(d,g,m,b,k,F){d.info(function(){if(d.g)if(F)for(var W="",ze=F.split("&"),Yt=0;Yt<ze.length;Yt++){var Pe=ze[Yt].split("=");if(1<Pe.length){var nn=Pe[0];Pe=Pe[1];var rn=nn.split("_");W=2<=rn.length&&rn[1]=="type"?W+(nn+"="+Pe+"&"):W+(nn+"=redacted&")}}else W=null;else W=F;return"XMLHTTP REQ ("+b+") [attempt "+k+"]: "+g+`
`+m+`
`+W})}function bB(d,g,m,b,k,F,W){d.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+k+"]: "+g+`
`+m+`
`+F+" "+W})}function Za(d,g,m,b){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+EB(d,m)+(b?" "+b:"")})}function wB(d,g){d.info(function(){return"TIMEOUT: "+g})}pu.prototype.info=function(){};function EB(d,g){if(!d.g)return g;if(!g)return null;try{var m=JSON.parse(g);if(m){for(d=0;d<m.length;d++)if(Array.isArray(m[d])){var b=m[d];if(!(2>b.length)){var k=b[1];if(Array.isArray(k)&&!(1>k.length)){var F=k[0];if(F!="noop"&&F!="stop"&&F!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return D_(m)}catch{return g}}var lf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},A_;function uf(){}y(uf,T_),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},A_=new uf;function Io(d,g,m,b){this.j=d,this.i=g,this.l=m,this.R=b||1,this.U=new uu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nx}function nx(){this.i=null,this.g="",this.h=!1}var rx={},M_={};function R_(d,g,m){d.L=1,d.v=pf(Ri(g)),d.m=m,d.P=!0,ix(d,null)}function ix(d,g){d.F=Date.now(),df(d),d.A=Ri(d.v);var m=d.A,b=d.R;Array.isArray(b)||(b=[String(b)]),vx(m.i,"t",b),d.C=0,m=d.j.J,d.h=new nx,d.g=Fx(d.j,m?g:null,!d.m),0<d.O&&(d.M=new mB(f(d.Y,d,d.g),d.O)),g=d.U,m=d.g,b=d.ca;var k="readystatechange";Array.isArray(k)||(k&&(GS[0]=k.toString()),k=GS);for(var F=0;F<k.length;F++){var W=US(m,k[F],b||g.handleEvent,!1,g.h||g);if(!W)break;g.g[W.key]=W}g=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,g)):(d.u="GET",d.g.ea(d.A,d.u,null,g)),hu(),_B(d.i,d.u,d.A,d.l,d.R,d.m)}Io.prototype.ca=function(d){d=d.target;let g=this.M;g&&Pi(d)==3?g.j():this.Y(d)},Io.prototype.Y=function(d){try{if(d==this.g)e:{let rn=Pi(this.g);var g=this.g.Ba();let tc=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||Dx(this.g)))){this.J||rn!=4||g==7||(g==8||0>=tc?hu(3):hu(2)),P_(this);var m=this.g.Z();this.X=m;t:if(ox(this)){var b=Dx(this.g);d="";var k=b.length,F=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),gu(this);var W="";break t}this.h.i=new a.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,d+=this.h.i.decode(b[g],{stream:!(F&&g==k-1)});b.length=0,this.h.g+=d,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,bB(this.i,this.u,this.A,this.l,this.R,rn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Yt=this.g;if((ze=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ze)){var Pe=ze;break t}}Pe=null}if(m=Pe)Za(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,N_(this,m);else{this.o=!1,this.s=3,gn(12),Ms(this),gu(this);break e}}if(this.P){m=!0;let wr;for(;!this.J&&this.C<W.length;)if(wr=IB(this,W),wr==M_){rn==4&&(this.s=4,gn(14),m=!1),Za(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==rx){this.s=4,gn(15),Za(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else Za(this.i,this.l,wr,null),N_(this,wr);if(ox(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||W.length!=0||this.h.h||(this.s=1,gn(16),m=!1),this.o=this.o&&m,!m)Za(this.i,this.l,W,"[Invalid Chunked Response]"),Ms(this),gu(this);else if(0<W.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),j_(nn),nn.M=!0,gn(11))}}else Za(this.i,this.l,W,null),N_(this,W);rn==4&&Ms(this),this.o&&!this.J&&(rn==4?Px(this.j,this):(this.o=!1,df(this)))}else UB(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,gn(12)):(this.s=0,gn(13)),Ms(this),gu(this)}}}catch{}finally{}};function ox(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function IB(d,g){var m=d.C,b=g.indexOf(`
`,m);return b==-1?M_:(m=Number(g.substring(m,b)),isNaN(m)?rx:(b+=1,b+m>g.length?M_:(g=g.slice(b,b+m),d.C=b+m,g)))}Io.prototype.cancel=function(){this.J=!0,Ms(this)};function df(d){d.S=Date.now()+d.I,sx(d,d.I)}function sx(d,g){if(d.B!=null)throw Error("WatchDog timer not null");d.B=fu(f(d.ba,d),g)}function P_(d){d.B&&(a.clearTimeout(d.B),d.B=null)}Io.prototype.ba=function(){this.B=null;let d=Date.now();0<=d-this.S?(wB(this.i,this.A),this.L!=2&&(hu(),gn(17)),Ms(this),this.s=2,gu(this)):sx(this,this.S-d)};function gu(d){d.j.G==0||d.J||Px(d.j,d)}function Ms(d){P_(d);var g=d.M;g&&typeof g.ma=="function"&&g.ma(),d.M=null,KS(d.U),d.g&&(g=d.g,d.g=null,g.abort(),g.ma())}function N_(d,g){try{var m=d.j;if(m.G!=0&&(m.g==d||k_(m.h,d))){if(!d.K&&k_(m.h,d)&&m.G==3){try{var b=m.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var k=b;if(k[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<d.F)_f(m),yf(m);else break e;V_(m),gn(18)}}else m.za=k[1],0<m.za-m.T&&37500>k[2]&&m.F&&m.v==0&&!m.C&&(m.C=fu(f(m.Za,m),6e3));if(1>=lx(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ps(m,11)}else if((d.K||m.g==d)&&_f(m),!R(g))for(k=m.Da.g.parse(g),g=0;g<k.length;g++){let Pe=k[g];if(m.T=Pe[0],Pe=Pe[1],m.G==2)if(Pe[0]=="c"){m.K=Pe[1],m.ia=Pe[2];let nn=Pe[3];nn!=null&&(m.la=nn,m.j.info("VER="+m.la));let rn=Pe[4];rn!=null&&(m.Aa=rn,m.j.info("SVER="+m.Aa));let tc=Pe[5];tc!=null&&typeof tc=="number"&&0<tc&&(b=1.5*tc,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;let wr=d.g;if(wr){let wf=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wf){var F=b.h;F.g||wf.indexOf("spdy")==-1&&wf.indexOf("quic")==-1&&wf.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(O_(F,F.h),F.h=null))}if(b.D){let U_=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;U_&&(b.ya=U_,nt(b.I,b.D,U_))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-d.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var W=d;if(b.qa=Ox(b,b.J?b.ia:null,b.W),W.K){ux(b.h,W);var ze=W,Yt=b.L;Yt&&(ze.I=Yt),ze.B&&(P_(ze),df(ze)),b.g=W}else Mx(b);0<m.i.length&&vf(m)}else Pe[0]!="stop"&&Pe[0]!="close"||Ps(m,7);else m.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ps(m,7):L_(m):Pe[0]!="noop"&&m.l&&m.l.ta(Pe),m.v=0)}}hu(4)}catch{}}var CB=class{constructor(d,g){this.g=d,this.map=g}};function ax(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cx(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function lx(d){return d.h?1:d.g?d.g.size:0}function k_(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function O_(d,g){d.g?d.g.add(g):d.h=g}function ux(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}ax.prototype.cancel=function(){if(this.i=dx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let d of this.g.values())d.cancel();this.g.clear()}};function dx(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let g=d.i;for(let m of d.g.values())g=g.concat(m.D);return g}return v(d.i)}function DB(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var g=[],m=d.length,b=0;b<m;b++)g.push(d[b]);return g}g=[],m=0;for(b in d)g[m++]=d[b];return g}function TB(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var g=[];d=d.length;for(var m=0;m<d;m++)g.push(m);return g}g=[],m=0;for(let b in d)g[m++]=b;return g}}}function hx(d,g){if(d.forEach&&typeof d.forEach=="function")d.forEach(g,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,g,void 0);else for(var m=TB(d),b=DB(d),k=b.length,F=0;F<k;F++)g.call(void 0,b[F],m&&m[F],d)}var fx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SB(d,g){if(d){d=d.split("&");for(var m=0;m<d.length;m++){var b=d[m].indexOf("="),k=null;if(0<=b){var F=d[m].substring(0,b);k=d[m].substring(b+1)}else F=d[m];g(F,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Rs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Rs){this.h=d.h,hf(this,d.j),this.o=d.o,this.g=d.g,ff(this,d.s),this.l=d.l;var g=d.i,m=new vu;m.i=g.i,g.g&&(m.g=new Map(g.g),m.h=g.h),px(this,m),this.m=d.m}else d&&(g=String(d).match(fx))?(this.h=!1,hf(this,g[1]||"",!0),this.o=mu(g[2]||""),this.g=mu(g[3]||"",!0),ff(this,g[4]),this.l=mu(g[5]||"",!0),px(this,g[6]||"",!0),this.m=mu(g[7]||"")):(this.h=!1,this.i=new vu(null,this.h))}Rs.prototype.toString=function(){var d=[],g=this.j;g&&d.push(yu(g,gx,!0),":");var m=this.g;return(m||g=="file")&&(d.push("//"),(g=this.o)&&d.push(yu(g,gx,!0),"@"),d.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&d.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&d.push("/"),d.push(yu(m,m.charAt(0)=="/"?MB:AB,!0))),(m=this.i.toString())&&d.push("?",m),(m=this.m)&&d.push("#",yu(m,PB)),d.join("")};function Ri(d){return new Rs(d)}function hf(d,g,m){d.j=m?mu(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function ff(d,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);d.s=g}else d.s=null}function px(d,g,m){g instanceof vu?(d.i=g,NB(d.i,d.h)):(m||(g=yu(g,RB)),d.i=new vu(g,d.h))}function nt(d,g,m){d.i.set(g,m)}function pf(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function mu(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function yu(d,g,m){return typeof d=="string"?(d=encodeURI(d).replace(g,xB),m&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xB(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var gx=/[#\/\?@]/g,AB=/[#\?:]/g,MB=/[#\?]/g,RB=/[#\?@]/g,PB=/#/g;function vu(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Co(d){d.g||(d.g=new Map,d.h=0,d.i&&SB(d.i,function(g,m){d.add(decodeURIComponent(g.replace(/\+/g," ")),m)}))}n=vu.prototype,n.add=function(d,g){Co(this),this.i=null,d=Ja(this,d);var m=this.g.get(d);return m||this.g.set(d,m=[]),m.push(g),this.h+=1,this};function mx(d,g){Co(d),g=Ja(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function yx(d,g){return Co(d),g=Ja(d,g),d.g.has(g)}n.forEach=function(d,g){Co(this),this.g.forEach(function(m,b){m.forEach(function(k){d.call(g,k,b,this)},this)},this)},n.na=function(){Co(this);let d=Array.from(this.g.values()),g=Array.from(this.g.keys()),m=[];for(let b=0;b<g.length;b++){let k=d[b];for(let F=0;F<k.length;F++)m.push(g[b])}return m},n.V=function(d){Co(this);let g=[];if(typeof d=="string")yx(this,d)&&(g=g.concat(this.g.get(Ja(this,d))));else{d=Array.from(this.g.values());for(let m=0;m<d.length;m++)g=g.concat(d[m])}return g},n.set=function(d,g){return Co(this),this.i=null,d=Ja(this,d),yx(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},n.get=function(d,g){return d?(d=this.V(d),0<d.length?String(d[0]):g):g};function vx(d,g,m){mx(d,g),0<m.length&&(d.i=null,d.g.set(Ja(d,g),v(m)),d.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let d=[],g=Array.from(this.g.keys());for(var m=0;m<g.length;m++){var b=g[m];let F=encodeURIComponent(String(b)),W=this.V(b);for(b=0;b<W.length;b++){var k=F;W[b]!==""&&(k+="="+encodeURIComponent(String(W[b]))),d.push(k)}}return this.i=d.join("&")};function Ja(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function NB(d,g){g&&!d.j&&(Co(d),d.i=null,d.g.forEach(function(m,b){var k=b.toLowerCase();b!=k&&(mx(this,b),vx(this,k,m))},d)),d.j=g}function kB(d,g){let m=new pu;if(a.Image){let b=new Image;b.onload=p(Do,m,"TestLoadImage: loaded",!0,g,b),b.onerror=p(Do,m,"TestLoadImage: error",!1,g,b),b.onabort=p(Do,m,"TestLoadImage: abort",!1,g,b),b.ontimeout=p(Do,m,"TestLoadImage: timeout",!1,g,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=d}else g(!1)}function OB(d,g){let m=new pu,b=new AbortController,k=setTimeout(()=>{b.abort(),Do(m,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:b.signal}).then(F=>{clearTimeout(k),F.ok?Do(m,"TestPingServer: ok",!0,g):Do(m,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Do(m,"TestPingServer: error",!1,g)})}function Do(d,g,m,b,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),b(m)}catch{}}function FB(){this.g=new vB}function LB(d,g,m){let b=m||"";try{hx(d,function(k,F){let W=k;l(k)&&(W=D_(k)),g.push(b+F+"="+encodeURIComponent(W))})}catch(k){throw g.push(b+"type="+encodeURIComponent("_badmap")),k}}function _u(d){this.l=d.Ub||null,this.j=d.eb||!1}y(_u,T_),_u.prototype.g=function(){return new gf(this.l,this.j)},_u.prototype.i=function(d){return function(){return d}}({});function gf(d,g){tn.call(this),this.D=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(gf,tn),n=gf.prototype,n.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=g,this.readyState=1,wu(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(g.body=d),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bu(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wu(this)),this.g&&(this.readyState=3,wu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_x(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function _x(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?bu(this):wu(this),this.readyState==3&&_x(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,bu(this))},n.Qa=function(d){this.g&&(this.response=d,bu(this))},n.ga=function(){this.g&&bu(this)};function bu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wu(d)}n.setRequestHeader=function(d,g){this.u.append(d,g)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let d=[],g=this.h.entries();for(var m=g.next();!m.done;)m=m.value,d.push(m[0]+": "+m[1]),m=g.next();return d.join(`\r
`)};function wu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function bx(d){let g="";return j(d,function(m,b){g+=b,g+=":",g+=m,g+=`\r
`}),g}function F_(d,g,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=bx(m),typeof d=="string"?m!=null&&encodeURIComponent(String(m)):nt(d,g,m))}function mt(d){tn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(mt,tn);var VB=/^https?$/i,jB=["POST","PUT"];n=mt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,g,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():A_.g(),this.v=this.o?YS(this.o):YS(A_),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(F){wx(this,F);return}if(d=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var k in b)m.set(k,b[k]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let F of b.keys())m.set(F,b.get(F));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),k=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jB,g,void 0))||b||k||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,W]of m)this.g.setRequestHeader(F,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cx(this),this.u=!0,this.g.send(d),this.u=!1}catch(F){wx(this,F)}};function wx(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.m=5,Ex(d),mf(d)}function Ex(d){d.A||(d.A=!0,pn(d,"complete"),pn(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,pn(this,"complete"),pn(this,"abort"),mf(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mf(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ix(this):this.bb())},n.bb=function(){Ix(this)};function Ix(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Pi(d)!=4||d.Z()!=2)){if(d.u&&Pi(d)==4)qS(d.Ea,0,d);else if(pn(d,"readystatechange"),Pi(d)==4){d.h=!1;try{let W=d.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var m;if(!(m=g)){var b;if(b=W===0){var k=String(d.D).match(fx)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),b=!VB.test(k?k.toLowerCase():"")}m=b}if(m)pn(d,"complete"),pn(d,"success");else{d.m=6;try{var F=2<Pi(d)?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.Z()+"]",Ex(d)}}finally{mf(d)}}}}function mf(d,g){if(d.g){Cx(d);let m=d.g,b=d.v[0]?()=>{}:null;d.g=null,d.v=null,g||pn(d,"ready");try{m.onreadystatechange=b}catch{}}}function Cx(d){d.I&&(a.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Pi(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),yB(g)}};function Dx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function UB(d){let g={};d=(d.g&&2<=Pi(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<d.length;b++){if(R(d[b]))continue;var m=M(d[b]);let k=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let F=g[k]||[];g[k]=F,F.push(m)}I(g,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eu(d,g,m){return m&&m.internalChannelParams&&m.internalChannelParams[d]||g}function Tx(d){this.Aa=0,this.i=[],this.j=new pu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eu("baseRetryDelayMs",5e3,d),this.cb=Eu("retryDelaySeedMs",1e4,d),this.Wa=Eu("forwardChannelMaxRetries",2,d),this.wa=Eu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ax(d&&d.concurrentRequestLimit),this.Da=new FB,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Tx.prototype,n.la=8,n.G=1,n.connect=function(d,g,m,b){gn(0),this.W=d,this.H=g||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=Ox(this,null,this.W),vf(this)};function L_(d){if(Sx(d),d.G==3){var g=d.U++,m=Ri(d.I);if(nt(m,"SID",d.K),nt(m,"RID",g),nt(m,"TYPE","terminate"),Iu(d,m),g=new Io(d,d.j,g),g.L=2,g.v=pf(Ri(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=g.v,m=!0),m||(g.g=Fx(g.j,null),g.g.ea(g.v)),g.F=Date.now(),df(g)}kx(d)}function yf(d){d.g&&(j_(d),d.g.cancel(),d.g=null)}function Sx(d){yf(d),d.u&&(a.clearTimeout(d.u),d.u=null),_f(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function vf(d){if(!cx(d.h)&&!d.s){d.s=!0;var g=d.Ga;He||xi(),Kt||(He(),Kt=!0),Ct.add(g,d),d.B=0}}function BB(d,g){return lx(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=g.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=fu(f(d.Ga,d,g),Nx(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;let k=new Io(this,this.j,d),F=this.o;if(this.S&&(F?(F=w(F),x(F,this.S)):F=this.S),this.m!==null||this.O||(k.H=F,F=null),this.P)e:{for(var g=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=m;break e}if(g===4096||m===this.i.length-1){g=m+1;break e}}g=1e3}else g=1e3;g=Ax(this,k,g),m=Ri(this.I),nt(m,"RID",d),nt(m,"CVER",22),this.D&&nt(m,"X-HTTP-Session-Id",this.D),Iu(this,m),F&&(this.O?g="headers="+encodeURIComponent(String(bx(F)))+"&"+g:this.m&&F_(m,this.m,F)),O_(this.h,k),this.Ua&&nt(m,"TYPE","init"),this.P?(nt(m,"$req",g),nt(m,"SID","null"),k.T=!0,R_(k,m,null)):R_(k,m,g),this.G=2}}else this.G==3&&(d?xx(this,d):this.i.length==0||cx(this.h)||xx(this))};function xx(d,g){var m;g?m=g.l:m=d.U++;let b=Ri(d.I);nt(b,"SID",d.K),nt(b,"RID",m),nt(b,"AID",d.T),Iu(d,b),d.m&&d.o&&F_(b,d.m,d.o),m=new Io(d,d.j,m,d.B+1),d.m===null&&(m.H=d.o),g&&(d.i=g.D.concat(d.i)),g=Ax(d,m,1e3),m.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),O_(d.h,m),R_(m,b,g)}function Iu(d,g){d.H&&j(d.H,function(m,b){nt(g,b,m)}),d.l&&hx({},function(m,b){nt(g,b,m)})}function Ax(d,g,m){m=Math.min(d.i.length,m);var b=d.l?f(d.l.Na,d.l,d):null;e:{var k=d.i;let F=-1;for(;;){let W=["count="+m];F==-1?0<m?(F=k[0].g,W.push("ofs="+F)):F=0:W.push("ofs="+F);let ze=!0;for(let Yt=0;Yt<m;Yt++){let Pe=k[Yt].g,nn=k[Yt].map;if(Pe-=F,0>Pe)F=Math.max(0,k[Yt].g-100),ze=!1;else try{LB(nn,W,"req"+Pe+"_")}catch{b&&b(nn)}}if(ze){b=W.join("&");break e}}}return d=d.i.splice(0,m),g.D=d,b}function Mx(d){if(!d.g&&!d.u){d.Y=1;var g=d.Fa;He||xi(),Kt||(He(),Kt=!0),Ct.add(g,d),d.v=0}}function V_(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=fu(f(d.Fa,d),Nx(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Rx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=fu(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gn(10),yf(this),Rx(this))};function j_(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Rx(d){d.g=new Io(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var g=Ri(d.qa);nt(g,"RID","rpc"),nt(g,"SID",d.K),nt(g,"AID",d.T),nt(g,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(g,"TO",d.ja),nt(g,"TYPE","xmlhttp"),Iu(d,g),d.m&&d.o&&F_(g,d.m,d.o),d.L&&(d.g.I=d.L);var m=d.g;d=d.ia,m.L=1,m.v=pf(Ri(g)),m.m=null,m.P=!0,ix(m,d)}n.Za=function(){this.C!=null&&(this.C=null,yf(this),V_(this),gn(19))};function _f(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function Px(d,g){var m=null;if(d.g==g){_f(d),j_(d),d.g=null;var b=2}else if(k_(d.h,g))m=g.D,ux(d.h,g),b=1;else return;if(d.G!=0){if(g.o)if(b==1){m=g.m?g.m.length:0,g=Date.now()-g.F;var k=d.B;b=cf(),pn(b,new ex(b,m)),vf(d)}else Mx(d);else if(k=g.s,k==3||k==0&&0<g.X||!(b==1&&BB(d,g)||b==2&&V_(d)))switch(m&&0<m.length&&(g=d.h,g.i=g.i.concat(m)),k){case 1:Ps(d,5);break;case 4:Ps(d,10);break;case 3:Ps(d,6);break;default:Ps(d,2)}}}function Nx(d,g){let m=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(m*=2),m*g}function Ps(d,g){if(d.j.info("Error code "+g),g==2){var m=f(d.fb,d),b=d.Xa;let k=!b;b=new Rs(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hf(b,"https"),pf(b),k?kB(b.toString(),m):OB(b.toString(),m)}else gn(2);d.G=0,d.l&&d.l.sa(g),kx(d),Sx(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function kx(d){if(d.G=0,d.ka=[],d.l){let g=dx(d.h);(g.length!=0||d.i.length!=0)&&(_(d.ka,g),_(d.ka,d.i),d.h.i.length=0,v(d.i),d.i.length=0),d.l.ra()}}function Ox(d,g,m){var b=m instanceof Rs?Ri(m):new Rs(m);if(b.g!="")g&&(b.g=g+"."+b.g),ff(b,b.s);else{var k=a.location;b=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var F=new Rs(null);b&&hf(F,b),g&&(F.g=g),k&&ff(F,k),m&&(F.l=m),b=F}return m=d.D,g=d.ya,m&&g&&nt(b,m,g),nt(b,"VER",d.la),Iu(d,b),b}function Fx(d,g,m){if(g&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Ca&&!d.pa?new mt(new _u({eb:m})):new mt(d.pa),g.Ha(d.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lx(){}n=Lx.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bf(){}bf.prototype.g=function(d,g){return new Un(d,g)};function Un(d,g){tn.call(this),this.g=new Tx(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(d?d["X-WebChannel-Client-Profile"]=g.va:d={"X-WebChannel-Client-Profile":g.va}),this.g.S=d,(d=g&&g.Sb)&&!R(d)&&(this.g.m=d),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.D=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new ec(this)}y(Un,tn),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){L_(this.g)},Un.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var m={};m.__data__=d,d=m}else this.u&&(m={},m.__data__=D_(d),d=m);g.i.push(new CB(g.Ya++,d)),g.G==3&&vf(g)},Un.prototype.N=function(){this.g.l=null,delete this.j,L_(this.g),delete this.g,Un.aa.N.call(this)};function Vx(d){S_.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(let m in g){d=m;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}y(Vx,S_);function jx(){x_.call(this),this.status=1}y(jx,x_);function ec(d){this.g=d}y(ec,Lx),ec.prototype.ua=function(){pn(this.g,"a")},ec.prototype.ta=function(d){pn(this.g,new Vx(d))},ec.prototype.sa=function(d){pn(this.g,new jx)},ec.prototype.ra=function(){pn(this.g,"b")},bf.prototype.createWebChannel=bf.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,XI=ro.createWebChannelTransport=function(){return new bf},QI=ro.getStatEventTarget=function(){return cf()},YI=ro.Event=As,Xm=ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lf.NO_ERROR=0,lf.TIMEOUT=8,lf.HTTP_ERROR=6,ah=ro.ErrorCode=lf,tx.COMPLETE="complete",KI=ro.EventType=tx,QS.EventType=du,du.OPEN="a",du.CLOSE="b",du.ERROR="c",du.MESSAGE="d",tn.prototype.listen=tn.prototype.K,ul=ro.WebChannel=QS,cY=ro.FetchXmlHttpFactory=_u,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,GI=ro.XhrIo=mt}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});var $O="@firebase/firestore",HO="4.8.0";var Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");var Al="11.10.0";var Na=new ui("@firebase/firestore");function dl(){return Na.logLevel}function Z(n,...e){if(Na.logLevel<=Ce.DEBUG){let t=e.map(UD);Na.debug(`Firestore (${Al}): ${n}`,...t)}}function oo(n,...e){if(Na.logLevel<=Ce.ERROR){let t=e.map(UD);Na.error(`Firestore (${Al}): ${n}`,...t)}}function as(n,...e){if(Na.logLevel<=Ce.WARN){let t=e.map(UD);Na.warn(`Firestore (${Al}): ${n}`,...t)}}function UD(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OF(n,r,t)}function OF(n,e,t){let r=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw oo(r),new Error(r)}function Ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||OF(e,i,r)}function he(n,e){return n}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends Kn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var iy=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},nC=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}},rC=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},iC=class{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ve(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Br,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>C(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Br)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new iy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}},oC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},sC=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new oC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},oy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},aC=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ve(this.o===void 0,3512);let r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oy(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new oy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lY(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function FF(){return new TextEncoder}var fh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=lY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function cC(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return be(r,i);{let o=FF(),s=uY(o.encode(zO(n,t)),o.encode(zO(e,t)));return s!==0?s:be(r,i)}}t+=r>65535?2:1}return be(n.length,e.length)}function zO(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function uY(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return be(n[t],e[t]);return be(n.length,e.length)}function vl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var qO="__name__",sy=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):cC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}},ut=class n extends sy{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Y(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},dY=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qn=class n extends sy{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return dY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qO}static keyField(){return new n([qO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Y(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(ut.fromString(e))}static fromName(e){return new n(ut.fromString(e).popFirst(5))}static empty(){return new n(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ut(e.slice()))}};function LF(n,e,t){if(!t)throw new Y(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hY(n,e,t,r){if(e===!0&&r===!0)throw new Y(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function WO(n){if(!ee.isDocumentKey(n))throw new Y(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GO(n){if(ee.isDocumentKey(n))throw new Y(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function VF(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function By(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":re(12329,{type:typeof n})}function Xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=By(n);throw new Y(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function fY(n,e){if(e<=0)throw new Y(B.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Nt(n,e){let t={typeString:n};return e&&(t.value=e),t}function Sh(n,e){if(!VF(n))throw new Y(B.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Y(B.INVALID_ARGUMENT,t);return!0}var KO=-62135596800,YO=1e6,kt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*YO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<KO)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YO}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sh(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-KO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:Nt("string",kt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new kt(0,0))}static max(){return new n(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ph=-1,lC=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};lC.UNKNOWN_ID=-1;function pY(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new ka(i,ee.empty(),e)}function gY(n){return new ka(n.readTime,n.key,ph)}var ka=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),ee.empty(),ph)}static max(){return new n(pe.max(),ee.empty(),ph)}};function mY(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var yY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uC=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ml(n){return C(this,null,function*(){if(n.code!==B.FAILED_PRECONDITION||n.message!==yY)throw n;Z("LocalStore","Unexpectedly lost primary lease")})}var H=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(u=>{s[l]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function vY(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Rl(n){return n.name==="IndexedDbTransactionError"}var BD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),$D=-1;function $y(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function _Y(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var jF="";function bY(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=QO(e)),e=wY(n.get(t),e);return QO(e)}function wY(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case jF:t+="";break;default:t+=o}}return t}function QO(n){return n+jF+""}var EY="remoteDocuments",UF="owner";var BF="mutationQueues";var $F="mutations";var HF="documentMutations",IY="remoteDocumentsV14";var zF="remoteDocumentGlobal";var qF="targets";var WF="targetDocuments";var GF="targetGlobal",KF="collectionParents";var YF="clientMetadata";var QF="bundles";var XF="namedQueries";var CY="indexConfiguration";var DY="indexState";var TY="indexEntries";var ZF="documentOverlays";var SY="globals";var xY=[BF,$F,HF,EY,qF,UF,GF,WF,YF,zF,KF,QF,XF],z_e=[...xY,ZF],AY=[BF,$F,HF,IY,qF,UF,GF,WF,YF,zF,KF,QF,XF,ZF],MY=AY,RY=[...MY,CY,DY,TY];var q_e=[...RY,SY];function XO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JF(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var bt=class n{constructor(e,t){this.comparator=e,this.root=t||fi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}},gl=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fi=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}};fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1;fi.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new fi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Gt=class n{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ay=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mr=class n{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Gt(Qn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var cy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cy("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dn.EMPTY_BYTE_STRING=new dn("");var PY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(Ve(!!n,39018),typeof n=="string"){let e=0,t=PY.exec(n);if(Ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(n.seconds),nanos:lt(n.nanos)}}function lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?dn.fromBase64String(n):dn.fromUint8Array(n)}var eL="server_timestamp",tL="__type__",nL="__previous_value__",rL="__local_write_time__";function HD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[tL])===null||t===void 0?void 0:t.stringValue)===eL}function Hy(n){let e=n.mapValue.fields[nL];return HD(e)?Hy(e):e}function mh(n){let e=so(n.mapValue.fields[rL].timestampValue);return new kt(e.seconds,e.nanos)}var dC=class{constructor(e,t,r,i,o,s,a,c,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=u}},ly="(default)",uy=class n{constructor(e,t){this.projectId=e,this.database=t||ly}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ly}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zD="__type__",iL="__max__",Zm={mapValue:{fields:{__type__:{stringValue:iL}}}},qD="__vector__",_l="value";function cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HD(n)?4:sL(n)?9007199254740991:oL(n)?10:11:re(28295,{value:n})}function mi(n,e){if(n===e)return!0;let t=cs(n);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mh(n).isEqual(mh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=so(i.timestampValue),a=so(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ao(i.bytesValue).isEqual(ao(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=lt(i.doubleValue),a=lt(o.doubleValue);return s===a?gh(s)===gh(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XO(s)!==XO(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!mi(s[c],a[c])))return!1;return!0}(n,e);default:return re(52216,{left:n})}}function yh(n,e){return(n.values||[]).find(t=>mi(t,e))!==void 0}function bl(n,e){if(n===e)return 0;let t=cs(n),r=cs(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=lt(o.integerValue||o.doubleValue),c=lt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return ZO(n.timestampValue,e.timestampValue);case 4:return ZO(mh(n),mh(e));case 5:return cC(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ao(o),c=ao(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=be(a[l],c[l]);if(u!==0)return u}return be(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(lt(o.latitude),lt(s.latitude));return a!==0?a:be(lt(o.longitude),lt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return JO(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,u;let h=o.fields||{},f=s.fields||{},p=(a=h[_l])===null||a===void 0?void 0:a.arrayValue,y=(c=f[_l])===null||c===void 0?void 0:c.arrayValue,v=be(((l=p?.values)===null||l===void 0?void 0:l.length)||0,((u=y?.values)===null||u===void 0?void 0:u.length)||0);return v!==0?v:JO(p,y)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Zm.mapValue&&s===Zm.mapValue)return 0;if(o===Zm.mapValue)return 1;if(s===Zm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){let f=cC(c[h],u[h]);if(f!==0)return f;let p=bl(a[c[h]],l[u[h]]);if(p!==0)return p}return be(c.length,u.length)}(n.mapValue,e.mapValue);default:throw re(23264,{le:t})}}function ZO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=so(n),r=so(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function JO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=bl(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function wl(n){return hC(n)}function hC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=so(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=hC(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${hC(t.fields[s])}`;return i+"}"}(n.mapValue):re(61005,{value:n})}function ty(n){switch(cs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Hy(n);return e?16+ty(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+ty(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fs(r.fields,(o,s)=>{i+=o.length+ty(s)}),i}(n.mapValue);default:throw re(13486,{value:n})}}function eF(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function fC(n){return!!n&&"integerValue"in n}function WD(n){return!!n&&"arrayValue"in n}function tF(n){return!!n&&"nullValue"in n}function nF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ny(n){return!!n&&"mapValue"in n}function oL(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zD])===null||t===void 0?void 0:t.stringValue)===qD}function lh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return fs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lh(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iL}var G_e={mapValue:{fields:{[zD]:{stringValue:qD},[_l]:{arrayValue:{}}}}};var Yn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ny(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lh(t)}setAll(e){let t=Qn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=lh(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());ny(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];ny(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(lh(this.value))}};function aL(n){let e=[];return fs(n.fields,(t,r)=>{let i=new Qn([t]);if(ny(r)){let o=aL(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new mr(e)}var $r=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var El=class{constructor(e,t){this.position=e,this.inclusive=t}};function rF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=bl(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iF(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!mi(n.position[t],e.position[t]))return!1;return!0}var Oa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function NY(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var dy=class{},Pt=class n extends dy{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new gC(e,t,r):t==="array-contains"?new vC(e,r):t==="in"?new _C(e,r):t==="not-in"?new bC(e,r):t==="array-contains-any"?new wC(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mC(e,r):new yC(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bl(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Hr=class n extends dy{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return cL(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function cL(n){return n.op==="and"}function lL(n){return kY(n)&&cL(n)}function kY(n){for(let e of n.filters)if(e instanceof Hr)return!1;return!0}function pC(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+wl(n.value);if(lL(n))return n.filters.map(e=>pC(e)).join(",");{let e=n.filters.map(t=>pC(t)).join(",");return`${n.op}(${e})`}}function uL(n,e){return n instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&mi(r.value,i.value)}(n,e):n instanceof Hr?function(r,i){return i instanceof Hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uL(s,i.filters[a]),!0):!1}(n,e):void re(19439)}function dL(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${wl(t.value)}`}(n):n instanceof Hr?function(t){return t.op.toString()+" {"+t.getFilters().map(dL).join(" ,")+"}"}(n):"Filter"}var gC=class extends Pt{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},mC=class extends Pt{constructor(e,t){super(e,"in",t),this.keys=hL("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},yC=class extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=hL("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function hL(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var vC=class extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return WD(t)&&yh(t.arrayValue,this.value)}},_C=class extends Pt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yh(this.value.arrayValue,t)}},bC=class extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yh(this.value.arrayValue,t)}},wC=class extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!WD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yh(this.value.arrayValue,r))}};var EC=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function oF(n,e=null,t=[],r=[],i=null,o=null,s=null){return new EC(n,e,t,r,i,o,s)}function GD(n){let e=he(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>pC(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),$y(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>wl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>wl(r)).join(",")),e.Pe=t}return e.Pe}function KD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NY(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iF(n.startAt,e.startAt)&&iF(n.endAt,e.endAt)}function IC(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ls=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function OY(n,e,t,r,i,o,s,a){return new ls(n,e,t,r,i,o,s,a)}function zy(n){return new ls(n)}function sF(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fL(n){return n.collectionGroup!==null}function uh(n){let e=he(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Gt(Qn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Oa(o,r))}),t.has(Qn.keyField().canonicalString())||e.Te.push(new Oa(Qn.keyField(),r))}return e.Te}function pi(n){let e=he(n);return e.Ie||(e.Ie=FY(e,uh(n))),e.Ie}function FY(n,e){if(n.limitType==="F")return oF(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Oa(i.field,o)});let t=n.endAt?new El(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new El(n.startAt.position,n.startAt.inclusive):null;return oF(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function CC(n,e){let t=n.filters.concat([e]);return new ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hy(n,e,t){return new ls(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qy(n,e){return KD(pi(n),pi(e))&&n.limitType===e.limitType}function pL(n){return`${GD(pi(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>dL(i)).join(", ")}]`),$y(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>wl(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>wl(i)).join(",")),`Target(${r})`}(pi(n))}; limitType=${n.limitType})`}function Wy(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of uh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=rF(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,uh(r),i)||r.endAt&&!function(s,a,c){let l=rF(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,uh(r),i))}(n,e)}function LY(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gL(n){return(e,t)=>{let r=!1;for(let i of uh(n)){let o=VY(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function VY(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?bl(c,l):re(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:n.dir})}}var co=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return JF(this.inner)}size(){return this.innerSize}};var jY=new bt(ee.comparator);function lo(){return jY}var mL=new bt(ee.comparator);function ch(...n){let e=mL;for(let t of n)e=e.insert(t.key,t);return e}function yL(n){let e=mL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xa(){return dh()}function vL(){return dh()}function dh(){return new co(n=>n.toString(),(n,e)=>n.isEqual(e))}var UY=new bt(ee.comparator),BY=new Gt(ee.comparator);function Se(...n){let e=BY;for(let t of n)e=e.add(t);return e}var $Y=new Gt(be);function HY(){return $Y}function YD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function _L(n){return{integerValue:""+n}}function zY(n,e){return _Y(e)?_L(e):YD(n,e)}var Il=class{constructor(){this._=void 0}};function qY(n,e,t){return n instanceof Fa?function(i,o){let s={fields:{[tL]:{stringValue:eL},[rL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HD(o)&&(o=Hy(o)),o&&(s.fields[nL]=o),{mapValue:s}}(t,e):n instanceof us?wL(n,e):n instanceof La?EL(n,e):function(i,o){let s=bL(i,o),a=aF(s)+aF(i.Ee);return fC(s)&&fC(i.Ee)?_L(a):YD(i.serializer,a)}(n,e)}function WY(n,e,t){return n instanceof us?wL(n,e):n instanceof La?EL(n,e):t}function bL(n,e){return n instanceof Cl?function(r){return fC(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Fa=class extends Il{},us=class extends Il{constructor(e){super(),this.elements=e}};function wL(n,e){let t=IL(e);for(let r of n.elements)t.some(i=>mi(i,r))||t.push(r);return{arrayValue:{values:t}}}var La=class extends Il{constructor(e){super(),this.elements=e}};function EL(n,e){let t=IL(e);for(let r of n.elements)t=t.filter(i=>!mi(i,r));return{arrayValue:{values:t}}}var Cl=class extends Il{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function aF(n){return lt(n.integerValue||n.doubleValue)}function IL(n){return WD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var fy=class{constructor(e,t){this.field=e,this.transform=t}};function GY(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof us&&i instanceof us||r instanceof La&&i instanceof La?vl(r.elements,i.elements,mi):r instanceof Cl&&i instanceof Cl?mi(r.Ee,i.Ee):r instanceof Fa&&i instanceof Fa}(n.transform,e.transform)}var DC=class{constructor(e,t){this.version=e,this.transformResults=t}},io=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ry(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Dl=class{};function CL(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new py(n.key,io.none()):new Va(n.key,n.data,io.none());{let t=n.data,r=Yn.empty(),i=new Gt(Qn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new yi(n.key,r,new mr(i.toArray()),io.none())}}function KY(n,e,t){n instanceof Va?function(i,o,s){let a=i.value.clone(),c=lF(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof yi?function(i,o,s){if(!ry(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lF(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(DL(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function hh(n,e,t,r){return n instanceof Va?function(o,s,a,c){if(!ry(o.precondition,s))return a;let l=o.value.clone(),u=uF(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof yi?function(o,s,a,c){if(!ry(o.precondition,s))return a;let l=uF(o.fieldTransforms,c,s),u=s.data;return u.setAll(DL(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):function(o,s,a){return ry(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function YY(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=bL(r.transform,i||null);o!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,o))}return t||null}function cF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vl(r,i,(o,s)=>GY(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Va=class extends Dl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yi=class extends Dl{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DL(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function lF(n,e,t){let r=new Map;Ve(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,WY(s,a,t[i]))}return r}function uF(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,qY(o,s,e))}return r}var py=class extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},TC=class extends Dl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var SC=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&KY(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=hh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=vL();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=CL(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(t,r)=>cF(t,r))&&vl(this.baseMutations,e.baseMutations,(t,r)=>cF(t,r))}},xC=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ve(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return UY}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var AC=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var MC=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Mt,Me;function QY(n){switch(n){case B.OK:return re(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return re(15467,{code:n})}}function TL(n){if(n===void 0)return oo("GRPC error has no .code"),B.UNKNOWN;switch(n){case Mt.OK:return B.OK;case Mt.CANCELLED:return B.CANCELLED;case Mt.UNKNOWN:return B.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return B.INTERNAL;case Mt.UNAVAILABLE:return B.UNAVAILABLE;case Mt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Mt.NOT_FOUND:return B.NOT_FOUND;case Mt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Mt.ABORTED:return B.ABORTED;case Mt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Mt.DATA_LOSS:return B.DATA_LOSS;default:return re(39323,{code:n})}}(Me=Mt||(Mt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var dF=null;var XY=new no([4294967295,4294967295],0);function hF(n){let e=FF().encode(n),t=new WI;return t.update(e),new Uint8Array(t.digest())}function fF(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([t,r],0),new no([i,o],0)]}var RC=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Aa(`Invalid padding: ${t}`);if(r<0)throw new Aa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Aa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Aa(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=no.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(no.fromNumber(r)));return i.compare(XY)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=hF(e),[r,i]=fF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=hF(e),[r,i]=fF(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Aa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gy=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new bt(be),lo(),Se())}},vh=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Se(),Se(),Se())}};var ml=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},my=class{constructor(e,t){this.targetId=e,this.De=t}},yy=class{constructor(e,t,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},vy=class{constructor(){this.ve=0,this.Ce=pF(),this.Fe=dn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Se(),t=Se(),r=Se();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:o})}}),new vh(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=pF()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},PC=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=lo(),this.je=Jm(),this.Je=Jm(),this.He=new bt(be)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(IC(o))if(r===0){let s=new ee(o.path);this.Xe(t,s,$r.newNoDocument(s,pe.min()))}else Ve(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}dF?.ct(function(u,h,f,p,y){var v,_,S,R,O,V;let L={localCacheCount:u,existenceFilterCount:h.count,databaseId:f.database,projectId:f.projectId},j=h.unchangedNames;return j&&(L.bloomFilter={applied:y===0,hashCount:(v=j?.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(R=(S=(_=j?.bits)===null||_===void 0?void 0:_.bitmap)===null||S===void 0?void 0:S.length)!==null&&R!==void 0?R:0,padding:(V=(O=j?.bits)===null||O===void 0?void 0:O.padding)!==null&&V!==void 0?V:0,mightContain:I=>{var w;return(w=p?.mightContain(I))!==null&&w!==void 0&&w}}),L}(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ao(r).toUint8Array()}catch(c){if(c instanceof cy)return as("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new RC(s,i,o)}catch(c){return as(c instanceof Aa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&IC(a.target)){let c=new ee(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,$r.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Se();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this.st(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new gy(e,t,this.He,this.ze,r);return this.ze=lo(),this.je=Jm(),this.Je=Jm(),this.He=new bt(be),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new vy,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Gt(be),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Gt(be),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Z("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new vy),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Jm(){return new bt(ee.comparator)}function pF(){return new bt(ee.comparator)}var ZY={asc:"ASCENDING",desc:"DESCENDING"},JY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eQ={and:"AND",or:"OR"},NC=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function kC(n,e){return n.useProto3Json||$y(e)?e:{value:e}}function _y(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tQ(n,e){return _y(n,e.toTimestamp())}function gi(n){return Ve(!!n,49232),pe.fromTimestamp(function(t){let r=so(t);return new kt(r.seconds,r.nanos)}(n))}function QD(n,e){return OC(n,e).canonicalString()}function OC(n,e){let t=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function xL(n){let e=ut.fromString(n);return Ve(NL(e),10190,{key:e.toString()}),e}function FC(n,e){return QD(n.databaseId,e.path)}function ZI(n,e){let t=xL(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(ML(t))}function AL(n,e){return QD(n.databaseId,e)}function nQ(n){let e=xL(n);return e.length===4?ut.emptyPath():ML(e)}function LC(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ML(n){return Ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gF(n,e,t){return{name:FC(n,e),fields:t.value.mapValue.fields}}function rQ(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:re(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Ve(u===void 0||typeof u=="string",58123),dn.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),dn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let u=l.code===void 0?B.UNKNOWN:TL(l.code);return new Y(u,l.message||"")}(s);t=new yy(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ZI(n,r.document.name),o=gi(r.document.updateTime),s=r.document.createTime?gi(r.document.createTime):pe.min(),a=new Yn({mapValue:{fields:r.document.fields}}),c=$r.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];t=new ml(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ZI(n,r.document),o=r.readTime?gi(r.readTime):pe.min(),s=$r.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ml([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ZI(n,r.document),o=r.removedTargetIds||[];t=new ml([],o,i,null)}else{if(!("filter"in e))return re(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new MC(i,o),a=r.targetId;t=new my(a,s)}}return t}function iQ(n,e){let t;if(e instanceof Va)t={update:gF(n,e.key,e.value)};else if(e instanceof py)t={delete:FC(n,e.key)};else if(e instanceof yi)t={update:gF(n,e.key,e.data),updateMask:fQ(e.fieldMask)};else{if(!(e instanceof TC))return re(16599,{Rt:e.type});t={verify:FC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Fa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof us)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cl)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:tQ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re(27497)}(n,e.precondition)),t}function oQ(n,e){return n&&n.length>0?(Ve(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?gi(i.updateTime):gi(o);return s.isEqual(pe.min())&&(s=gi(o)),new DC(s,i.transformResults||[])}(t,e))):[]}function sQ(n,e){return{documents:[AL(n,e.path)]}}function aQ(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AL(n,i);let o=function(l){if(l.length!==0)return PL(Hr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:fl(f.field),direction:uQ(f.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=kC(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function cQ(n){let e=nQ(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ve(r===1,65062);let u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(h){let f=RL(h);return f instanceof Hr&&lL(f)?f.getFilters():[f]}(t.where));let s=[];t.orderBy&&(s=function(h){return h.map(f=>function(y){return new Oa(pl(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,$y(f)?null:f}(t.limit));let c=null;t.startAt&&(c=function(h){let f=!!h.before,p=h.values||[];return new El(p,f)}(t.startAt));let l=null;return t.endAt&&(l=function(h){let f=!h.before,p=h.values||[];return new El(p,f)}(t.endAt)),OY(e,i,s,o,a,"F",c,l)}function lQ(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RL(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=pl(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=pl(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=pl(t.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=pl(t.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(pl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hr.create(t.compositeFilter.filters.map(r=>RL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(t.compositeFilter.op))}(n):re(30097,{filter:n})}function uQ(n){return ZY[n]}function dQ(n){return JY[n]}function hQ(n){return eQ[n]}function fl(n){return{fieldPath:n.canonicalString()}}function pl(n){return Qn.fromServerFormat(n.fieldPath)}function PL(n){return n instanceof Pt?function(t){if(t.op==="=="){if(nF(t.value))return{unaryFilter:{field:fl(t.field),op:"IS_NAN"}};if(tF(t.value))return{unaryFilter:{field:fl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nF(t.value))return{unaryFilter:{field:fl(t.field),op:"IS_NOT_NAN"}};if(tF(t.value))return{unaryFilter:{field:fl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(t.field),op:dQ(t.op),value:t.value}}}(n):n instanceof Hr?function(t){let r=t.getFilters().map(i=>PL(i));return r.length===1?r[0]:{compositeFilter:{op:hQ(t.op),filters:r}}}(n):re(54877,{filter:n})}function fQ(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NL(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var _h=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var VC=class{constructor(e){this.gt=e}};function pQ(n){let e=cQ({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hy(e,e.limit,"L"):e}var by=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(lt(e.integerValue));else if("doubleValue"in e){let r=lt(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),gh(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=so(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(ao(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?sL(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):oL(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):re(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=_l,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(lt(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ee.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};by.Ut=new by;var jC=class{constructor(){this.Dn=new UC}addToCollectionParentIndex(e,t){return this.Dn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(ka.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}},UC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Gt(ut.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(ut.comparator)).toArray()}};var K_e=new Uint8Array(0);var mF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kL=41943040,gr=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(kL,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);var bh=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var yF="LruGarbageCollector",gQ=1048576;function vF([n,e],[t,r]){let i=be(n,t);return i===0?be(e,r):i}var BC=class{constructor(e){this.Tr=e,this.buffer=new Gt(vF),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},$C=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Z(yF,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Rl(t)?Z(yF,"Ignoring IndexedDB error during garbage collection: ",t):yield Ml(t)}yield this.Rr(3e5)}))}},HC=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return H.resolve(BD.ue);let r=new BC(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(mF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mF):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,l,u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(o=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(l=Date.now(),dl()<=Ce.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(l-c)+`ms
Total Duration: ${l-u}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}};function mQ(n,e){return new HC(n,e)}var zC=class{constructor(){this.changes=new co(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var WC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hh(r.mutation,i,mr.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Se()){let i=xa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ch();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=xa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Se()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=lo(),s=dh(),a=function(){return dh()}();return t.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof yi)?o=o.insert(l.key,l):u!==void 0?(s.set(l.key,u.mutation.getFieldMask()),hh(u.mutation,l,u.mutation.getFieldMask(),kt.now())):s.set(l.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),t.forEach((l,u)=>{var h;return a.set(l,new qC(u,(h=s.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=dh(),i=new bt((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let u=r.get(c)||mr.empty();u=a.applyToLocalView(l,u),r.set(c,u);let h=(i.get(a.batchId)||Se()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,h=vL();u.forEach(f=>{if(!o.has(f)){let p=CL(t.get(f),r.get(f));p!==null&&h.set(f,p),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,h))}return H.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):H.resolve(xa()),a=ph,c=o;return s.next(l=>H.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?H.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Se())).next(u=>({batchId:a,changes:yL(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let i=ch();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ch();return this.indexManager.getCollectionParents(e,o).next(a=>H.forEach(a,c=>{let l=function(h,f){return new ls(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let u=l.getKey();s.get(u)===null&&(s=s.insert(u,$r.newInvalidDocument(u)))});let a=ch();return s.forEach((c,l)=>{let u=o.get(c);u!==void 0&&hh(u.mutation,l,mr.empty(),kt.now()),Wy(t,l)&&(a=a.insert(c,l))}),a})}};var GC=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return H.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:pQ(i.bundledQuery),readTime:gi(i.readTime)}}(t)),H.resolve()}};var KC=class{constructor(){this.overlays=new bt(ee.comparator),this.kr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xa();return H.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),H.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){let i=xa(),o=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new bt((l,u)=>l-u),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let u=o.get(l.largestBatchId);u===null&&(u=xa(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=xa(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return H.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new AC(t,r));let o=this.kr.get(t);o===void 0&&(o=Se(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var YC=class{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}};var wh=class{constructor(){this.qr=new Gt(Rt.Qr),this.$r=new Gt(Rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Rt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Rt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ee(new ut([])),r=new Rt(t,e),i=new Rt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ee(new ut([])),r=new Rt(t,e),i=new Rt(t,e+1),o=Se();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Rt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Rt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ee.comparator(e.key,t.key)||be(e.Hr,t.Hr)}static Ur(e,t){return be(e.Hr,t.Hr)||ee.comparator(e.key,t.key)}};var QC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Gt(Rt.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new SC(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(s)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?$D:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gt(be);return t.forEach(i=>{let o=new Rt(i,0),s=new Rt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),H.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ee.isDocumentKey(o)||(o=o.child(""));let s=new Rt(new ee(o),0),a=new Gt(be);return this.Yr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Hr)),!0)},s),H.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ve(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return H.forEach(t.mutations,i=>{let o=new Rt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Rt(t,0),i=this.Yr.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var XC=class{constructor(e){this.ni=e,this.docs=function(){return new bt(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():$r.newInvalidDocument(t))}getEntries(e,t){let r=lo();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$r.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=lo(),s=t.path,a=new ee(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||mY(gY(u),r)<=0||(i.has(u.key)||Wy(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,r,i){re(9500)}ri(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZC(this)}getSize(e){return H.resolve(this.size)}},ZC=class extends zC{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var JC=class{constructor(e){this.persistence=e,this.ii=new co(t=>GD(t),KD),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.si=0,this.oi=new wh,this.targetCount=0,this._i=bh.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),H.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new bh(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.hr(t),H.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),H.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.oi.containsKey(t))}};var wy=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new BD(0),this.ci=!1,this.ci=!0,this.li=new YC,this.referenceDelegate=e(this),this.hi=new JC(this),this.indexManager=new jC,this.remoteDocumentCache=function(i){return new XC(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new VC(t),this.Ti=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new QC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Z("MemoryPersistence","Starting transaction:",e);let i=new eD(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return H.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},eD=class extends uC{constructor(e){super(),this.currentSequenceNumber=e}},tD=class n{constructor(e){this.persistence=e,this.Ai=new wh,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw re(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,r=>{let i=ee.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return H.or([()=>H.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ey=class n{constructor(e,t){this.persistence=e,this.gi=new co(r=>bY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=mQ(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return H.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?H.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ty(e.data.value)),t}Sr(e,t,r){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var nD=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Se(),i=Se();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var rD=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iD=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return _k()?8:vY(qt())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new rD;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(dl()<=Ce.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(dl()<=Ce.DEBUG&&Z("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(dl()<=Ce.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):H.resolve())}ps(e,t){if(sF(t))return H.resolve(null);let r=pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hy(t,null,"F"),r=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Se(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.bs(t,a);return this.Ds(t,l,s,c.readTime)?this.ps(e,hy(t,null,"F")):this.vs(e,l,t,c)}))})))}ys(e,t,r,i){return sF(t)||i.isEqual(pe.min())?H.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?H.resolve(null):(dl()<=Ce.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hl(t)),this.vs(e,s,t,pY(i,ph)).next(a=>a))})}bs(e,t){let r=new Gt(gL(e));return t.forEach((i,o)=>{Wy(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return dl()<=Ce.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",hl(t)),this.gs.getDocumentsMatchingQuery(e,t,ka.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var XD="LocalStore",yQ=3e8,oD=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new bt(be),this.Ms=new co(o=>GD(o),KD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function vQ(n,e,t,r){return new oD(n,e,t,r)}function OL(n,e){return C(this,null,function*(){let t=he(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Se();for(let l of i){s.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of o){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return t.localDocuments.getDocuments(r,c).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function _Q(n,e){let t=he(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let h=l.batch,f=h.keys(),p=H.resolve();return f.forEach(y=>{p=p.next(()=>u.getEntry(c,y)).next(v=>{let _=l.docVersions.get(y);Ve(_!==null,48541),v.version.compareTo(_)<0&&(h.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Se();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function FL(n){let e=he(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function bQ(n,e){let t=he(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((u,h)=>{let f=i.get(h);if(!f)return;a.push(t.hi.removeMatchingKeys(o,u.removedDocuments,h).next(()=>t.hi.addMatchingKeys(o,u.addedDocuments,h)));let p=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(dn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(v,_,S){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=yQ?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,p,u)&&a.push(t.hi.updateTargetData(o,p))});let c=lo(),l=Se();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(wQ(o,s,e.documentUpdates).next(u=>{c=u.Ls,l=u.ks})),!r.isEqual(pe.min())){let u=t.hi.getLastRemoteSnapshotVersion(o).next(h=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return H.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.Fs=i,o))}function wQ(n,e,t){let r=Se(),i=Se();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=lo();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Z(XD,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function EQ(n,e){let t=he(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$D),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IQ(n,e){let t=he(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new _h(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function sD(n,e,t){return C(this,null,function*(){let r=he(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Rl(s))throw s;Z(XD,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function _F(n,e,t){let r=he(n),i=pe.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){let h=he(c),f=h.Ms.get(u);return f!==void 0?H.resolve(h.Fs.get(f)):h.hi.getTargetData(l,u)}(r,s,pi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:Se())).next(a=>(CQ(r,LY(e),a),{documents:a,qs:o})))}function CQ(n,e,t){let r=n.xs.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Iy=class{constructor(){this.activeTargetIds=HY()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var aD=class{constructor(){this.Fo=new Iy,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Iy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cD=class{xo(e){}shutdown(){}};var bF="ConnectivityMonitor",Cy=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Z(bF,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Z(bF,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ey=null;function lD(){return ey===null?ey=function(){return 268435456+Math.round(2147483648*Math.random())}():ey++,"0x"+ey.toString(16)}var JI="RestConnection",DQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},uD=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=lD(),a=this.Go(e,t.toUriEncodedString());Z(JI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:l}=new URL(a),u=Go(l);return this.jo(e,a,c,r,u).then(h=>(Z(JI,`Received RPC '${e}' ${s}: `,h),h),h=>{throw as(JI,`RPC '${e}' ${s} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Al}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=DQ[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var dD=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var un="WebChannelConnection",hD=class extends uD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=lD();return new Promise((a,c)=>{let l=new GI;l.setWithCredentials(!0),l.listenOnce(KI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ah.NO_ERROR:let h=l.getResponseJson();Z(un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case ah.TIMEOUT:Z(un,`RPC '${e}' ${s} timed out`),c(new Y(B.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:let f=l.getStatus();if(Z(un,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let y=p?.error;if(y&&y.status&&y.message){let v=function(S){let R=S.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(R)>=0?R:B.UNKNOWN}(y.status);c(new Y(v,y.message))}else c(new Y(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Y(B.UNAVAILABLE,"Connection failed."));break;default:re(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{Z(un,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);Z(un,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",u,r,15)})}P_(e,t,r){let i=lD(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XI(),a=QI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=o.join("");Z(un,`Creating RPC '${e}' stream ${i}: ${u}`,c);let h=s.createWebChannel(u,c);this.T_(h);let f=!1,p=!1,y=new dD({Ho:_=>{p?Z(un,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(Z(un,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Z(un,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},Yo:()=>h.close()}),v=(_,S,R)=>{_.listen(S,O=>{try{R(O)}catch(V){setTimeout(()=>{throw V},0)}})};return v(h,ul.EventType.OPEN,()=>{p||(Z(un,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),v(h,ul.EventType.CLOSE,()=>{p||(p=!0,Z(un,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(h))}),v(h,ul.EventType.ERROR,_=>{p||(p=!0,as(un,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),y.__(new Y(B.UNAVAILABLE,"The operation could not be completed")))}),v(h,ul.EventType.MESSAGE,_=>{var S;if(!p){let R=_.data[0];Ve(!!R,16349);let O=R,V=O?.error||((S=O[0])===null||S===void 0?void 0:S.error);if(V){Z(un,`RPC '${e}' stream ${i} received error:`,V);let L=V.status,j=function(E){let x=Mt[E];if(x!==void 0)return TL(x)}(L),I=V.message;j===void 0&&(j=B.INTERNAL,I="Unknown error status: "+L+" with message "+V.message),p=!0,y.__(new Y(j,I)),h.close()}else Z(un,`RPC '${e}' stream ${i} received:`,R),y.a_(R)}}),v(a,YI.STAT_EVENT,_=>{_.stat===Xm.PROXY?Z(un,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===Xm.NOPROXY&&Z(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function eC(){return typeof document<"u"?document:null}function Gy(n){return new NC(n,!0)}var Dy=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var wF="PersistentStream",Ty=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Dy(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(oo(t.toString()),oo("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new Y(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return Z(wF,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Z(wF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fD=class extends Ty{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=rQ(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?gi(s.readTime):pe.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=LC(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=IC(c)?{documents:sQ(o,c)}:{query:aQ(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SL(o,s.resumeToken);let l=kC(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=_y(o,s.snapshotVersion.toTimestamp());let l=kC(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lQ(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=LC(this.serializer),t.removeTarget=e,this.k_(t)}},pD=class extends Ty{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=oQ(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=LC(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>iQ(this.serializer,r))};this.k_(t)}};var gD=class{},mD=class extends gD{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,OC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(B.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,OC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(B.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},yD=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(oo(t),this._a=!1):Z("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ja="RemoteStore",vD=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Ba(this)&&(Z(ja,"Restarting streams for network reachability change."),yield function(c){return C(this,null,function*(){let l=he(c);l.Ia.add(4),yield xh(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ky(l)})}(this))}))}),this.Aa=new yD(r,i)}};function Ky(n){return C(this,null,function*(){if(Ba(n))for(let e of n.da)yield e(!0)})}function xh(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function LL(n,e){let t=he(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),tT(t)?eT(t):Pl(t).x_()&&JD(t,e))}function ZD(n,e){let t=he(n),r=Pl(t);t.Ta.delete(e),r.x_()&&VL(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ba(t)&&t.Aa.set("Unknown"))}function JD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pl(n).H_(e)}function VL(n,e){n.Ra.$e(e),Pl(n).Y_(e)}function eT(n){n.Ra=new PC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Pl(n).start(),n.Aa.aa()}function tT(n){return Ba(n)&&!Pl(n).M_()&&n.Ta.size>0}function Ba(n){return he(n).Ia.size===0}function jL(n){n.Ra=void 0}function TQ(n){return C(this,null,function*(){n.Aa.set("Online")})}function SQ(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{JD(n,e)})})}function xQ(n,e){return C(this,null,function*(){jL(n),tT(n)?(n.Aa.la(e),eT(n)):n.Aa.set("Unknown")})}function AQ(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof yy&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){Z(ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sy(n,r)}else if(e instanceof ml?n.Ra.Ye(e):e instanceof my?n.Ra.it(e):n.Ra.et(e),!t.isEqual(pe.min()))try{let r=yield FL(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=o.Ta.get(l);u&&o.Ta.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let u=o.Ta.get(c);if(!u)return;o.Ta.set(c,u.withResumeToken(dn.EMPTY_BYTE_STRING,u.snapshotVersion)),VL(o,c);let h=new _h(u.target,c,l,u.sequenceNumber);JD(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Z(ja,"Failed to raise snapshot:",r),yield Sy(n,r)}})}function Sy(n,e,t){return C(this,null,function*(){if(!Rl(e))throw e;n.Ia.add(1),yield xh(n),n.Aa.set("Offline"),t||(t=()=>FL(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){Z(ja,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Ky(n)}))})}function UL(n,e){return e().catch(t=>Sy(n,t,e))}function Yy(n){return C(this,null,function*(){let e=he(n),t=ds(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$D;for(;MQ(e);)try{let i=yield EQ(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,RQ(e,i)}catch(i){yield Sy(e,i)}BL(e)&&$L(e)})}function MQ(n){return Ba(n)&&n.Pa.length<10}function RQ(n,e){n.Pa.push(e);let t=ds(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function BL(n){return Ba(n)&&!ds(n).M_()&&n.Pa.length>0}function $L(n){ds(n).start()}function PQ(n){return C(this,null,function*(){ds(n).na()})}function NQ(n){return C(this,null,function*(){let e=ds(n);for(let t of n.Pa)e.X_(t.mutations)})}function kQ(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=xC.from(r,e,t);yield UL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Yy(n)})}function OQ(n,e){return C(this,null,function*(){e&&ds(n).Z_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return QY(s)&&s!==B.ABORTED}(i.code)){let o=r.Pa.shift();ds(r).N_(),yield UL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Yy(r)}})}(n,e)),BL(n)&&$L(n)})}function EF(n,e){return C(this,null,function*(){let t=he(n);t.asyncQueue.verifyOperationInProgress(),Z(ja,"RemoteStore received new credentials");let r=Ba(t);t.Ia.add(3),yield xh(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Ky(t)})}function FQ(n,e){return C(this,null,function*(){let t=he(n);e?(t.Ia.delete(2),yield Ky(t)):e||(t.Ia.add(2),yield xh(t),t.Aa.set("Unknown"))})}function Pl(n){return n.Va||(n.Va=function(t,r,i){let o=he(t);return o.ia(),new fD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:TQ.bind(null,n),e_:SQ.bind(null,n),n_:xQ.bind(null,n),J_:AQ.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),tT(n)?eT(n):n.Aa.set("Unknown")):(yield n.Va.stop(),jL(n))}))),n.Va}function ds(n){return n.ma||(n.ma=function(t,r,i){let o=he(t);return o.ia(),new pD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:PQ.bind(null,n),n_:OQ.bind(null,n),ea:NQ.bind(null,n),ta:kQ.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Yy(n)):(yield n.ma.stop(),n.Pa.length>0&&(Z(ja,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var _D=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nT(n,e){if(oo("AsyncQueue",`${e}: ${n}`),Rl(n))return new Y(B.UNAVAILABLE,`${e}: ${n}`);throw n}var xy=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=ch(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ay=class{constructor(){this.fa=new bt(ee.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):re(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Tl=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,xy.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var bD=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},wD=class{constructor(){this.queries=IF(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=he(t),o=i.queries;i.queries=IF(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new Y(B.ABORTED,"Firestore shutting down"))}};function IF(){return new co(n=>pL(n),qy)}function rT(n,e){return C(this,null,function*(){let t=he(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new bD,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=nT(s,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&oT(t)})}function iT(n,e){return C(this,null,function*(){let t=he(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function LQ(n,e){let t=he(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&oT(t)}function VQ(n,e,t){let r=he(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function oT(n){n.Da.forEach(e=>{e.next()})}var ED,CF;(CF=ED||(ED={})).Fa="default",CF.Cache="cache";var Eh=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ED.Cache}};var My=class{constructor(e){this.key=e}},Ry=class{constructor(e){this.key=e}},ID=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Se(),this.mutatedKeys=Se(),this.Xa=gL(e),this.eu=new xy(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Ay,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{let f=i.get(u),p=Wy(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),_=!1;f&&p?f.data.isEqual(p.data)?y!==v&&(r.track({type:3,doc:p}),_=!0):this.iu(f,p)||(r.track({type:2,doc:p}),_=!0,(c&&this.Xa(p,c)>0||l&&this.Xa(p,l)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),_=!0):f&&!p&&(r.track({type:1,doc:f}),_=!0,(c||l)&&(a=!0)),_&&(p?(s=s.add(p),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((u,h)=>function(p,y){let v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{At:_})}};return v(p)-v(y)}(u.type,h.type)||this.Xa(u.doc,h.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,l=c!==this.Ya;return this.Ya=c,s.length!==0||l?{snapshot:new Tl(this.query,e.eu,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ay,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Se(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Ry(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new My(r))}),t}uu(e){this.Ha=e.qs,this.Za=Se();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Tl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},sT="SyncEngine",CD=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},DD=class{constructor(e){this.key=e,this.lu=!1}},TD=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new co(a=>pL(a),qy),this.Tu=new Map,this.Iu=new Set,this.du=new bt(ee.comparator),this.Eu=new Map,this.Au=new wh,this.Ru={},this.Vu=new Map,this.mu=bh.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function jQ(n,e,t=!0){return C(this,null,function*(){let r=KL(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield HL(r,e,t,!0),i})}function UQ(n,e){return C(this,null,function*(){let t=KL(n);yield HL(t,e,!0,!1)})}function HL(n,e,t,r){return C(this,null,function*(){let i=yield IQ(n.localStore,pi(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield BQ(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&LL(n.remoteStore,i),a})}function BQ(n,e,t,r,i){return C(this,null,function*(){n.gu=(h,f,p)=>function(v,_,S,R){return C(this,null,function*(){let O=_.view.nu(S);O.Ds&&(O=yield _F(v.localStore,_.query,!1).then(({documents:I})=>_.view.nu(I,O)));let V=R&&R.targetChanges.get(_.targetId),L=R&&R.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(O,v.isPrimaryClient,V,L);return TF(v,_.targetId,j._u),j.snapshot})}(n,h,f,p);let o=yield _F(n.localStore,e,!0),s=new ID(e,o.qs),a=s.nu(o.documents),c=vh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);TF(n,t,l._u);let u=new CD(e,t,s);return n.Pu.set(e,u),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function $Q(n,e,t){return C(this,null,function*(){let r=he(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!qy(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sD(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ZD(r.remoteStore,i.targetId),SD(r,i.targetId)}).catch(Ml))):(SD(r,i.targetId),yield sD(r.localStore,i.targetId,!0))})}function HQ(n,e){return C(this,null,function*(){let t=he(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ZD(t.remoteStore,r.targetId))})}function zQ(n,e,t){return C(this,null,function*(){let r=XQ(n);try{let i=yield function(s,a){let c=he(s),l=kt.now(),u=a.reduce((p,y)=>p.add(y.key),Se()),h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=lo(),v=Se();return c.Os.getEntries(p,u).next(_=>{y=_,y.forEach((S,R)=>{R.isValidDocument()||(v=v.add(S))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(_=>{h=_;let S=[];for(let R of a){let O=YY(R,h.get(R.key).overlayedDocument);O!=null&&S.push(new yi(R.key,O,aL(O.value.mapValue),io.exists(!0)))}return c.mutationQueue.addMutationBatch(p,l,S,a)}).next(_=>{f=_;let S=_.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(p,_.batchId,S)})}).then(()=>({batchId:f.batchId,changes:yL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Ru[s.currentUser.toKey()];l||(l=new bt(be)),l=l.insert(a,c),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ah(r,i.changes),yield Yy(r.remoteStore)}catch(i){let o=nT(i,"Failed to persist write");t.reject(o)}})}function zL(n,e){return C(this,null,function*(){let t=he(n);try{let r=yield bQ(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ve(s.lu,14607):i.removedDocuments.size>0&&(Ve(s.lu,42227),s.lu=!1))}),yield Ah(t,r,e)}catch(r){yield Ml(r)}})}function DF(n,e,t){let r=he(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=he(s);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(let f of h.wa)f.va(a)&&(l=!0)}),l&&oT(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qQ(n,e,t){return C(this,null,function*(){let r=he(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new bt(ee.comparator);s=s.insert(o,$r.newNoDocument(o,pe.min()));let a=Se().add(o),c=new gy(pe.min(),new Map,new bt(be),s,a);yield zL(r,c),r.du=r.du.remove(o),r.Eu.delete(e),aT(r)}else yield sD(r.localStore,e,!1).then(()=>SD(r,e,t)).catch(Ml)})}function WQ(n,e){return C(this,null,function*(){let t=he(n),r=e.batch.batchId;try{let i=yield _Q(t.localStore,e);WL(t,r,null),qL(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ah(t,i)}catch(i){yield Ml(i)}})}function GQ(n,e,t){return C(this,null,function*(){let r=he(n);try{let i=yield function(s,a){let c=he(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ve(h!==null,37113),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);WL(r,e,t),qL(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ah(r,i)}catch(i){yield Ml(i)}})}function qL(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function WL(n,e,t){let r=he(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function SD(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||GL(n,r)})}function GL(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(ZD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),aT(n))}function TF(n,e,t){for(let r of t)r instanceof My?(n.Au.addReference(r.key,e),KQ(n,r)):r instanceof Ry?(Z(sT,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||GL(n,r.key)):re(19791,{yu:r})}function KQ(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Z(sT,"New document in limbo: "+t),n.Iu.add(r),aT(n))}function aT(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ee(ut.fromString(e)),r=n.mu.next();n.Eu.set(r,new DD(t)),n.du=n.du.insert(t,r),LL(n.remoteStore,new _h(pi(zy(t.path)),r,"TargetPurposeLimboResolution",BD.ue))}}function Ah(n,e,t){return C(this,null,function*(){let r=he(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(l=>{var u;if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:(u=t?.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(l){i.push(l);let h=nD.Es(c.targetId,l);o.push(h)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(c,l){return C(this,null,function*(){let u=he(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(l,f=>H.forEach(f.Is,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>H.forEach(f.ds,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Rl(h))throw h;Z(XD,"Failed to update sequence numbers: "+h)}for(let h of l){let f=h.targetId;if(!h.fromCache){let p=u.Fs.get(f),y=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(y);u.Fs=u.Fs.insert(f,v)}}})}(r.localStore,o))})}function YQ(n,e){return C(this,null,function*(){let t=he(n);if(!t.currentUser.isEqual(e)){Z(sT,"User change. New user:",e.toKey());let r=yield OL(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new Y(B.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ah(t,r.Bs)}})}function QQ(n,e){let t=he(n),r=t.Eu.get(e);if(r&&r.lu)return Se().add(r.key);{let i=Se(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function KL(n){let e=he(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qQ.bind(null,e),e.hu.J_=LQ.bind(null,e.eventManager),e.hu.pu=VQ.bind(null,e.eventManager),e}function XQ(n){let e=he(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GQ.bind(null,e),e}var YL=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Gy(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return vQ(this.persistence,new iD,t.initialUser,this.serializer)}Du(t){return new wy(tD.Vi,this.serializer)}bu(t){return new aD}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),xD=class extends YL{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ve(this.persistence.referenceDelegate instanceof Ey,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new $C(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new wy(r=>Ey.Vi(r,t),this.serializer)}};var ZQ=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=YQ.bind(null,this.syncEngine),yield FQ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new wD}()}createDatastore(t){let r=Gy(t.databaseInfo.databaseId),i=function(s){return new hD(s)}(t.databaseInfo);return function(s,a,c,l){return new mD(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new vD(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>DF(this.syncEngine,r,0),function(){return Cy.C()?new Cy:new cD}())}createSyncEngine(t,r){return function(o,s,a,c,l,u,h){let f=new TD(o,s,a,c,l,u);return h&&(f.fu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=he(o);Z(ja,"RemoteStore shutting down."),s.Ia.add(5),yield xh(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ih=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):oo("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var hs="FirestoreClient",AD=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=fh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){Z(hs,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Z(hs,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=nT(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function tC(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Z(hs,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield OL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{as("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Z("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{as("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function SF(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield JQ(n);Z(hs,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>EF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>EF(e.remoteStore,i)),n._onlineComponents=e})}function JQ(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Z(hs,"Using user provided OfflineComponentProvider");try{yield tC(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;as("Error using user provided cache. Falling back to memory cache: "+t),yield tC(n,new YL)}}else Z(hs,"Using default OfflineComponentProvider"),yield tC(n,new xD(void 0));return n._offlineComponents})}function QL(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Z(hs,"Using user provided OnlineComponentProvider"),yield SF(n,n._uninitializedComponentsProvider._online)):(Z(hs,"Using default OnlineComponentProvider"),yield SF(n,new ZQ))),n._onlineComponents})}function eX(n){return QL(n).then(e=>e.syncEngine)}function Py(n){return C(this,null,function*(){let e=yield QL(n),t=e.eventManager;return t.onListen=jQ.bind(null,e.syncEngine),t.onUnlisten=$Q.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UQ.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HQ.bind(null,e.syncEngine),t})}function tX(n,e,t={}){let r=new Br;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return function(o,s,a,c,l){let u=new Ih({next:f=>{u.Ou(),s.enqueueAndForget(()=>iT(o,h));let p=f.docs.has(a);!p&&f.fromCache?l.reject(new Y(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&c&&c.source==="server"?l.reject(new Y(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Eh(zy(a.path),u,{includeMetadataChanges:!0,ka:!0});return rT(o,h)}(yield Py(n),n.asyncQueue,e,t,r)})),r.promise}function nX(n,e,t={}){let r=new Br;return n.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return function(o,s,a,c,l){let u=new Ih({next:f=>{u.Ou(),s.enqueueAndForget(()=>iT(o,h)),f.fromCache&&c.source==="server"?l.reject(new Y(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Eh(a,u,{includeMetadataChanges:!0,ka:!0});return rT(o,h)}(yield Py(n),n.asyncQueue,e,t,r)})),r.promise}function XL(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var xF=new Map;var ZL="firestore.googleapis.com",AF=!0,Ny=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZL,this.ssl=AF}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:AF;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gQ)throw new Y(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Sl=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ny({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ny(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nC;switch(r.type){case"firstParty":return new sC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=xF.get(t);r&&(Z("ComponentProvider","Removing Datastore"),xF.delete(t),r.terminate())}(this),Promise.resolve()}};function JL(n,e,t,r={}){var i;n=Xn(n,Sl);let o=Go(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Cm(`https://${c}`),Dm("Firestore",!0)),s.host!==ZL&&s.host!==c&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Vr(l,a)&&(n._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Wt.MOCK_USER;else{u=fk(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Wt(f)}n._authCredentials=new rC(new iy(u,h))}}var uo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Bt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sh(t,n._jsonSchema))return new n(e,r||null,new ee(ut.fromString(t.referencePath)))}};Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:Nt("string",Bt._jsonSchemaVersion),referencePath:Nt("string")};var rs=class n extends uo{constructor(e,t,r){super(e,t,zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function eV(n,e,...t){if(n=Ut(n),LF("collection","path",e),n instanceof Sl){let r=ut.fromString(e,...t);return GO(r),new rs(n,null,r)}{if(!(n instanceof Bt||n instanceof rs))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ut.fromString(e,...t));return GO(r),new rs(n.firestore,null,r)}}function cT(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=fh.newId()),LF("doc","path",e),n instanceof Sl){let r=ut.fromString(e,...t);return WO(r),new Bt(n,null,new ee(r))}{if(!(n instanceof Bt||n instanceof rs))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ut.fromString(e,...t));return WO(r),new Bt(n.firestore,n instanceof rs?n.converter:null,new ee(r))}}var MF="AsyncQueue",ky=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Dy(this,"async_queue_retry"),this.oc=()=>{let r=eC();r&&Z(MF,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=eC();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=eC();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Br;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Rl(e))throw e;Z(MF,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,oo("INTERNAL UNHANDLED ERROR: ",RF(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=_D.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&re(47125,{hc:RF(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function RF(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function PF(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var vi=class extends Sl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ky,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ky(e),this._firestoreClient=void 0,yield e}})}};function lT(n,e){let t=typeof n=="object"?n:wa(),r=typeof n=="string"?n:e||ly,i=ol(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=hk("firestore");o&&JL(i,...o)}return i}function Qy(n){if(n._terminated)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rX(n),n._firestoreClient}function rX(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,u){return new dC(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XL(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new AD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var is=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(dn.fromBase64String(e))}catch(t){throw new Y(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sh(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};is._jsonSchemaVersion="firestore/bytes/1.0",is._jsonSchema={type:Nt("string",is._jsonSchemaVersion),bytes:Nt("string")};var xl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ua=class{constructor(e){this._methodName=e}};var os=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Sh(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};os._jsonSchemaVersion="firestore/geoPoint/1.0",os._jsonSchema={type:Nt("string",os._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};var ss=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sh(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new Y(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Nt("string",ss._jsonSchemaVersion),vectorValues:Nt("object")};var iX=/^__.*__$/,MD=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)}},Oy=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yi(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function tV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ec:n})}}var Fy=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Vy(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(tV(this.Ec)&&iX.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},RD=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gy(e)}Dc(e,t,r,i=!1){return new Fy({Ec:e,methodName:t,bc:r,path:Qn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Xy(n){let e=n._freezeSettings(),t=Gy(n._databaseId);return new RD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nV(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);uT("Data must be an object, but it was:",s,r);let a=rV(r,s),c,l;if(o.merge)c=new mr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let u=[];for(let h of o.mergeFields){let f=kD(e,h,t);if(!s.contains(f))throw new Y(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);oV(u,f)||u.push(f)}c=new mr(u),l=s.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=s.fieldTransforms;return new MD(new Yn(a),c,l)}var Ly=class n extends Ua{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function oX(n,e,t){return new Fy({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var PD=class n extends Ua{_toFieldTransform(e){return new fy(e.path,new Fa)}isEqual(e){return e instanceof n}},ND=class n extends Ua{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=oX(this,e,!0),r=this.vc.map(o=>Nl(o,t)),i=new us(r);return new fy(e.path,i)}isEqual(e){return e instanceof n&&Vr(this.vc,e.vc)}};function sX(n,e,t,r){let i=n.Dc(1,e,t);uT("Data must be an object, but it was:",i,r);let o=[],s=Yn.empty();fs(r,(c,l)=>{let u=dT(e,c,t);l=Ut(l);let h=i.gc(u);if(l instanceof Ly)o.push(u);else{let f=Nl(l,h);f!=null&&(o.push(u),s.set(u,f))}});let a=new mr(o);return new Oy(s,a,i.fieldTransforms)}function aX(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[kD(e,r,t)],c=[i];if(o.length%2!=0)throw new Y(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(kD(e,o[f])),c.push(o[f+1]);let l=[],u=Yn.empty();for(let f=a.length-1;f>=0;--f)if(!oV(l,a[f])){let p=a[f],y=c[f];y=Ut(y);let v=s.gc(p);if(y instanceof Ly)l.push(p);else{let _=Nl(y,v);_!=null&&(l.push(p),u.set(p,_))}}let h=new mr(l);return new Oy(u,h,s.fieldTransforms)}function cX(n,e,t,r=!1){return Nl(t,n.Dc(r?4:3,e))}function Nl(n,e){if(iV(n=Ut(n)))return uT("Unsupported field value:",e,n),rV(n,e);if(n instanceof Ua)return function(r,i){if(!tV(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=Nl(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=kt.fromDate(r);return{timestampValue:_y(i.serializer,o)}}if(r instanceof kt){let o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_y(i.serializer,o)}}if(r instanceof os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof is)return{bytesValue:SL(i.serializer,r._byteString)};if(r instanceof Bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:QD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ss)return function(s,a){return{mapValue:{fields:{[zD]:{stringValue:qD},[_l]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return YD(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${By(r)}`)}(n,e)}function rV(n,e){let t={};return JF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,(r,i)=>{let o=Nl(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function iV(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof os||n instanceof is||n instanceof Bt||n instanceof Ua||n instanceof ss)}function uT(n,e,t){if(!iV(t)||!VF(t)){let r=By(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function kD(n,e,t){if((e=Ut(e))instanceof xl)return e._internalPath;if(typeof e=="string")return dT(n,e);throw Vy("Field path arguments must be of type string or ",n,!1,void 0,t)}var lX=new RegExp("[~\\*/\\[\\]]");function dT(n,e,t){if(e.search(lX)>=0)throw Vy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw Vy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vy(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Y(B.INVALID_ARGUMENT,a+n+c)}function oV(n,e){return n.some(t=>t.isEqual(e))}var jy=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new OD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Zy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},OD=class extends jy{data(){return super.data()}};function Zy(n,e){return typeof e=="string"?dT(n,e):e instanceof xl?e._internalPath:e._delegate._internalPath}function sV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ch=class{},Dh=class extends Ch{};function aV(n,e,...t){let r=[];e instanceof Ch&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof FD).length,a=o.filter(c=>c instanceof Uy).length;if(s>1||s>0&&a>0)throw new Y(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Uy=class n extends Dh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return dV(e._query,t),new uo(e.firestore,e.converter,CC(e._query,t))}_parse(e){let t=Xy(e.firestore);return function(o,s,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Y(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){kF(h,u);let y=[];for(let v of h)y.push(NF(c,o,v));f={arrayValue:{values:y}}}else f=NF(c,o,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||kF(h,u),f=cX(a,s,h,u==="in"||u==="not-in");return Pt.create(l,u,f)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function cV(n,e,t){let r=e,i=Zy("where",n);return Uy._create(i,r,t)}var FD=class n extends Ch{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Hr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)dV(s,c),s=CC(s,c)}(e._query,t),new uo(e.firestore,e.converter,CC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var LD=class n extends Dh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oa(o,s)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ls(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function lV(n,e="asc"){let t=e,r=Zy("orderBy",n);return LD._create(r,t)}var VD=class n extends Dh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new uo(e.firestore,e.converter,hy(e._query,this._limit,this._limitType))}};function uV(n){return fY("limit",n),VD._create("limit",n,"F")}function NF(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new Y(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fL(e)&&t.indexOf("/")!==-1)throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ut.fromString(t));if(!ee.isDocumentKey(r))throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eF(n,new ee(r))}if(t instanceof Bt)return eF(n,t._key);throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${By(t)}.`)}function kF(n,e){if(!Array.isArray(n)||n.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dV(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var jD=class{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return fs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[_l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>lt(s.doubleValue));return new ss(o)}convertGeoPoint(e){return new os(lt(e.latitude),lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Hy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mh(e));default:return null}}convertTimestamp(e){let t=so(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ut.fromString(e);Ve(NL(r),9688,{name:e});let i=new uy(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(t)||oo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function hV(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ma=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ra=class n extends jy{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Zy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Nt("string",Ra._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};var yl=class extends Ra{data(e={}){return super.data(e)}},Pa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ma(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new yl(this._firestore,this._userDataWriter,r.key,r,new Ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ma(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:uX(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function uX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:n})}}function fV(n){n=Xn(n,Bt);let e=Xn(n.firestore,vi);return tX(Qy(e),n._key).then(t=>vV(e,n,t))}Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:Nt("string",Pa._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};var Th=class extends jD{constructor(e){super(),this.firestore=e}convertBytes(e){return new is(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,t)}};function pV(n){n=Xn(n,uo);let e=Xn(n.firestore,vi),t=Qy(e),r=new Th(e);return sV(n._query),nX(t,n._query).then(i=>new Pa(e,r,n,i))}function gV(n,e,t){n=Xn(n,Bt);let r=Xn(n.firestore,vi),i=hV(n.converter,e,t);return fT(r,[nV(Xy(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,io.none())])}function mV(n,e,t,...r){n=Xn(n,Bt);let i=Xn(n.firestore,vi),o=Xy(i),s;return s=typeof(e=Ut(e))=="string"||e instanceof xl?aX(o,"updateDoc",n._key,e,t,r):sX(o,"updateDoc",n._key,e),fT(i,[s.toMutation(n._key,io.exists(!0))])}function yV(n,e){let t=Xn(n.firestore,vi),r=cT(n),i=hV(n.converter,e);return fT(t,[nV(Xy(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,io.exists(!1))]).then(()=>r)}function hT(n,...e){var t,r,i;n=Ut(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PF(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PF(e[s])){let h=e[s];e[s]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,l,u;if(n instanceof Bt)l=Xn(n.firestore,vi),u=zy(n._key.path),c={next:h=>{e[s]&&e[s](vV(l,n,h))},error:e[s+1],complete:e[s+2]};else{let h=Xn(n,uo);l=Xn(h.firestore,vi),u=h._query;let f=new Th(l);c={next:p=>{e[s]&&e[s](new Pa(l,f,h,p))},error:e[s+1],complete:e[s+2]},sV(n._query)}return function(f,p,y,v){let _=new Ih(v),S=new Eh(p,_,y);return f.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return rT(yield Py(f),S)})),()=>{_.Ou(),f.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return iT(yield Py(f),S)}))}}(Qy(l),u,a,c)}function fT(n,e){return function(r,i){let o=new Br;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return zQ(yield eX(r),i,o)})),o.promise}(Qy(n),e)}function vV(n,e,t){let r=t.docs.get(e._key),i=new Th(n);return new Ra(n,i,e._key,r,new Ma(t.hasPendingWrites,t.fromCache),e.converter)}function _i(){return new PD("serverTimestamp")}function _V(...n){return new ND("arrayUnion",n)}(function(e,t=!0){(function(i){Al=i})(Yo),jr(new En("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new vi(new iC(r.getProvider("auth-internal")),new aC(s,r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Y(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uy(l.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_t($O,HO,e),_t($O,HO,"esm2017")})();var Jy=function(){return Jy=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jy.apply(this,arguments)};var fX={includeMetadataChanges:!1};function bV(n,e){return e===void 0&&(e=fX),new ge(function(t){var r=hT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wV(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Jy(Jy({},r),(t={},t[e.idField]=n.id,t))}function EV(n){return bV(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function IV(n,e){return e===void 0&&(e={}),EV(n).pipe(le(function(t){return t.map(function(r){return wV(r,e)})}))}var ho=class{constructor(e){return e}},CV="firestore",pT=class{constructor(){return al(CV)}};var gT=new G("angularfire2.firestore-instances");function pX(n,e){let t=Qd(CV,n,e);return t&&new ho(t)}function gX(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ho(r)}}var mX={provide:pT,deps:[[new Hn,gT]]},yX={provide:ho,useFactory:pX,deps:[[new Hn,gT],Ji]};function DV(n,...e){return _t("angularfire",Qo.full,"fst"),nr([yX,mX,{provide:gT,useFactory:gX(n),multi:!0,deps:[Ae,Tt,Xo,Ia,[new Hn,sh],[new Hn,cl],...e]}])}var ev=Xt(IV,!0);var tv=Xt(yV,!0,2);var fo=Xt(eV,!0,2);var po=Xt(cT,!0,2);var nv=Xt(fV,!0);var rv=Xt(pV,!0);var iv=Xt(uV,!0,2);var ov=Xt(lV,!0,2),Mh=Xt(aV,!0,2);var kl=Xt(gV,!0,2);var mT=Xt(mV,!0,2);var $a=Xt(cV,!0,2);var On=class n{constructor(e,t){this.http=e;this.db=t}apiUrl="https://julieta_denise_rojas-apialed.mdbgo.io";LS_KEY="usuarioLogueado";env=U(vt);usuarioParaEditar={nombre:"",apellido:"",mail:"",fechaNacimiento:"",user:"",password:"",tipoUsuario:0};listaUsuario=[];getUsuarioLogueado(){try{let e=localStorage.getItem(this.LS_KEY);return e?JSON.parse(e):null}catch{return null}}miId(){let e=this.getUsuarioLogueado();return e?String(e.id):null}esAdmin(){let e=this.getUsuarioLogueado();return!!e&&Number(e.tipoUsuario)===2}rol(){return this.esAdmin()?"admin":"usuario"}registrar(e){return this.http.post(this.apiUrl+"/registro",e)}login(e){return this.http.post(this.apiUrl+"/login",e)}upsertUsuarioFs(e){return C(this,null,function*(){let t=String(e.id),r={nombre:e.nombre??"",apellido:e.apellido??"",mail:e.mail??"",tipoUsuario:Number(e.tipoUsuario),rol:e.rol??(Number(e.tipoUsuario)===2?"admin":"usuario")};yield kl(po(this.db,"usuarios",t),r,{merge:!0})})}cacheNombrePorId={};getNombreConRol(e){return C(this,null,function*(){return this.cacheNombrePorId[e]?this.cacheNombrePorId[e]:it(this.env,()=>C(this,null,function*(){let t=yield nv(po(this.db,`usuarios/${e}`));if(!t.exists())return this.cacheNombrePorId[e]=e,e;let r=t.data(),i=r?.rol||(Number(r?.tipoUsuario)===2?"admin":"usuario"),o=[r?.nombre,r?.apellido].filter(Boolean).join(" "),s=o?`${o} (${i})`:`${e} (${i})`;return this.cacheNombrePorId[e]=s,s}))})}debugAdminsLog(){return C(this,null,function*(){return it(this.env,()=>C(this,null,function*(){let e=yield rv(fo(this.db,"usuarios"));console.log("[DEBUG usuarios]",e.docs.map(t=>z({id:t.id},t.data())))}))})}static \u0275fac=function(t){return new(t||n)(J(ii),J(ho))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function _X(n,e){n&1&&(A(0,"div",20),N(1," El usuario es obligatorio. "),T())}function bX(n,e){n&1&&(A(0,"div",20),N(1," La contrase\xF1a es obligatoria. "),T())}var sv=class n{constructor(e,t,r){this.fb=e;this.usuarioService=t;this.router=r;this.loginForm=this.fb.group({user:["",Ke.required],password:["",Ke.required]})}usuario={nombre:"",apellido:"",mail:"",fechaNacimiento:new Date,user:"",password:"",tipoUsuario:0};loginForm;login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.value;this.usuarioService.login(e).subscribe({next:t=>{t?(alert("Login exitoso!"),localStorage.setItem("usuarioLogueado",JSON.stringify(t)),this.router.navigate(["/principal"]).then(()=>{window.location.reload()})):alert("Usuario o contrase\xF1a incorrectos")},error:t=>{alert("Error en el login: "+(t.error.message||"Error desconocido")),console.error(t)}})}static \u0275fac=function(t){return new(t||n)(q(qo),q(On),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","text-black","border-rose",2,"border-radius","1rem"],[1,"card-body","p-5","bg-light-rose"],[1,"mb-md-5","mt-md-4","pb-5","text-center"],[1,"fw-bold","mb-2","text-uppercase","text-rose"],[1,"text-muted","mb-5"],[3,"formGroup"],[1,"form-outline","mb-4","text-start"],["for","user",1,"form-label","text-rose"],["type","text","id","user","formControlName","user","placeholder","Ingrese su usuario",1,"form-control","form-control-lg","border-rose"],["class","text-danger mt-1",4,"ngIf"],["for","password",1,"form-label","text-rose"],["type","password","id","password","formControlName","password","placeholder","Ingrese su contrase\xF1a",1,"form-control","form-control-lg","border-rose"],[1,"text-center"],["type","button",1,"btn","btn-rose","btn-lg","px-5",3,"click","disabled"],[1,"mb-0"],["routerLink","/registro",1,"text-rose","fw-bold"],[1,"text-danger","mt-1"]],template:function(t,r){if(t&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),N(8,"Iniciar Sesi\xF3n"),T(),A(9,"p",8),N(10,"Por favor ingres\xE1 tu usuario y contrase\xF1a"),T(),A(11,"form",9)(12,"div",10)(13,"label",11),N(14,"Usuario"),T(),ae(15,"input",12),se(16,_X,2,0,"div",13),T(),A(17,"div",10)(18,"label",14),N(19,"Contrase\xF1a"),T(),ae(20,"input",15),se(21,bX,2,0,"div",13),T(),A(22,"div",16)(23,"button",17),ne("click",function(){return r.login()}),N(24," Ingresar "),T()()()(),A(25,"div",16)(26,"p",18),N(27," \xBFNo ten\xE9s cuenta? "),A(28,"a",19),N(29,"Registrate"),T()()()()()()()()()),t&2){let i,o;$(11),Q("formGroup",r.loginForm),$(5),Q("ngIf",((i=r.loginForm.get("user"))==null?null:i.touched)&&((i=r.loginForm.get("user"))==null?null:i.hasError("required"))),$(5),Q("ngIf",((o=r.loginForm.get("password"))==null?null:o.touched)&&((o=r.loginForm.get("password"))==null?null:o.hasError("required"))),$(2),Q("disabled",r.loginForm.invalid)}},dependencies:[li,hr,zt,ln,dr,Qi,Xi,Fr,Zc,Je,Vt],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-light-rose[_ngcontent-%COMP%]{background-color:#f8d7e4!important}.border-rose[_ngcontent-%COMP%]{border-color:#d63384!important}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};var Ol=class n{db=U(ho);env=U(vt);upsertUsuario(e){return C(this,null,function*(){let t=String(e.id),r={nombre:e.nombre,apellido:e.apellido,correo:e.mail,tipoUsuario:e.tipoUsuario,rol:e.tipoUsuario===2?"admin":"usuario",fotoURL:e.fotoURL??null};yield kl(po(this.db,`usuarios/${t}`),r,{merge:!0})})}convId(e,t){let[r,i]=[e,t].sort();return`${r}_${i}`}getOrCreateConversacion1a1(e,t){return C(this,null,function*(){let r=String(e),i=String(t),o=this.convId(r,i),s=po(this.db,`conversaciones/${o}`);if(!(yield nv(s)).exists()){let c={participantesIds:[r,i],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:_i(),tipo:"directo",estado:"en_curso",creadoPor:r,creadoEn:_i(),esGrupo:!1,titulo:""};yield kl(s,c)}return o})}listenConversacionesDe(e){return it(this.env,()=>{let t=String(e),r=fo(this.db,"conversaciones"),i=Mh(r,$a("participantesIds","array-contains",t),ov("actualizadoEn","desc"),iv(50));return ev(i,{idField:"id"})})}listenMensajesDeConversacion(e){return it(this.env,()=>{let t=fo(this.db,`conversaciones/${e}/mensajes`),r=Mh(t,ov("creadoEn","asc"));return ev(r,{idField:"id"})})}enviarMensaje(e,t,r){return C(this,null,function*(){let i=String(t),o=fo(this.db,`conversaciones/${e}/mensajes`),s=_i();yield tv(o,{remitenteId:i,texto:r,creadoEn:s,leidoPor:[i]}),yield kl(po(this.db,`conversaciones/${e}`),{ultimoMensaje:r,ultimoRemitenteId:i,actualizadoEn:s},{merge:!0})})}crearConversacionSoporte(e){return C(this,null,function*(){let t=fo(this.db,"conversaciones");try{let o=Mh(t,$a("tipo","==","soporte"),$a("creadoPor","==",e),$a("estado","in",["pendiente","en_curso"]),iv(1)),s=yield rv(o);if(!s.empty)return s.docs[0].id}catch{}let r={participantesIds:[e],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:_i(),tipo:"soporte",estado:"pendiente",assignedAdminId:null,creadoPor:e,creadoEn:_i()};return(yield tv(t,r)).id})}crearConversacionSoporteNueva(e){return C(this,null,function*(){let t=fo(this.db,"conversaciones"),r={participantesIds:[e],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:_i(),tipo:"soporte",estado:"pendiente",assignedAdminId:null,creadoPor:e,creadoEn:_i()};return(yield tv(t,r)).id})}listenPendientesParaAdmin(){return it(this.env,()=>{let e=fo(this.db,"conversaciones"),t=Mh(e,$a("tipo","==","soporte"),$a("estado","==","pendiente"),ov("actualizadoEn","desc"),iv(50));return ev(t,{idField:"id"})})}cerrarConversacion(e){return C(this,null,function*(){let t=po(this.db,"conversaciones",e);yield mT(t,{estado:"cerrada",actualizadoEn:_i()})})}tomarConversacion(e,t){return C(this,null,function*(){let r=po(this.db,"conversaciones",e);yield mT(r,{assignedAdminId:t,estado:"en_curso",participantesIds:_V(t),actualizadoEn:_i()})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function EX(n,e){n&1&&(A(0,"div",30),N(1," El nombre es obligatorio. "),T())}function IX(n,e){n&1&&(A(0,"div",30),N(1," El apellido es obligatorio. "),T())}function CX(n,e){n&1&&(A(0,"div",30),N(1," Ingrese un correo v\xE1lido. "),T())}function DX(n,e){n&1&&(A(0,"div",30),N(1," La fecha de nacimiento es obligatoria. "),T())}function TX(n,e){n&1&&(A(0,"div",30),N(1," El nombre de usuario es obligatorio. "),T())}function SX(n,e){n&1&&(A(0,"div"),N(1,"La contrase\xF1a es obligatoria."),T())}function xX(n,e){n&1&&(A(0,"div"),N(1,"Debe tener al menos 6 caracteres."),T())}function AX(n,e){if(n&1&&(A(0,"div",30),se(1,SX,2,0,"div",31)(2,xX,2,0,"div",31),T()),n&2){let t,r,i=oe();$(),Q("ngIf",(t=i.registroForm.get("password"))==null||t.errors==null?null:t.errors.required),$(),Q("ngIf",(r=i.registroForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function MX(n,e){n&1&&(A(0,"div",30),N(1," Seleccione un tipo de usuario. "),T())}function RX(n,e){if(n&1&&(A(0,"div",32),N(1),T()),n&2){let t=oe();$(),ti(" ",t.errorMessage," ")}}var av=class n{constructor(e,t,r,i){this.fb=e;this.usuarioService=t;this.chat=r;this.router=i;this.registroForm=this.fb.group({nombre:["",Ke.required],apellido:["",Ke.required],mail:["",[Ke.required,Ke.email]],fechaNacimiento:["",Ke.required],user:["",Ke.required],password:["",[Ke.required,Ke.minLength(6)]],tipoUsuario:[1,Ke.required]})}registroForm;errorMessage="";loading=!1;guardar(){if(this.errorMessage="",this.registroForm.invalid){this.registroForm.markAllAsTouched(),this.errorMessage="Por favor complete todos los campos correctamente.";return}let e=ie(z({},this.registroForm.value),{mail:String(this.registroForm.value.mail||"").trim().toLowerCase(),tipoUsuario:Number(this.registroForm.value.tipoUsuario||1)});this.loading=!0,this.usuarioService.registrar(e).subscribe({next:t=>C(this,null,function*(){try{let r={id:t?.id??t?.insertId??t?.usuario?.id??e?.id,nombre:t?.nombre??t?.usuario?.nombre??e.nombre,apellido:t?.apellido??t?.usuario?.apellido??e.apellido,mail:t?.mail??t?.usuario?.mail??e.mail,tipoUsuario:Number(t?.tipoUsuario??t?.usuario?.tipoUsuario??e.tipoUsuario),fotoURL:null};r.id?yield this.chat.upsertUsuario(r):console.warn("[Registro] La API no devolvi\xF3 ID; no se cre\xF3 doc en Firestore."),this.router.navigate(["/login"]).then(()=>this.loading=!1)}catch(r){console.error("[Registro] Firestore error:",r),this.loading=!1,this.errorMessage="Usuario creado. Hubo un problema al sincronizar con el chat."}}),error:t=>{console.error("[Registro] Error API:",t),this.loading=!1,this.errorMessage="Error al registrar usuario. Intente nuevamente."}})}static \u0275fac=function(t){return new(t||n)(q(qo),q(On),q(Ol),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-registro"]],decls:60,vars:10,consts:[[1,"gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-10","col-lg-8","col-xl-6"],[1,"card","bg-light","text-black",2,"border-radius","1rem"],[1,"card-body","p-5"],[1,"fw-bold","mb-4","text-uppercase","text-center"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingrese su apellido",1,"form-control"],[1,"mb-3"],["type","email","formControlName","mail","placeholder","ejemplo@mail.com",1,"form-control"],["type","date","formControlName","fechaNacimiento",1,"form-control"],["type","text","formControlName","user","placeholder","Ingrese un nombre de usuario",1,"form-control"],["type","password","formControlName","password","placeholder","M\xEDnimo 6 caracteres",1,"form-control"],[1,"mb-4"],["formControlName","tipoUsuario",1,"form-select"],["value",""],["value","1"],["value","2"],["class","alert alert-danger",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-lg","px-5",3,"disabled"],[1,"mt-4","text-center"],[1,"mb-0"],["routerLink","/login",1,"text-primary","fw-bold"],[1,"text-danger"],[4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,r){if(t&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),N(7,"Registro de Usuario"),T(),A(8,"form",7),ne("ngSubmit",function(){return r.guardar()}),A(9,"div",8)(10,"div",9)(11,"label",10),N(12,"Nombre"),T(),ae(13,"input",11),se(14,EX,2,0,"div",12),T(),A(15,"div",9)(16,"label",10),N(17,"Apellido"),T(),ae(18,"input",13),se(19,IX,2,0,"div",12),T()(),A(20,"div",14)(21,"label",10),N(22,"Correo electr\xF3nico"),T(),ae(23,"input",15),se(24,CX,2,0,"div",12),T(),A(25,"div",14)(26,"label",10),N(27,"Fecha de Nacimiento"),T(),ae(28,"input",16),se(29,DX,2,0,"div",12),T(),A(30,"div",14)(31,"label",10),N(32,"Usuario"),T(),ae(33,"input",17),se(34,TX,2,0,"div",12),T(),A(35,"div",14)(36,"label",10),N(37,"Contrase\xF1a"),T(),ae(38,"input",18),se(39,AX,3,2,"div",12),T(),A(40,"div",19)(41,"label",10),N(42,"Tipo de Usuario"),T(),A(43,"select",20)(44,"option",21),N(45,"Seleccione un tipo"),T(),A(46,"option",22),N(47,"Cliente"),T(),A(48,"option",23),N(49,"Administrador"),T()(),se(50,MX,2,0,"div",12),T(),se(51,RX,2,1,"div",24),A(52,"div",25)(53,"button",26),N(54,"Registrarse"),T()()(),A(55,"div",27)(56,"p",28),N(57," \xBFYa ten\xE9s cuenta? "),A(58,"a",29),N(59,"Iniciar sesi\xF3n"),T()()()()()()()()()),t&2){let i,o,s,a,c,l,u;$(8),Q("formGroup",r.registroForm),$(6),Q("ngIf",((i=r.registroForm.get("nombre"))==null?null:i.invalid)&&((i=r.registroForm.get("nombre"))==null?null:i.touched)),$(5),Q("ngIf",((o=r.registroForm.get("apellido"))==null?null:o.invalid)&&((o=r.registroForm.get("apellido"))==null?null:o.touched)),$(5),Q("ngIf",((s=r.registroForm.get("mail"))==null?null:s.invalid)&&((s=r.registroForm.get("mail"))==null?null:s.touched)),$(5),Q("ngIf",((a=r.registroForm.get("fechaNacimiento"))==null?null:a.invalid)&&((a=r.registroForm.get("fechaNacimiento"))==null?null:a.touched)),$(5),Q("ngIf",((c=r.registroForm.get("user"))==null?null:c.invalid)&&((c=r.registroForm.get("user"))==null?null:c.touched)),$(5),Q("ngIf",((l=r.registroForm.get("password"))==null?null:l.touched)&&((l=r.registroForm.get("password"))==null?null:l.errors)),$(11),Q("ngIf",((u=r.registroForm.get("tipoUsuario"))==null?null:u.invalid)&&((u=r.registroForm.get("tipoUsuario"))==null?null:u.touched)),$(),Q("ngIf",r.errorMessage),$(2),Q("disabled",r.registroForm.invalid)}},dependencies:[fr,hr,vm,_m,zt,il,ln,dr,li,Qi,Xi,Je,Vt],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.gradient-custom[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(to right,#f8bbd0,#f48fb1);display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:100%}"]})};function PX(n,e){if(n&1){let t=It();A(0,"tr")(1,"th",4),N(2),T(),A(3,"td"),N(4),T(),A(5,"td"),N(6),T(),A(7,"td"),N(8),T(),A(9,"td"),N(10),bn(11,"date"),T(),A(12,"td"),N(13),T(),A(14,"td")(15,"button",5),ne("click",function(){let i=st(t).$implicit,o=oe();return at(o.editarUsuario(i))}),N(16,"Editar"),T()()()}if(n&2){let t=e.$implicit,r=e.index;$(2),Oe(r+1),$(2),Oe(t.nombre),$(2),Oe(t.apellido),$(2),Oe(t.mail),$(2),Oe(wn(11,6,t.fechaNacimiento,"dd/MM/yyyy")),$(3),Oe(t.tipoUsuario===1?"Administrador":"Cliente")}}var cv=class n{constructor(e,t){this.router=e;this.usuarioService=t}usuarios=[];editarUsuario(e){this.usuarioService.usuarioParaEditar=z({},e),this.router.navigate(["/editar-usuario"])}static \u0275fac=function(t){return new(t||n)(q(ct),q(On))};static \u0275cmp=ke({type:n,selectors:[["app-administrar-usuarios"]],decls:20,vars:1,consts:[[1,"table-container"],[1,"table","table-borderless","custom-table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),N(5,"#"),T(),A(6,"th",2),N(7,"Nombre"),T(),A(8,"th",2),N(9,"Apellido"),T(),A(10,"th",2),N(11,"Email"),T(),A(12,"th",2),N(13,"Fecha de nacimiento"),T(),A(14,"th",2),N(15,"Tipo de usuario"),T(),A(16,"th",2),N(17,"Acciones"),T()()(),A(18,"tbody"),se(19,PX,17,9,"tr",3),T()()()),t&2&&($(19),Q("ngForOf",r.usuarios))},dependencies:[Je,ar,Fw],styles:[".custom-table[_ngcontent-%COMP%]{background-color:#fff0f5;color:#880e4f;border:1px solid #f48fb1;border-radius:8px}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8bbd0;color:#880e4f;font-weight:700;text-align:center}.custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fce4ec;color:#880e4f;text-align:center}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border:1px solid #f48fb1}.table-container[_ngcontent-%COMP%]{padding:20px;background-color:#fce4ec;border-radius:12px;box-shadow:0 0 10px #f0629233}"]})};var lv=class n{constructor(e,t){this.usuarioService=e;this.router=t}usuario={nombre:"",apellido:"",mail:"",fechaNacimiento:new Date,user:"",password:"",tipoUsuario:0};guardarCambios(){let e=this.usuarioService.listaUsuario.findIndex(t=>t.user===this.usuario.user);e!==-1&&(this.usuarioService.listaUsuario[e]=this.usuario,localStorage.setItem("usuarios",JSON.stringify(this.usuarioService.listaUsuario)),this.router.navigate(["/administrar-usuarios"]))}static \u0275fac=function(t){return new(t||n)(q(On),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-editar-usuario"]],decls:38,vars:5,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-lg-9","col-xl-7"],[1,"card","shadow-2-strong",2,"border-radius","15px"],[1,"card-body","p-4","p-md-5"],[1,"mb-4","pb-2","pb-md-0","mb-md-5","text-center"],[1,"form-group","mb-3"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido"],["type","text","id","apellido","name","apellido","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","mail"],["type","email","id","mail","name","mail","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["type","date","id","fechaNacimiento","name","fechaNacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mb-4"],["for","tipoUsuario"],["id","tipoUsuario","name","tipoUsuario","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","0","disabled",""],["value","1"],["value","2"],[1,"text-center"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){t&1&&(A(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),N(7,"Editar Usuario"),T(),A(8,"form")(9,"div",7)(10,"label",8),N(11,"Nombre"),T(),A(12,"input",9),qn("ngModelChange",function(o){return ir(r.usuario.nombre,o)||(r.usuario.nombre=o),o}),T()(),A(13,"div",7)(14,"label",10),N(15,"Apellido"),T(),A(16,"input",11),qn("ngModelChange",function(o){return ir(r.usuario.apellido,o)||(r.usuario.apellido=o),o}),T()(),A(17,"div",7)(18,"label",12),N(19,"Correo electr\xF3nico"),T(),A(20,"input",13),qn("ngModelChange",function(o){return ir(r.usuario.mail,o)||(r.usuario.mail=o),o}),T()(),A(21,"div",7)(22,"label",14),N(23,"Fecha de nacimiento"),T(),A(24,"input",15),qn("ngModelChange",function(o){return ir(r.usuario.fechaNacimiento,o)||(r.usuario.fechaNacimiento=o),o}),T()(),A(25,"div",16)(26,"label",17),N(27,"Tipo de usuario"),T(),A(28,"select",18),qn("ngModelChange",function(o){return ir(r.usuario.tipoUsuario,o)||(r.usuario.tipoUsuario=o),o}),A(29,"option",19),N(30,"Seleccione un tipo"),T(),A(31,"option",20),N(32,"Administrador"),T(),A(33,"option",21),N(34,"Cliente"),T()()(),A(35,"div",22)(36,"button",23),ne("click",function(){return r.guardarCambios()}),N(37,"Guardar Cambios"),T()()()()()()()()()),t&2&&($(12),zn("ngModel",r.usuario.nombre),$(4),zn("ngModel",r.usuario.apellido),$(4),zn("ngModel",r.usuario.mail),$(4),zn("ngModel",r.usuario.fechaNacimiento),$(4),zn("ngModel",r.usuario.tipoUsuario))},dependencies:[fr,hr,vm,_m,zt,il,ln,dr,OE,Yi,$d,Je],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to right,#fce4ec,#f8bbd0)}.card[_ngcontent-%COMP%]{background-color:#fff0f5;border:2px solid #f48fb1;color:#880e4f}h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#ad1457}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #f48fb1;background-color:#fff0f5;color:#880e4f}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#f06292;box-shadow:0 0 0 .2rem #f0629240}.btn-success[_ngcontent-%COMP%]{background-color:#f06292;border-color:#f06292;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#ec407a;border-color:#ec407a}"]})};var Fl=class n{transform(e,t){return t?(t=t.toLowerCase(),e.filter(r=>r.nombre.toLowerCase().includes(t)||r.categoria.toLowerCase().includes(t))):e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Yu({name:"filtroProducto",type:n,pure:!0})};var bi=class n{constructor(e){this.http=e}apiUrl="https://julieta_denise_rojas-apialed.mdbgo.io";obtenerProductos(e){return this.http.post(this.apiUrl+"/obtener_productos",e)}actualizarProducto(e){return this.http.post(this.apiUrl+"/actualizar_producto",e)}crearProducto(e){return this.http.post(this.apiUrl+"/crear_producto",e)}eliminarProducto(e){return this.http.post(this.apiUrl+"/eliminar_producto",e)}crearFactura(e){return this.http.post(this.apiUrl+"/crear_factura",e)}static \u0275fac=function(t){return new(t||n)(J(ii))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function NX(n,e){if(n&1){let t=It();A(0,"tr")(1,"td"),N(2),T(),A(3,"td"),N(4),T(),A(5,"td"),N(6),bn(7,"currency"),T(),A(8,"td"),ae(9,"img",11),T(),A(10,"td")(11,"button",12),ne("click",function(){let i=st(t).$implicit,o=oe();return at(o.editar(i))}),N(12,"Editar"),T(),A(13,"button",13),ne("click",function(){let i=st(t).$implicit,o=oe();return at(o.eliminar(i))}),N(14,"Eliminar"),T()()()}if(n&2){let t=e.$implicit;$(2),Oe(t.nombre),$(2),Oe(t.categoria),$(2),Oe(wn(7,4,t.precioArs,"ARS")),$(3),Q("src",t.imagen,oa)}}var dv=class n{constructor(e,t){this.productoService=e;this.router=t}productos=[];filtroTexto="";ngOnInit(){this.cargarProductos()}cargarProductos(){this.productoService.obtenerProductos([]).subscribe(e=>{this.productos=e})}editar(e){localStorage.setItem("productoEditar",JSON.stringify(e)),this.router.navigate(["/editar-producto"])}eliminar(e){confirm("\xBFEst\xE1s seguro de eliminar este producto?")&&this.productoService.eliminarProducto(e).subscribe(()=>{this.cargarProductos()})}static \u0275fac=function(t){return new(t||n)(q(bi),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-gestionar-productos"]],decls:25,vars:5,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"bg-danger-subtle","p-4","rounded","shadow","border","border-danger-subtle",2,"width","100%","max-width","900px"],[1,"text-center","text-danger","mb-4","fw-semibold"],[1,"mb-4"],[1,"form-label","text-danger","fw-semibold"],["type","text","placeholder","Nombre o categor\xEDa",1,"form-control","border-danger-subtle",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","table-sm","table-hover","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[1,"text-dark"],[4,"ngFor","ngForOf"],["width","80",1,"rounded","shadow-sm",3,"src"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h3",2),N(3,"\u{1F6E0}\uFE0F Gesti\xF3n de Productos"),T(),A(4,"div",3)(5,"label",4),N(6,"Buscar:"),T(),A(7,"input",5),qn("ngModelChange",function(o){return ir(r.filtroTexto,o)||(r.filtroTexto=o),o}),T()(),A(8,"div",6)(9,"table",7)(10,"thead",8)(11,"tr")(12,"th"),N(13,"Nombre"),T(),A(14,"th"),N(15,"Categor\xEDa"),T(),A(16,"th"),N(17,"Precio"),T(),A(18,"th"),N(19,"Imagen"),T(),A(20,"th"),N(21,"Acciones"),T()()(),A(22,"tbody",9),se(23,NX,15,7,"tr",10),bn(24,"filtroProducto"),T()()()()()),t&2&&($(7),zn("ngModel",r.filtroTexto),$(16),Q("ngForOf",wn(24,2,r.productos,r.filtroTexto)))},dependencies:[li,zt,ln,Je,ar,ca,fr,Yi,Fr,Fl],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#fff0f5}.text-pink[_ngcontent-%COMP%]{color:#c06}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}.table-pink[_ngcontent-%COMP%]{background-color:#ff66a3}"]})};function kX(n,e){if(n&1&&(A(0,"div",15),ae(1,"img",16),T()),n&2){let t,r=oe();$(),Q("src",(t=r.form.get("imagen"))==null?null:t.value,oa)}}function OX(n,e){if(n&1&&(A(0,"div",17),N(1),T()),n&2){let t=oe();$(),ti(" ",t.errorMessage," ")}}var hv=class n{constructor(e,t,r){this.fb=e;this.productoService=t;this.router=r;this.form=this.fb.group({nombre:["",Ke.required],descripcion:[""],precioArs:[0,[Ke.required,Ke.min(0)]],categoria:["",Ke.required],imagen:["",Ke.required]})}productoCreado=new Be;form;errorMessage="";onFileSelected(e){let t=e.target.files[0];if(t){let r=new FileReader;r.onload=()=>{let i=r.result;this.form.get("imagen")?.setValue(i)},r.readAsDataURL(t)}}submit(){if(this.form.valid){let e=this.form.value;this.productoService.crearProducto(e).subscribe({next:()=>this.router.navigate(["/gestionar-productos"]),error:t=>{this.errorMessage="Error al crear el producto. Intente nuevamente.",console.error("Error:",t)}})}else this.errorMessage="Por favor complete todos los campos correctamente."}static \u0275fac=function(t){return new(t||n)(q(qo),q(bi),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-crear-producto"]],outputs:{productoCreado:"productoCreado"},decls:30,vars:3,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"bg-danger-subtle","p-4","rounded","shadow","border","border-danger-subtle",2,"width","100%","max-width","500px"],[1,"text-center","text-danger","mb-4","fw-semibold"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label","text-danger","fw-semibold"],["formControlName","nombre",1,"form-control","border-danger-subtle"],["formControlName","descripcion",1,"form-control","border-danger-subtle"],["type","number","formControlName","precioArs",1,"form-control","border-danger-subtle"],["formControlName","categoria",1,"form-control","border-danger-subtle"],["type","file","accept","image/*",1,"form-control","border-danger-subtle",3,"change"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-outline-danger","fw-bold","px-4"],["class","text-danger text-center mt-3",4,"ngIf"],[1,"text-center","mt-2"],["width","120",1,"img-thumbnail",3,"src"],[1,"text-danger","text-center","mt-3"]],template:function(t,r){if(t&1&&(A(0,"div",0)(1,"div",1)(2,"h3",2),N(3,"\u{1F6D2} Crear Producto"),T(),A(4,"form",3),ne("ngSubmit",function(){return r.submit()}),A(5,"div",4)(6,"label",5),N(7,"Nombre:"),T(),ae(8,"input",6),T(),A(9,"div",4)(10,"label",5),N(11,"Descripci\xF3n:"),T(),ae(12,"input",7),T(),A(13,"div",4)(14,"label",5),N(15,"Precio ARS:"),T(),ae(16,"input",8),T(),A(17,"div",4)(18,"label",5),N(19,"Categor\xEDa:"),T(),ae(20,"input",9),T(),A(21,"div",4)(22,"label",5),N(23,"Imagen:"),T(),A(24,"input",10),ne("change",function(o){return r.onFileSelected(o)}),T(),se(25,kX,2,1,"div",11),T(),A(26,"div",12)(27,"button",13),N(28," Crear "),T()(),se(29,OX,2,1,"div",14),T()()()),t&2){let i;$(4),Q("formGroup",r.form),$(21),Q("ngIf",(i=r.form.get("imagen"))==null?null:i.value),$(4),Q("ngIf",r.errorMessage)}},dependencies:[li,hr,zt,Hd,ln,dr,Qi,Xi,Je,Vt],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#ffe6f0}.text-pink[_ngcontent-%COMP%]{color:#c06}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}"]})};function FX(n,e){n&1&&(A(0,"div",16),N(1," El nombre es obligatorio. "),T())}function LX(n,e){n&1&&(A(0,"div"),N(1,"El precio es obligatorio."),T())}function VX(n,e){n&1&&(A(0,"div"),N(1,"El precio debe ser mayor o igual a 0."),T())}function jX(n,e){if(n&1&&(A(0,"div",16),se(1,LX,2,0,"div",17)(2,VX,2,0,"div",17),T()),n&2){let t,r,i=oe();$(),Q("ngIf",(t=i.form.get("precioArs"))==null?null:t.hasError("required")),$(),Q("ngIf",(r=i.form.get("precioArs"))==null?null:r.hasError("min"))}}function UX(n,e){if(n&1&&(A(0,"div",18),ae(1,"img",19),T()),n&2){let t,r=oe();$(),Q("src",(t=r.form.get("imagen"))==null?null:t.value,oa)}}var fv=class n{constructor(e,t,r,i){this.fb=e;this.productoService=t;this.route=r;this.router=i}form;productoId;ngOnInit(){let e=localStorage.getItem("productoEditar");if(e){let t=JSON.parse(e);this.form=this.fb.group({id:[t.id],nombre:[t.nombre,Ke.required],descripcion:[t.descripcion],precioArs:[t.precioArs,[Ke.required,Ke.min(0)]],categoria:[t.categoria,Ke.required],imagen:[t.imagen,Ke.required]})}else alert("No hay producto cargado para editar"),this.router.navigate(["/gestionar-productos"])}onFileSelected(e){let t=e.target.files[0];if(t){let r=new FileReader;r.onload=()=>{let i=r.result;this.form.get("imagen")?.setValue(i)},r.readAsDataURL(t)}}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let e=this.form.value;this.productoService.actualizarProducto(e).subscribe({next:()=>this.router.navigate(["/gestionar-productos"]),error:t=>console.error("Error al actualizar producto:",t)})}static \u0275fac=function(t){return new(t||n)(q(qo),q(bi),q(ur),q(ct))};static \u0275cmp=ke({type:n,selectors:[["app-editar-producto"]],decls:31,vars:5,consts:[[1,"container","mt-4","p-4","rounded","border","shadow","bg-light-pink"],[1,"text-center","text-pink","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label","text-pink"],["formControlName","nombre",1,"form-control","border-pink"],["class","text-danger mt-1",4,"ngIf"],["formControlName","categoria",1,"form-control","border-pink"],["type","number","formControlName","precioArs",1,"form-control","border-pink"],[1,"col-md-6"],["formControlName","descripcion",1,"form-control","border-pink"],["type","file","accept","image/*",1,"form-control","border-pink",3,"change"],["class","mt-2 text-center",4,"ngIf"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-pink","px-4",3,"disabled"],[1,"text-danger","mt-1"],[4,"ngIf"],[1,"mt-2","text-center"],["alt","Vista previa","width","120",1,"img-thumbnail",3,"src"]],template:function(t,r){if(t&1&&(A(0,"div",0)(1,"h3",1),N(2,"Editar Producto"),T(),A(3,"form",2),ne("ngSubmit",function(){return r.submit()}),A(4,"div",3)(5,"div",4)(6,"label",5),N(7,"Nombre:"),T(),ae(8,"input",6),se(9,FX,2,0,"div",7),T(),A(10,"div",4)(11,"label",5),N(12,"Categor\xEDa:"),T(),ae(13,"input",8),T(),A(14,"div",4)(15,"label",5),N(16,"Precio ARS:"),T(),ae(17,"input",9),se(18,jX,3,2,"div",7),T(),A(19,"div",10)(20,"label",5),N(21,"Descripci\xF3n:"),T(),ae(22,"input",11),T(),A(23,"div",10)(24,"label",5),N(25,"Imagen:"),T(),A(26,"input",12),ne("change",function(o){return r.onFileSelected(o)}),T(),se(27,UX,2,1,"div",13),T()(),A(28,"div",14)(29,"button",15),N(30," Actualizar "),T()()()()),t&2){let i,o,s;$(3),Q("formGroup",r.form),$(6),Q("ngIf",((i=r.form.get("nombre"))==null?null:i.touched)&&((i=r.form.get("nombre"))==null?null:i.hasError("required"))),$(9),Q("ngIf",(o=r.form.get("precioArs"))==null?null:o.touched),$(9),Q("ngIf",(s=r.form.get("imagen"))==null?null:s.value),$(2),Q("disabled",r.form.invalid)}},dependencies:[li,hr,zt,Hd,ln,dr,Qi,Xi,Je,Vt,Fr],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#fff0f5}.text-pink[_ngcontent-%COMP%]{color:#c06}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}"]})};var pv=class n{constructor(e){this.http=e}fechaCotizacionUsada="";apiUrl="https://api.bcra.gob.ar/estadisticascambiarias/v1.0/Cotizaciones/USD";tipoCambio$=vb(0,6e5).pipe(sn(()=>this.obtenerUltimoTipoCambio()),wb(1));obtenerUltimoTipoCambio(){return this.http.get(this.apiUrl).pipe(le(e=>{let t=e?.results?.[0],r=t?.detalle?.[0]?.tipoCotizacion;return r?(this.fechaCotizacionUsada=t.fecha,r):(console.warn("No se encontr\xF3 cotizaci\xF3n v\xE1lida"),1)}),Dr(e=>(console.error("Error al obtener tipo de cambio del BCRA",e),te(1))))}obtenerTipoCambio(){return this.tipoCambio$}static \u0275fac=function(t){return new(t||n)(J(ii))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function $X(n,e){if(n&1&&(A(0,"div",11),N(1),A(2,"strong",9),N(3),bn(4,"currency"),T()()),n&2){let t=oe();$(),ti(" \u{1F4A1} Tipo de cambio aplicado del ",t.tipoCambioFecha,": "),$(2),Oe(wn(4,2,t.tipoCambio,"ARS"))}}function HX(n,e){if(n&1&&(A(0,"tr")(1,"td"),N(2),T(),A(3,"td"),N(4),T(),A(5,"td"),N(6),bn(7,"currency"),T(),A(8,"td"),N(9),bn(10,"currency"),T(),A(11,"td"),N(12),bn(13,"currency"),T()()),n&2){let t=e.$implicit,r=oe();$(2),Oe(t.nombre),$(2),Oe(t.cantidad),$(2),Oe(wn(7,5,t.precioArs,"ARS")),$(3),Oe(wn(10,8,t.cantidad*t.precioArs,"ARS")),$(3),Oe(wn(13,11,t.cantidad*t.precioArs/r.tipoCambio,"USD"))}}var Ll=class n{constructor(e){this.tipoCambioService=e}productos=[];compraConfirmada=new Be;tipoCambio=1;tipoCambioFecha="";totalArs=0;totalUsd=0;ngOnInit(){this.tipoCambioService.obtenerTipoCambio().subscribe(e=>{this.tipoCambio=e,this.tipoCambioFecha=this.tipoCambioService.fechaCotizacionUsada,this.calcularTotales()})}ngOnChanges(e){e.productos&&this.tipoCambio&&this.calcularTotales()}calcularTotales(){this.totalArs=this.productos.reduce((e,t)=>e+t.precioArs*t.cantidad,0),this.totalUsd=this.totalArs/this.tipoCambio}confirmar(){this.compraConfirmada.emit({tipoCambio:this.tipoCambio,productos:this.productos,totalArs:this.totalArs,totalUsd:this.totalUsd})}static \u0275fac=function(t){return new(t||n)(q(pv))};static \u0275cmp=ke({type:n,selectors:[["app-factura"]],inputs:{productos:"productos"},outputs:{compraConfirmada:"compraConfirmada"},features:[xn],decls:33,vars:10,consts:[[1,"container","p-4","rounded","shadow-sm","bg-light","border","border-danger-subtle",2,"max-width","800px"],[1,"text-center","text-danger","mb-4","fw-semibold"],["class","alert alert-danger-subtle text-center small mb-4 border border-danger",4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm","table-bordered","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[1,"text-dark"],[4,"ngFor","ngForOf"],[1,"text-end","mt-3"],[1,"text-danger"],[1,"btn","btn-outline-danger","mt-3","fw-bold","px-4",3,"click"],[1,"alert","alert-danger-subtle","text-center","small","mb-4","border","border-danger"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"h4",1),N(2," Factura"),T(),se(3,$X,5,5,"div",2),A(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr")(8,"th"),N(9,"Producto"),T(),A(10,"th"),N(11,"Cant."),T(),A(12,"th"),N(13,"Precio (ARS)"),T(),A(14,"th"),N(15,"Total (ARS)"),T(),A(16,"th"),N(17,"Total (USD)"),T()()(),A(18,"tbody",6),se(19,HX,14,14,"tr",7),T()()(),A(20,"div",8)(21,"h6",9),N(22,"Total ARS: "),A(23,"strong"),N(24),bn(25,"currency"),T()(),A(26,"h6",9),N(27,"Total USD: "),A(28,"strong"),N(29),bn(30,"currency"),T()(),A(31,"button",10),ne("click",function(){return r.confirmar()}),N(32," Confirmar Compra "),T()()()),t&2&&($(3),Q("ngIf",r.tipoCambioFecha),$(16),Q("ngForOf",r.productos),$(5),Oe(wn(25,4,r.totalArs,"ARS")),$(5),Oe(wn(30,7,r.totalUsd,"USD")))},dependencies:[Je,ar,Vt,ca],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-rose-deep[_ngcontent-%COMP%]{background-color:#c94e84;color:#fff}.alert-rose-deep[_ngcontent-%COMP%]{background-color:#b43e74;color:#fff;border:1px solid #ffffff33}.table-rose[_ngcontent-%COMP%]{background-color:#d63384}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};function zX(n,e){if(n&1){let t=It();A(0,"tr")(1,"td"),N(2),T(),A(3,"td"),N(4),bn(5,"currency"),T(),A(6,"td"),ae(7,"input",13,0),T(),A(9,"td")(10,"button",14),ne("click",function(){let i=st(t).$implicit,o=rg(8),s=oe();return at(s.agregarProducto(i,o))}),N(11," \u2795 Agregar "),T()()()}if(n&2){let t=e.$implicit;$(2),Oe(t.nombre),$(2),Oe(wn(5,2,t.precioArs,"ARS"))}}function qX(n,e){if(n&1){let t=It();A(0,"li",19),N(1),A(2,"button",20),ne("click",function(){let i=st(t).index,o=oe(2);return at(o.eliminarSeleccionado(i))}),N(3," Quitar "),T()()}if(n&2){let t=e.$implicit;$(),Cw(" ",t.producto.nombre," - Cantidad: ",t.cantidad," ")}}function WX(n,e){if(n&1&&(A(0,"div",15)(1,"h5",16),N(2,"\u{1F6D2} Productos seleccionados"),T(),A(3,"ul",17),se(4,qX,4,2,"li",18),T()()),n&2){let t=oe();$(4),Q("ngForOf",t.productosSeleccionados)}}function GX(n,e){if(n&1){let t=It();A(0,"app-factura",21),ne("compraConfirmada",function(i){st(t);let o=oe();return at(o.onCompraConfirmada(i))}),T()}if(n&2){let t=oe();Q("productos",t.productosParaFactura)}}var gv=class n{constructor(e,t){this.productoService=e;this.usuarioService=t}productos=[];productosSeleccionados=[];filtroTexto="";ngOnInit(){this.productoService.obtenerProductos([]).subscribe(e=>{this.productos=e})}agregarProducto(e,t){let r=Number(t.value);if(r>0){let i=this.productosSeleccionados.find(o=>o.producto.id===e.id);i?i.cantidad+=r:this.productosSeleccionados.push({producto:e,cantidad:r}),t.value=""}}eliminarSeleccionado(e){this.productosSeleccionados.splice(e,1)}onCompraConfirmada(e){if(!e){console.error("No se recibio evento de factura");return}let t=this.usuarioService.getUsuarioLogueado();if(!t){alert("Debes iniciar sesi\xF3n para confirmar la compra.");return}let r=t.id,i=new Date().toISOString().slice(0,19).replace("T"," "),o=this.productosSeleccionados.map(c=>{let l=Number(c.producto.precioArs),u=Number(c.cantidad),h=l*u,f=Number((h/e.tipoCambio).toFixed(2)),p={id_usuario:r,id_producto:c.producto.id,cantidad:u,precio_unitario:l,total_ars:h,total_usd:f,cotizacion_usd:e.tipoCambio,fecha_cotizacion:i};return console.log("POST /crear_factura payload:",p),this.productoService.crearFactura(p)}),s=0,a=!1;o.forEach(c=>{c.subscribe({next:()=>{s++},error:l=>{a=!0,console.error("Error al enviar item de factura",l)},complete:()=>{s===o.length&&(alert(a?"La compra se registr\xF3 con errores en algunos items. Revisar consola.":"\xA1Compra confirmada!"),this.productosSeleccionados=[])}})})}get productosParaFactura(){return this.productosSeleccionados.map(e=>({nombre:e.producto.nombre,cantidad:e.cantidad,precioArs:e.producto.precioArs}))}static \u0275fac=function(t){return new(t||n)(q(bi),q(On))};static \u0275cmp=ke({type:n,selectors:[["app-seleccionar-productos"]],decls:22,vars:7,consts:[["cantidadInput",""],[1,"container","mt-4","p-4","rounded","shadow-sm","bg-light","border","border-danger-subtle"],[1,"text-center","text-danger","mb-4","fw-semibold"],[1,"mb-3"],["type","text","placeholder","\u{1F50D} Buscar producto...",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-responsive","mb-4"],[1,"table","table-bordered","table-hover","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[2,"width","120px"],[1,"text-dark"],[4,"ngFor","ngForOf"],["class","mb-4",4,"ngIf"],[3,"productos","compraConfirmada",4,"ngIf"],["type","number","min","1","placeholder","0",1,"form-control","form-control-sm","text-center"],[1,"btn","btn-outline-danger","btn-sm","fw-semibold",3,"click"],[1,"mb-4"],[1,"text-danger","fw-semibold"],[1,"list-group","shadow-sm"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"compraConfirmada","productos"]],template:function(t,r){t&1&&(A(0,"div",1)(1,"h3",2),N(2,"Seleccionar Productos"),T(),A(3,"div",3)(4,"input",4),qn("ngModelChange",function(o){return ir(r.filtroTexto,o)||(r.filtroTexto=o),o}),T()(),A(5,"div",5)(6,"table",6)(7,"thead",7)(8,"tr")(9,"th"),N(10,"Nombre"),T(),A(11,"th"),N(12,"Precio (ARS)"),T(),A(13,"th",8),N(14,"Cantidad"),T(),A(15,"th"),N(16,"Agregar"),T()()(),A(17,"tbody",9),se(18,zX,12,5,"tr",10),bn(19,"filtroProducto"),T()()(),se(20,WX,5,1,"div",11)(21,GX,1,1,"app-factura",12),T()),t&2&&($(4),zn("ngModel",r.filtroTexto),$(14),Q("ngForOf",wn(19,4,r.productos,r.filtroTexto)),$(2),Q("ngIf",r.productosSeleccionados.length>0),$(),Q("ngIf",r.productosSeleccionados.length>0))},dependencies:[Je,ar,Vt,ca,Ll,Fl,fr,zt,ln,Yi],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.border-rose[_ngcontent-%COMP%]{border-color:#d63384!important}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}.btn-outline-rose[_ngcontent-%COMP%]{border-color:#d63384;color:#d63384}.btn-outline-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};function kh(n){return n+.5|0}var ps=(n,e,t)=>Math.max(Math.min(n,t),e);function Ph(n){return ps(kh(n*2.55),0,255)}function gs(n){return ps(kh(n*255),0,255)}function go(n){return ps(kh(n/2.55)/100,0,1)}function TV(n){return ps(kh(n*100),0,100)}var yr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vT=[..."0123456789ABCDEF"],KX=n=>vT[n&15],YX=n=>vT[(n&240)>>4]+vT[n&15],mv=n=>(n&240)>>4===(n&15),QX=n=>mv(n.r)&&mv(n.g)&&mv(n.b)&&mv(n.a);function XX(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&yr[n[1]]*17,g:255&yr[n[2]]*17,b:255&yr[n[3]]*17,a:e===5?yr[n[4]]*17:255}:(e===7||e===9)&&(t={r:yr[n[1]]<<4|yr[n[2]],g:yr[n[3]]<<4|yr[n[4]],b:yr[n[5]]<<4|yr[n[6]],a:e===9?yr[n[7]]<<4|yr[n[8]]:255})),t}var ZX=(n,e)=>n<255?e(n):"";function JX(n){var e=QX(n)?KX:YX;return n?"#"+e(n.r)+e(n.g)+e(n.b)+ZX(n.a,e):void 0}var eZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MV(n,e,t){let r=e*Math.min(t,1-t),i=(o,s=(o+n/30)%12)=>t-r*Math.max(Math.min(s-3,9-s,1),-1);return[i(0),i(8),i(4)]}function tZ(n,e,t){let r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function nZ(n,e,t){let r=MV(n,1,.5),i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function rZ(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function _T(n){let t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),s=Math.min(t,r,i),a=(o+s)/2,c,l,u;return o!==s&&(u=o-s,l=a>.5?u/(2-o-s):u/(o+s),c=rZ(t,r,i,u,o),c=c*60+.5),[c|0,l||0,a]}function bT(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(gs)}function wT(n,e,t){return bT(MV,n,e,t)}function iZ(n,e,t){return bT(nZ,n,e,t)}function oZ(n,e,t){return bT(tZ,n,e,t)}function RV(n){return(n%360+360)%360}function sZ(n){let e=eZ.exec(n),t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Ph(+e[5]):gs(+e[5]));let i=RV(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?r=iZ(i,o,s):e[1]==="hsv"?r=oZ(i,o,s):r=wT(i,o,s),{r:r[0],g:r[1],b:r[2],a:t}}function aZ(n,e){var t=_T(n);t[0]=RV(t[0]+e),t=wT(t),n.r=t[0],n.g=t[1],n.b=t[2]}function cZ(n){if(!n)return;let e=_T(n),t=e[0],r=TV(e[1]),i=TV(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${go(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}var SV={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xV={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lZ(){let n={},e=Object.keys(xV),t=Object.keys(SV),r,i,o,s,a;for(r=0;r<e.length;r++){for(s=a=e[r],i=0;i<t.length;i++)o=t[i],a=a.replace(o,SV[o]);o=parseInt(xV[s],16),n[a]=[o>>16&255,o>>8&255,o&255]}return n}var yv;function uZ(n){yv||(yv=lZ(),yv.transparent=[0,0,0,0]);let e=yv[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var dZ=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hZ(n){let e=dZ.exec(n),t=255,r,i,o;if(e){if(e[7]!==r){let s=+e[7];t=e[8]?Ph(s):ps(s*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?Ph(r):ps(r,0,255)),i=255&(e[4]?Ph(i):ps(i,0,255)),o=255&(e[6]?Ph(o):ps(o,0,255)),{r,g:i,b:o,a:t}}}function fZ(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${go(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}var yT=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function pZ(n,e,t){let r=Vl(go(n.r)),i=Vl(go(n.g)),o=Vl(go(n.b));return{r:gs(yT(r+t*(Vl(go(e.r))-r))),g:gs(yT(i+t*(Vl(go(e.g))-i))),b:gs(yT(o+t*(Vl(go(e.b))-o))),a:n.a+t*(e.a-n.a)}}function vv(n,e,t){if(n){let r=_T(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=wT(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function PV(n,e){return n&&Object.assign(e||{},n)}function AV(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=gs(n[3]))):(e=PV(n,{r:0,g:0,b:0,a:1}),e.a=gs(e.a)),e}function gZ(n){return n.charAt(0)==="r"?hZ(n):sZ(n)}var Nh=class n{constructor(e){if(e instanceof n)return e;let t=typeof e,r;t==="object"?r=AV(e):t==="string"&&(r=XX(e)||uZ(e)||gZ(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=PV(this._rgb);return e&&(e.a=go(e.a)),e}set rgb(e){this._rgb=AV(e)}rgbString(){return this._valid?fZ(this._rgb):void 0}hexString(){return this._valid?JX(this._rgb):void 0}hslString(){return this._valid?cZ(this._rgb):void 0}mix(e,t){if(e){let r=this.rgb,i=e.rgb,o,s=t===o?.5:t,a=2*s-1,c=r.a-i.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;o=1-l,r.r=255&l*r.r+o*i.r+.5,r.g=255&l*r.g+o*i.g+.5,r.b=255&l*r.b+o*i.b+.5,r.a=s*r.a+(1-s)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=pZ(this._rgb,e._rgb,t)),this}clone(){return new n(this.rgb)}alpha(e){return this._rgb.a=gs(e),this}clearer(e){let t=this._rgb;return t.a*=1-e,this}greyscale(){let e=this._rgb,t=kh(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){let t=this._rgb;return t.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vv(this._rgb,2,e),this}darken(e){return vv(this._rgb,2,-e),this}saturate(e){return vv(this._rgb,1,e),this}desaturate(e){return vv(this._rgb,1,-e),this}rotate(e){return aZ(this._rgb,e),this}};function Ii(){}var HV=(()=>{let n=0;return()=>n++})();function Ie(n){return n==null}function et(n){if(Array.isArray&&Array.isArray(n))return!0;let e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function De(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Fn(n,e){return pt(n)?n:e}function ue(n,e){return typeof n>"u"?e:n}var zV=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,DT=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ye(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function je(n,e,t,r){let i,o,s;if(et(n))if(o=n.length,r)for(i=o-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<o;i++)e.call(t,n[i],i);else if(De(n))for(s=Object.keys(n),o=s.length,i=0;i<o;i++)e.call(t,n[s[i]],s[i])}function Lh(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Iv(n){if(et(n))return n.map(Iv);if(De(n)){let e=Object.create(null),t=Object.keys(n),r=t.length,i=0;for(;i<r;++i)e[t[i]]=Iv(n[t[i]]);return e}return n}function qV(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function mZ(n,e,t,r){if(!qV(n))return;let i=e[n],o=t[n];De(i)&&De(o)?Ul(i,o,r):e[n]=Iv(o)}function Ul(n,e,t){let r=et(e)?e:[e],i=r.length;if(!De(n))return n;t=t||{};let o=t.merger||mZ,s;for(let a=0;a<i;++a){if(s=r[a],!De(s))continue;let c=Object.keys(s);for(let l=0,u=c.length;l<u;++l)o(c[l],n,s,t)}return n}function $l(n,e){return Ul(n,e,{merger:yZ})}function yZ(n,e,t){if(!qV(n))return;let r=e[n],i=t[n];De(r)&&De(i)?$l(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Iv(i))}var NV={"":n=>n,x:n=>n.x,y:n=>n.y};function vZ(n){let e=n.split("."),t=[],r="";for(let i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function _Z(n){let e=vZ(n);return t=>{for(let r of e){if(r==="")break;t=t&&t[r]}return t}}function vo(n,e){return(NV[e]||(NV[e]=_Z(e)))(n)}function Sv(n){return n.charAt(0).toUpperCase()+n.slice(1)}var Hl=n=>typeof n<"u",mo=n=>typeof n=="function",TT=(n,e)=>{if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0};function WV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}var Re=Math.PI,tt=2*Re,bZ=tt+Re,Cv=Number.POSITIVE_INFINITY,wZ=Re/180,wt=Re/2,Ha=Re/4,kV=Re*2/3,yo=Math.log10,zr=Math.sign;function zl(n,e,t){return Math.abs(n-e)<t}function ST(n){let e=Math.round(n);n=zl(n,e,n/1e3)?e:n;let t=Math.pow(10,Math.floor(yo(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function GV(n){let e=[],t=Math.sqrt(n),r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function EZ(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wa(n){return!EZ(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function KV(n,e){let t=Math.round(n);return t-e<=n&&t+e>=n}function xT(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function vr(n){return n*(Re/180)}function xv(n){return n*(180/Re)}function AT(n){if(!pt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function MT(n,e){let t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r),o=Math.atan2(r,t);return o<-.5*Re&&(o+=tt),{angle:o,distance:i}}function Dv(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function IZ(n,e){return(n-e+bZ)%tt-Re}function Zt(n){return(n%tt+tt)%tt}function ql(n,e,t,r){let i=Zt(n),o=Zt(e),s=Zt(t),a=Zt(o-i),c=Zt(s-i),l=Zt(i-o),u=Zt(i-s);return i===o||i===s||r&&o===s||a>c&&l<u}function $t(n,e,t){return Math.max(e,Math.min(t,n))}function YV(n){return $t(n,-32768,32767)}function Ci(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Av(n,e,t){t=t||(s=>n[s]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}var wi=(n,e,t,r)=>Av(n,t,r?i=>{let o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),QV=(n,e,t)=>Av(n,t,r=>n[r][e]>=t);function XV(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}var ZV=["push","pop","shift","splice","unshift"];function JV(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ZV.forEach(t=>{let r="_onData"+Sv(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){let s=i.apply(this,o);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),s}})})}function RT(n,e){let t=n._chartjs;if(!t)return;let r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(ZV.forEach(o=>{delete n[o]}),delete n._chartjs)}function PT(n){let e=new Set(n);return e.size===n.length?n:Array.from(e)}var NT=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function kT(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,NT.call(window,()=>{r=!1,n.apply(e,t)}))}}function e2(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}var Mv=n=>n==="start"?"left":n==="end"?"right":"center",Jt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,t2=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function OT(n,e,t){let r=e.length,i=0,o=r;if(n._sorted){let{iScale:s,vScale:a,_parsed:c}=n,l=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,u=s.axis,{min:h,max:f,minDefined:p,maxDefined:y}=s.getUserBounds();if(p){if(i=Math.min(wi(c,u,h).lo,t?r:wi(e,u,s.getPixelForValue(h)).lo),l){let v=c.slice(0,i+1).reverse().findIndex(_=>!Ie(_[a.axis]));i-=Math.max(0,v)}i=$t(i,0,r-1)}if(y){let v=Math.max(wi(c,s.axis,f,!0).hi+1,t?0:wi(e,u,s.getPixelForValue(f),!0).hi+1);if(l){let _=c.slice(v-1).findIndex(S=>!Ie(S[a.axis]));v+=Math.max(0,_)}o=$t(v,i,r)-i}else o=r-i}return{start:i,count:o}}function FT(n){let{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;let o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),o}var _v=n=>n===0||n===1,OV=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*tt/t)),FV=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*tt/t)+1,jl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*wt)+1,easeOutSine:n=>Math.sin(n*wt),easeInOutSine:n=>-.5*(Math.cos(Re*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>_v(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>_v(n)?n:OV(n,.075,.3),easeOutElastic:n=>_v(n)?n:FV(n,.075,.3),easeInOutElastic(n){return _v(n)?n:n<.5?.5*OV(n*2,.1125,.45):.5+.5*FV(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-jl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?jl.easeInBounce(n*2)*.5:jl.easeOutBounce(n*2-1)*.5+.5};function LT(n){if(n&&typeof n=="object"){let e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function VT(n){return LT(n)?n:new Nh(n)}function ET(n){return LT(n)?n:new Nh(n).saturate(.5).darken(.1).hexString()}var CZ=["x","y","borderWidth","radius","tension"],DZ=["color","borderColor","backgroundColor"];function TZ(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:DZ},numbers:{type:"number",properties:CZ}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function SZ(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var LV=new Map;function xZ(n,e){e=e||{};let t=n+JSON.stringify(e),r=LV.get(t);return r||(r=new Intl.NumberFormat(n,e),LV.set(t,r)),r}function Wl(n,e,t){return xZ(e,t).format(n)}var n2={values(n){return et(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";let r=this.chart.options.locale,i,o=n;if(t.length>1){let l=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(l<1e-4||l>1e15)&&(i="scientific"),o=AZ(n,t)}let s=yo(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),Wl(n,r,c)},logarithmic(n,e,t){if(n===0)return"0";let r=t[e].significand||n/Math.pow(10,Math.floor(yo(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?n2.numeric.call(this,n,e,t):""}};function AZ(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var Vh={formatters:n2};function MZ(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var ys=Object.create(null),Rv=Object.create(null);function Oh(n,e){if(!e)return n;let t=e.split(".");for(let r=0,i=t.length;r<i;++r){let o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function IT(n,e,t){return typeof e=="string"?Ul(Oh(n,e),t):Ul(Oh(n,""),e)}var CT=class{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>ET(i.backgroundColor),this.hoverBorderColor=(r,i)=>ET(i.borderColor),this.hoverColor=(r,i)=>ET(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return IT(this,e,t)}get(e){return Oh(this,e)}describe(e,t){return IT(Rv,e,t)}override(e,t){return IT(ys,e,t)}route(e,t,r,i){let o=Oh(this,e),s=Oh(this,r),a="_"+t;Object.defineProperties(o,{[a]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){let c=this[a],l=s[i];return De(c)?Object.assign({},l,c):ue(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(t=>t(this))}},Qe=new CT({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TZ,SZ,MZ]);function RZ(n){return!n||Ie(n.size)||Ie(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Fh(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function r2(n,e,t,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let s=0,a=t.length,c,l,u,h,f;for(c=0;c<a;c++)if(h=t[c],h!=null&&!et(h))s=Fh(n,i,o,s,h);else if(et(h))for(l=0,u=h.length;l<u;l++)f=h[l],f!=null&&!et(f)&&(s=Fh(n,i,o,s,f));n.restore();let p=o.length/2;if(p>t.length){for(c=0;c<p;c++)delete i[o[c]];o.splice(0,p)}return s}function vs(n,e,t){let r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function jT(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function Pv(n,e,t,r){UT(n,e,t,r,null)}function UT(n,e,t,r,i){let o,s,a,c,l,u,h,f,p=e.pointStyle,y=e.rotation,v=e.radius,_=(y||0)*wZ;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(_),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(v)||v<=0)){switch(n.beginPath(),p){default:i?n.ellipse(t,r,i/2,v,0,0,tt):n.arc(t,r,v,0,tt),n.closePath();break;case"triangle":u=i?i/2:v,n.moveTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=kV,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),_+=kV,n.lineTo(t+Math.sin(_)*u,r-Math.cos(_)*v),n.closePath();break;case"rectRounded":l=v*.516,c=v-l,s=Math.cos(_+Ha)*c,h=Math.cos(_+Ha)*(i?i/2-l:c),a=Math.sin(_+Ha)*c,f=Math.sin(_+Ha)*(i?i/2-l:c),n.arc(t-h,r-a,l,_-Re,_-wt),n.arc(t+f,r-s,l,_-wt,_),n.arc(t+h,r+a,l,_,_+wt),n.arc(t-f,r+s,l,_+wt,_+Re),n.closePath();break;case"rect":if(!y){c=Math.SQRT1_2*v,u=i?i/2:c,n.rect(t-u,r-c,2*u,2*c);break}_+=Ha;case"rectRot":h=Math.cos(_)*(i?i/2:v),s=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+f,r-s),n.lineTo(t+h,r+a),n.lineTo(t-f,r+s),n.closePath();break;case"crossRot":_+=Ha;case"cross":h=Math.cos(_)*(i?i/2:v),s=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-s),n.lineTo(t-f,r+s);break;case"star":h=Math.cos(_)*(i?i/2:v),s=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-s),n.lineTo(t-f,r+s),_+=Ha,h=Math.cos(_)*(i?i/2:v),s=Math.cos(_)*v,a=Math.sin(_)*v,f=Math.sin(_)*(i?i/2:v),n.moveTo(t-h,r-a),n.lineTo(t+h,r+a),n.moveTo(t+f,r-s),n.lineTo(t-f,r+s);break;case"line":s=i?i/2:Math.cos(_)*v,a=Math.sin(_)*v,n.moveTo(t-s,r-a),n.lineTo(t+s,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(_)*(i?i/2:v),r+Math.sin(_)*v);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ei(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function jh(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Uh(n){n.restore()}function i2(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){let o=(e.x+t.x)/2;n.lineTo(o,e.y),n.lineTo(o,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function o2(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function PZ(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ie(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function NZ(n,e,t,r,i){if(i.strikethrough||i.underline){let o=n.measureText(r),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,c=t-o.actualBoundingBoxAscent,l=t+o.actualBoundingBoxDescent,u=i.strikethrough?(c+l)/2:l;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(s,u),n.lineTo(a,u),n.stroke()}}function kZ(n,e){let t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function _s(n,e,t,r,i,o={}){let s=et(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",c,l;for(n.save(),n.font=i.string,PZ(n,o),c=0;c<s.length;++c)l=s[c],o.backdrop&&kZ(n,o.backdrop),a&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ie(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(l,t,r,o.maxWidth)),n.fillText(l,t,r,o.maxWidth),NZ(n,t,r,l,o),r+=Number(i.lineHeight);n.restore()}function Gl(n,e){let{x:t,y:r,w:i,h:o,radius:s}=e;n.arc(t+s.topLeft,r+s.topLeft,s.topLeft,1.5*Re,Re,!0),n.lineTo(t,r+o-s.bottomLeft),n.arc(t+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Re,wt,!0),n.lineTo(t+i-s.bottomRight,r+o),n.arc(t+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,wt,0,!0),n.lineTo(t+i,r+s.topRight),n.arc(t+i-s.topRight,r+s.topRight,s.topRight,0,-wt,!0),n.lineTo(t+s.topLeft,r)}var OZ=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FZ=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LZ(n,e){let t=(""+n).match(OZ);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}var VZ=n=>+n||0;function Nv(n,e){let t={},r=De(e),i=r?Object.keys(e):e,o=De(n)?r?s=>ue(n[s],n[e[s]]):s=>n[s]:()=>n;for(let s of i)t[s]=VZ(o(s));return t}function BT(n){return Nv(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bs(n){return Nv(n,["topLeft","topRight","bottomLeft","bottomRight"])}function en(n){let e=BT(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ot(n,e){n=n||{},e=e||Qe.font;let t=ue(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=ue(n.style,e.style);r&&!(""+r).match(FZ)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);let i={family:ue(n.family,e.family),lineHeight:LZ(ue(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:ue(n.weight,e.weight),string:""};return i.string=RZ(i),i}function Kl(n,e,t,r){let i=!0,o,s,a;for(o=0,s=n.length;o<s;++o)if(a=n[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),t!==void 0&&et(a)&&(a=a[t%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function s2(n,e,t){let{min:r,max:i}=n,o=DT(e,(i-r)/2),s=(a,c)=>t&&a===0?0:a+c;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function _o(n,e){return Object.assign(Object.create(n),e)}function kv(n,e=[""],t,r,i=()=>n[0]){let o=t||n;typeof r>"u"&&(r=l2("_fallback",n));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>kv([a,...n],e,o,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete a._keys,delete n[0][c],!0},get(a,c){return a2(a,c,()=>WZ(c,e,n,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,c){return jV(a).includes(c)},ownKeys(a){return jV(a)},set(a,c,l){let u=a._storage||(a._storage=i());return a[c]=u[c]=l,delete a._keys,!0}})}function qa(n,e,t,r){let i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:$T(n,r),setContext:o=>qa(n,o,t,r),override:o=>qa(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,s){return delete o[s],delete n[s],!0},get(o,s,a){return a2(o,s,()=>UZ(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(n,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,s)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,s){return Reflect.has(n,s)},ownKeys(){return Reflect.ownKeys(n)},set(o,s,a){return n[s]=a,delete o[s],!0}})}function $T(n,e={scriptable:!0,indexable:!0}){let{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:mo(t)?t:()=>t,isIndexable:mo(r)?r:()=>r}}var jZ=(n,e)=>n?n+Sv(e):e,HT=(n,e)=>De(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function a2(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];let r=t();return n[e]=r,r}function UZ(n,e,t){let{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=n,a=r[e];return mo(a)&&s.isScriptable(e)&&(a=BZ(e,a,n,t)),et(a)&&a.length&&(a=$Z(e,a,n,s.isIndexable)),HT(e,a)&&(a=qa(a,i,o&&o[e],s)),a}function BZ(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let c=e(o,s||r);return a.delete(n),HT(n,c)&&(c=zT(i._scopes,i,n,c)),c}function $Z(n,e,t,r){let{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if(De(e[0])){let c=e,l=i._scopes.filter(u=>u!==c);e=[];for(let u of c){let h=zT(l,i,n,u);e.push(qa(h,o,s&&s[n],a))}}return e}function c2(n,e,t){return mo(n)?n(e,t):n}var HZ=(n,e)=>n===!0?e:typeof n=="string"?vo(e,n):void 0;function zZ(n,e,t,r,i){for(let o of e){let s=HZ(t,o);if(s){n.add(s);let a=c2(s._fallback,t,i);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(s===!1&&typeof r<"u"&&t!==r)return null}return!1}function zT(n,e,t,r){let i=e._rootScopes,o=c2(e._fallback,t,r),s=[...n,...i],a=new Set;a.add(r);let c=VV(a,s,t,o||t,r);return c===null||typeof o<"u"&&o!==t&&(c=VV(a,s,o,c,r),c===null)?!1:kv(Array.from(a),[""],i,o,()=>qZ(e,t,r))}function VV(n,e,t,r,i){for(;t;)t=zZ(n,e,t,r,i);return t}function qZ(n,e,t){let r=n._getTarget();e in r||(r[e]={});let i=r[e];return et(i)&&De(t)?t:i||{}}function WZ(n,e,t,r){let i;for(let o of e)if(i=l2(jZ(o,n),t),typeof i<"u")return HT(n,i)?zT(t,r,n,i):i}function l2(n,e){for(let t of e){if(!t)continue;let r=t[n];if(typeof r<"u")return r}}function jV(n){let e=n._keys;return e||(e=n._keys=GZ(n._scopes)),e}function GZ(n){let e=new Set;for(let t of n)for(let r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function qT(n,e,t,r){let{iScale:i}=n,{key:o="r"}=this._parsing,s=new Array(r),a,c,l,u;for(a=0,c=r;a<c;++a)l=a+t,u=e[l],s[a]={r:i.parse(vo(u,o),l)};return s}var KZ=Number.EPSILON||1e-14,Bl=(n,e)=>e<n.length&&!n[e].skip&&n[e],u2=n=>n==="x"?"y":"x";function YZ(n,e,t,r){let i=n.skip?e:n,o=e,s=t.skip?e:t,a=Dv(o,i),c=Dv(s,o),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let h=r*l,f=r*u;return{previous:{x:o.x-h*(s.x-i.x),y:o.y-h*(s.y-i.y)},next:{x:o.x+f*(s.x-i.x),y:o.y+f*(s.y-i.y)}}}function QZ(n,e,t){let r=n.length,i,o,s,a,c,l=Bl(n,0);for(let u=0;u<r-1;++u)if(c=l,l=Bl(n,u+1),!(!c||!l)){if(zl(e[u],0,KZ)){t[u]=t[u+1]=0;continue}i=t[u]/e[u],o=t[u+1]/e[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),t[u]=i*s*e[u],t[u+1]=o*s*e[u])}}function XZ(n,e,t="x"){let r=u2(t),i=n.length,o,s,a,c=Bl(n,0);for(let l=0;l<i;++l){if(s=a,a=c,c=Bl(n,l+1),!a)continue;let u=a[t],h=a[r];s&&(o=(u-s[t])/3,a[`cp1${t}`]=u-o,a[`cp1${r}`]=h-o*e[l]),c&&(o=(c[t]-u)/3,a[`cp2${t}`]=u+o,a[`cp2${r}`]=h+o*e[l])}}function ZZ(n,e="x"){let t=u2(e),r=n.length,i=Array(r).fill(0),o=Array(r),s,a,c,l=Bl(n,0);for(s=0;s<r;++s)if(a=c,c=l,l=Bl(n,s+1),!!c){if(l){let u=l[e]-c[e];i[s]=u!==0?(l[t]-c[t])/u:0}o[s]=a?l?zr(i[s-1])!==zr(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}QZ(n,i,o),XZ(n,o,e)}function bv(n,e,t){return Math.max(Math.min(n,t),e)}function JZ(n,e){let t,r,i,o,s,a=Ei(n[0],e);for(t=0,r=n.length;t<r;++t)s=o,o=a,a=t<r-1&&Ei(n[t+1],e),o&&(i=n[t],s&&(i.cp1x=bv(i.cp1x,e.left,e.right),i.cp1y=bv(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=bv(i.cp2x,e.left,e.right),i.cp2y=bv(i.cp2y,e.top,e.bottom)))}function d2(n,e,t,r,i){let o,s,a,c;if(e.spanGaps&&(n=n.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")ZZ(n,i);else{let l=r?n[n.length-1]:n[0];for(o=0,s=n.length;o<s;++o)a=n[o],c=YZ(l,a,n[Math.min(o+1,s-(r?0:1))%s],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&JZ(n,t)}function Ov(){return typeof window<"u"&&typeof document<"u"}function Fv(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Tv(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}var Lv=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function eJ(n,e){return Lv(n).getPropertyValue(e)}var tJ=["top","right","bottom","left"];function za(n,e,t){let r={};t=t?"-"+t:"";for(let i=0;i<4;i++){let o=tJ[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var nJ=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function rJ(n,e){let t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r,s=!1,a,c;if(nJ(i,o,n.target))a=i,c=o;else{let l=e.getBoundingClientRect();a=r.clientX-l.left,c=r.clientY-l.top,s=!0}return{x:a,y:c,box:s}}function ws(n,e){if("native"in n)return n;let{canvas:t,currentDevicePixelRatio:r}=e,i=Lv(t),o=i.boxSizing==="border-box",s=za(i,"padding"),a=za(i,"border","width"),{x:c,y:l,box:u}=rJ(n,t),h=s.left+(u&&a.left),f=s.top+(u&&a.top),{width:p,height:y}=e;return o&&(p-=s.width+a.width,y-=s.height+a.height),{x:Math.round((c-h)/p*t.width/r),y:Math.round((l-f)/y*t.height/r)}}function iJ(n,e,t){let r,i;if(e===void 0||t===void 0){let o=n&&Fv(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{let s=o.getBoundingClientRect(),a=Lv(o),c=za(a,"border","width"),l=za(a,"padding");e=s.width-l.width-c.width,t=s.height-l.height-c.height,r=Tv(a.maxWidth,o,"clientWidth"),i=Tv(a.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||Cv,maxHeight:i||Cv}}var wv=n=>Math.round(n*10)/10;function h2(n,e,t,r){let i=Lv(n),o=za(i,"margin"),s=Tv(i.maxWidth,n,"clientWidth")||Cv,a=Tv(i.maxHeight,n,"clientHeight")||Cv,c=iJ(n,e,t),{width:l,height:u}=c;if(i.boxSizing==="content-box"){let f=za(i,"border","width"),p=za(i,"padding");l-=p.width+f.width,u-=p.height+f.height}return l=Math.max(0,l-o.width),u=Math.max(0,r?l/r:u-o.height),l=wv(Math.min(l,s,c.maxWidth)),u=wv(Math.min(u,a,c.maxHeight)),l&&!u&&(u=wv(l/2)),(e!==void 0||t!==void 0)&&r&&c.height&&u>c.height&&(u=c.height,l=wv(Math.floor(u*r))),{width:l,height:u}}function WT(n,e,t){let r=e||1,i=Math.floor(n.height*r),o=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);let s=n.canvas;return s.style&&(t||!s.style.height&&!s.style.width)&&(s.style.height=`${n.height}px`,s.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||s.height!==i||s.width!==o?(n.currentDevicePixelRatio=r,s.height=i,s.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}var f2=function(){let n=!1;try{let e={get passive(){return n=!0,!1}};Ov()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function GT(n,e){let t=eJ(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ms(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function p2(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function g2(n,e,t,r){let i={x:n.cp2x,y:n.cp2y},o={x:e.cp1x,y:e.cp1y},s=ms(n,i,t),a=ms(i,o,t),c=ms(o,e,t),l=ms(s,a,t),u=ms(a,c,t);return ms(l,u,t)}var oJ=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},sJ=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Ga(n,e,t){return n?oJ(e,t):sJ()}function KT(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function YT(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function m2(n){return n==="angle"?{between:ql,compare:IZ,normalize:Zt}:{between:Ci,compare:(e,t)=>e-t,normalize:e=>e}}function UV({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function aJ(n,e,t){let{property:r,start:i,end:o}=t,{between:s,normalize:a}=m2(r),c=e.length,{start:l,end:u,loop:h}=n,f,p;if(h){for(l+=c,u+=c,f=0,p=c;f<p&&s(a(e[l%c][r]),i,o);++f)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:h,style:n.style}}function QT(n,e,t){if(!t)return[n];let{property:r,start:i,end:o}=t,s=e.length,{compare:a,between:c,normalize:l}=m2(r),{start:u,end:h,loop:f,style:p}=aJ(n,e,t),y=[],v=!1,_=null,S,R,O,V=()=>c(i,O,S)&&a(i,O)!==0,L=()=>a(o,S)===0||c(o,O,S),j=()=>v||V(),I=()=>!v||L();for(let w=u,E=u;w<=h;++w)R=e[w%s],!R.skip&&(S=l(R[r]),S!==O&&(v=c(S,i,o),_===null&&j()&&(_=a(S,i)===0?w:E),_!==null&&I()&&(y.push(UV({start:_,end:w,loop:f,count:s,style:p})),_=null),E=w,O=S));return _!==null&&y.push(UV({start:_,end:h,loop:f,count:s,style:p})),y}function XT(n,e){let t=[],r=n.segments;for(let i=0;i<r.length;i++){let o=QT(r[i],n.points,e);o.length&&t.push(...o)}return t}function cJ(n,e,t,r){let i=0,o=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(o+=i);o>i&&n[o%e].skip;)o--;return o%=e,{start:i,end:o}}function lJ(n,e,t,r){let i=n.length,o=[],s=e,a=n[e],c;for(c=e+1;c<=t;++c){let l=n[c%i];l.skip||l.stop?a.skip||(r=!1,o.push({start:e%i,end:(c-1)%i,loop:r}),e=s=l.stop?c:null):(s=c,a.skip&&(e=c)),a=l}return s!==null&&o.push({start:e%i,end:s%i,loop:r}),o}function y2(n,e){let t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];let o=!!n._loop,{start:s,end:a}=cJ(t,i,o,r);if(r===!0)return BV(n,[{start:s,end:a,loop:o}],t,e);let c=a<s?a+i:a,l=!!n._fullLoop&&s===0&&a===i-1;return BV(n,lJ(t,s,c,l),t,e)}function BV(n,e,t,r){return!r||!r.setContext||!t?e:uJ(n,e,t,r)}function uJ(n,e,t,r){let i=n._chart.getContext(),o=$V(n.options),{_datasetIndex:s,options:{spanGaps:a}}=n,c=t.length,l=[],u=o,h=e[0].start,f=h;function p(y,v,_,S){let R=a?-1:1;if(y!==v){for(y+=c;t[y%c].skip;)y-=R;for(;t[v%c].skip;)v+=R;y%c!==v%c&&(l.push({start:y%c,end:v%c,loop:_,style:S}),u=S,h=v%c)}}for(let y of e){h=a?h:y.start;let v=t[h%c],_;for(f=h+1;f<=y.end;f++){let S=t[f%c];_=$V(r.setContext(_o(i,{type:"segment",p0:v,p1:S,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:s}))),dJ(_,u)&&p(h,f-1,y.loop,u),v=S,u=_}h<f-1&&p(h,f-1,y.loop,u)}return l}function $V(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function dJ(n,e){if(!e)return!1;let t=[],r=function(i,o){return LT(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function Ev(n,e,t){return n.options.clip?n[t]:e[t]}function hJ(n,e){let{xScale:t,yScale:r}=n;return t&&r?{left:Ev(t,e,"left"),right:Ev(t,e,"right"),top:Ev(r,e,"top"),bottom:Ev(r,e,"bottom")}:e}function ZT(n,e){let t=e._clip;if(t.disabled)return!1;let r=hJ(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}var uS=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){let o=t.listeners[i],s=t.duration;o.forEach(a=>a({chart:e,initial:t.initial,numSteps:s,currentStep:Math.min(r-t.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=NT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;let o=r.items,s=o.length-1,a=!1,c;for(;s>=0;--s)c=o[s],c._active?(c._total>r.duration&&(r.duration=c._total),c.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){let t=this._charts,r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){let t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;let t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){let t=this._charts.get(e);if(!t||!t.items.length)return;let r=t.items,i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},bo=new uS,v2="transparent",fJ={boolean(n,e,t){return t>.5?e:n},color(n,e,t){let r=VT(n||v2),i=r.valid&&VT(e||v2);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}},dS=class{constructor(e,t,r,i){let o=t[r];i=Kl([e.to,i,o,e.from]);let s=Kl([e.from,o,i]);this._active=!0,this._fn=e.fn||fJ[e.type||typeof s],this._easing=jl[e.easing]||jl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);let i=this._target[this._prop],o=r-this._start,s=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Kl([e.to,t,i,e.from]),this._from=Kl([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let t=e-this._start,r=this._duration,i=this._prop,o=this._from,s=this._loop,a=this._to,c;if(this._active=o!==a&&(s||t<r),!this._active){this._target[i]=a,this._notify(!0);return}if(t<0){this._target[i]=o;return}c=t/r%2,c=s&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[i]=this._fn(o,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){let t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}},Wv=class{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!De(e))return;let t=Object.keys(Qe.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{let o=e[i];if(!De(o))return;let s={};for(let a of t)s[a]=o[a];(et(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,s)})})}_animateOptions(e,t){let r=t.options,i=gJ(e,r);if(!i)return[];let o=this._createAnimations(i,r);return r.$shared&&pJ(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){let r=this._properties,i=[],o=e.$animations||(e.$animations={}),s=Object.keys(t),a=Date.now(),c;for(c=s.length-1;c>=0;--c){let l=s[c];if(l.charAt(0)==="$")continue;if(l==="options"){i.push(...this._animateOptions(e,t));continue}let u=t[l],h=o[l],f=r.get(l);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[l]=u;continue}o[l]=h=new dS(f,e,l,u),i.push(h)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}let r=this._createAnimations(e,t);if(r.length)return bo.add(this._chart,r),!0}};function pJ(n,e){let t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){let o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function gJ(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function _2(n,e){let t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function mJ(n,e,t){if(t===!1)return!1;let r=_2(n,t),i=_2(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function yJ(n){let e,t,r,i;return De(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function vj(n,e){let t=[],r=n._getSortedDatasetMetas(e),i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function b2(n,e,t,r={}){let i=n.keys,o=r.mode==="single",s,a,c,l;if(e===null)return;let u=!1;for(s=0,a=i.length;s<a;++s){if(c=+i[s],c===t){if(u=!0,r.all)continue;break}l=n.values[c],pt(l)&&(o||e===0||zr(e)===zr(l))&&(e+=l)}return!u&&!r.all?0:e}function vJ(n,e){let{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",s=Object.keys(n),a=new Array(s.length),c,l,u;for(c=0,l=s.length;c<l;++c)u=s[c],a[c]={[i]:u,[o]:n[u]};return a}function JT(n,e){let t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function _J(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function bJ(n){let{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function wJ(n,e,t){let r=n[e]||(n[e]={});return r[t]||(r[t]={})}function w2(n,e,t,r){for(let i of e.getMatchingVisibleMetas(r).reverse()){let o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function E2(n,e){let{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:s,index:a}=r,c=o.axis,l=s.axis,u=_J(o,s,r),h=e.length,f;for(let p=0;p<h;++p){let y=e[p],{[c]:v,[l]:_}=y,S=y._stacks||(y._stacks={});f=S[l]=wJ(i,u,v),f[a]=_,f._top=w2(f,s,!0,r.type),f._bottom=w2(f,s,!1,r.type);let R=f._visualValues||(f._visualValues={});R[a]=_}}function eS(n,e){let t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function EJ(n,e){return _o(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function IJ(n,e,t){return _o(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Bh(n,e){let t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(let i of e){let o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}var tS=n=>n==="reset"||n==="none",I2=(n,e)=>e?n:Object.assign({},n),CJ=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:vj(t,!0),values:null},Is=(()=>{class n{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,r){this.chart=t,this._ctx=t.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=JT(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Bh(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,r=this._cachedMeta,i=this.getDataset(),o=(f,p,y,v)=>f==="x"?p:f==="r"?v:y,s=r.xAxisID=ue(i.xAxisID,eS(t,"x")),a=r.yAxisID=ue(i.yAxisID,eS(t,"y")),c=r.rAxisID=ue(i.rAxisID,eS(t,"r")),l=r.indexAxis,u=r.iAxisID=o(l,s,a,c),h=r.vAxisID=o(l,a,s,c);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let r=this._cachedMeta;return t===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&RT(this._data,this),t._stacked&&Bh(t)}_dataCheck(){let t=this.getDataset(),r=t.data||(t.data=[]),i=this._data;if(De(r)){let o=this._cachedMeta;this._data=vJ(r,o)}else if(i!==r){if(i){RT(i,this);let o=this._cachedMeta;Bh(o),o._parsed=[]}r&&Object.isExtensible(r)&&JV(r,this),this._syncList=[],this._data=r}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let r=this._cachedMeta,i=this.getDataset(),o=!1;this._dataCheck();let s=r._stacked;r._stacked=JT(r.vScale,r),r.stack!==i.stack&&(o=!0,Bh(r),r.stack=i.stack),this._resyncElements(t),(o||s!==r._stacked)&&(E2(this,r._parsed),r._stacked=JT(r.vScale,r))}configure(){let t=this.chart.config,r=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),r,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,r){let{_cachedMeta:i,_data:o}=this,{iScale:s,_stacked:a}=i,c=s.axis,l=t===0&&r===o.length?!0:i._sorted,u=t>0&&i._parsed[t-1],h,f,p;if(this._parsing===!1)i._parsed=o,i._sorted=!0,p=o;else{et(o[t])?p=this.parseArrayData(i,o,t,r):De(o[t])?p=this.parseObjectData(i,o,t,r):p=this.parsePrimitiveData(i,o,t,r);let y=()=>f[c]===null||u&&f[c]<u[c];for(h=0;h<r;++h)i._parsed[h+t]=f=p[h],l&&(y()&&(l=!1),u=f);i._sorted=l}a&&E2(this,p)}parsePrimitiveData(t,r,i,o){let{iScale:s,vScale:a}=t,c=s.axis,l=a.axis,u=s.getLabels(),h=s===a,f=new Array(o),p,y,v;for(p=0,y=o;p<y;++p)v=p+i,f[p]={[c]:h||s.parse(u[v],v),[l]:a.parse(r[v],v)};return f}parseArrayData(t,r,i,o){let{xScale:s,yScale:a}=t,c=new Array(o),l,u,h,f;for(l=0,u=o;l<u;++l)h=l+i,f=r[h],c[l]={x:s.parse(f[0],h),y:a.parse(f[1],h)};return c}parseObjectData(t,r,i,o){let{xScale:s,yScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(o),h,f,p,y;for(h=0,f=o;h<f;++h)p=h+i,y=r[p],u[h]={x:s.parse(vo(y,c),p),y:a.parse(vo(y,l),p)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,r,i){let o=this.chart,s=this._cachedMeta,a=r[t.axis],c={keys:vj(o,!0),values:r._stacks[t.axis]._visualValues};return b2(c,a,s.index,{mode:i})}updateRangeFromParsed(t,r,i,o){let s=i[r.axis],a=s===null?NaN:s,c=o&&i._stacks[r.axis];o&&c&&(o.values=c,a=b2(o,s,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,r){let i=this._cachedMeta,o=i._parsed,s=i._sorted&&t===i.iScale,a=o.length,c=this._getOtherScale(t),l=CJ(r,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:f}=bJ(c),p,y;function v(){y=o[p];let _=y[c.axis];return!pt(y[t.axis])||h>_||f<_}for(p=0;p<a&&!(!v()&&(this.updateRangeFromParsed(u,t,y,l),s));++p);if(s){for(p=a-1;p>=0;--p)if(!v()){this.updateRangeFromParsed(u,t,y,l);break}}return u}getAllParsedValues(t){let r=this._cachedMeta._parsed,i=[],o,s,a;for(o=0,s=r.length;o<s;++o)a=r[o][t.axis],pt(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(t){let r=this._cachedMeta,i=r.iScale,o=r.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(t){let r=this._cachedMeta;this.update(t||"default"),r._clip=yJ(ue(this.options.clip,mJ(r.xScale,r.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,r=this.chart,i=this._cachedMeta,o=i.data||[],s=r.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||o.length-c,u=this.options.drawActiveElementsOnTop,h;for(i.dataset&&i.dataset.draw(t,s,c,l),h=c;h<c+l;++h){let f=o[h];f.hidden||(f.active&&u?a.push(f):f.draw(t,s))}for(h=0;h<a.length;++h)a[h].draw(t,s)}getStyle(t,r){let i=r?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,r,i){let o=this.getDataset(),s;if(t>=0&&t<this._cachedMeta.data.length){let a=this._cachedMeta.data[t];s=a.$context||(a.$context=IJ(this.getContext(),t,a)),s.parsed=this.getParsed(t),s.raw=o.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=EJ(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,r){return this._resolveElementOptions(this.dataElementType.id,r,t)}_resolveElementOptions(t,r="default",i){let o=r==="active",s=this._cachedDataOpts,a=t+"-"+r,c=s[a],l=this.enableOptionSharing&&Hl(i);if(c)return I2(c,l);let u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),f=o?[`${t}Hover`,"hover",t,""]:[t,""],p=u.getOptionScopes(this.getDataset(),h),y=Object.keys(Qe.elements[t]),v=()=>this.getContext(i,o,r),_=u.resolveNamedOptions(p,y,v,f);return _.$shared&&(_.$shared=l,s[a]=Object.freeze(I2(_,l))),_}_resolveAnimations(t,r,i){let o=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,c=s[a];if(c)return c;let l;if(o.options.animation!==!1){let h=this.chart.config,f=h.datasetAnimationScopeKeys(this._type,r),p=h.getOptionScopes(this.getDataset(),f);l=h.createResolver(p,this.getContext(t,i,r))}let u=new Wv(o,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,r){return!r||tS(t)||this.chart._animationsDisabled}_getSharedOptions(t,r){let i=this.resolveDataElementOptions(t,r),o=this._sharedOptions,s=this.getSharedOptions(i),a=this.includeOptions(r,s)||s!==o;return this.updateSharedOptions(s,r,i),{sharedOptions:s,includeOptions:a}}updateElement(t,r,i,o){tS(o)?Object.assign(t,i):this._resolveAnimations(r,o).update(t,i)}updateSharedOptions(t,r,i){t&&!tS(r)&&this._resolveAnimations(void 0,r).update(t,i)}_setStyle(t,r,i,o){t.active=o;let s=this.getStyle(r,o);this._resolveAnimations(r,i,o).update(t,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(t,r,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,r,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let r=this._data,i=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let o=i.length,s=r.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,t):s<o&&this._removeElements(s,o-s)}_insertElements(t,r,i=!0){let o=this._cachedMeta,s=o.data,a=t+r,c,l=u=>{for(u.length+=r,c=u.length-1;c>=a;c--)u[c]=u[c-r]};for(l(s),c=t;c<a;++c)s[c]=new this.dataElementType;this._parsing&&l(o._parsed),this.parse(t,r),i&&this.updateElements(s,t,r,"reset")}updateElements(t,r,i,o){}_removeElements(t,r){let i=this._cachedMeta;if(this._parsing){let o=i._parsed.splice(t,r);i._stacked&&Bh(i,o)}i.data.splice(t,r)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[r,i,o]=t;this[r](i,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,r){r&&this._sync(["_removeElements",t,r]);let i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n})();function DJ(n,e){if(!n._cache.$bar){let t=n.getMatchingVisibleMetas(e),r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=PT(r.sort((i,o)=>i-o))}return n._cache.$bar}function TJ(n){let e=n.iScale,t=DJ(e,n.type),r=e._length,i,o,s,a,c=()=>{s===32767||s===-32768||(Hl(a)&&(r=Math.min(r,Math.abs(s-a)||r)),a=s)};for(i=0,o=t.length;i<o;++i)s=e.getPixelForValue(t[i]),c();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)s=e.getPixelForTick(i),c();return r}function SJ(n,e,t,r){let i=t.barThickness,o,s;return Ie(i)?(o=e.min*t.categoryPercentage,s=t.barPercentage):(o=i*r,s=1),{chunk:o/r,ratio:s,start:e.pixels[n]-o/2}}function xJ(n,e,t,r){let i=e.pixels,o=i[n],s=n>0?i[n-1]:null,a=n<i.length-1?i[n+1]:null,c=t.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let l=o-(o-Math.min(s,a))/2*c;return{chunk:Math.abs(a-s)/2*c/r,ratio:t.barPercentage,start:l}}function AJ(n,e,t,r){let i=t.parse(n[0],r),o=t.parse(n[1],r),s=Math.min(i,o),a=Math.max(i,o),c=s,l=a;Math.abs(s)>Math.abs(a)&&(c=a,l=s),e[t.axis]=l,e._custom={barStart:c,barEnd:l,start:i,end:o,min:s,max:a}}function _j(n,e,t,r){return et(n)?AJ(n,e,t,r):e[t.axis]=t.parse(n,r),e}function C2(n,e,t,r){let i=n.iScale,o=n.vScale,s=i.getLabels(),a=i===o,c=[],l,u,h,f;for(l=t,u=t+r;l<u;++l)f=e[l],h={},h[i.axis]=a||i.parse(s[l],l),c.push(_j(f,h,o,l));return c}function nS(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function MJ(n,e,t){return n!==0?zr(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function RJ(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}function PJ(n,e,t,r){let i=e.borderSkipped,o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:c,top:l,bottom:u}=RJ(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=l:(t._bottom||0)===r?i=u:(o[D2(u,s,a,c)]=!0,i=l)),o[D2(i,s,a,c)]=!0,n.borderSkipped=o}function D2(n,e,t,r){return r?(n=NJ(n,e,t),n=T2(n,t,e)):n=T2(n,e,t),n}function NJ(n,e,t){return n===e?t:n===t?e:n}function T2(n,e,t){return n==="start"?e:n==="end"?t:n}function kJ(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}var OJ=(()=>{class n extends Is{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,r,i,o){return C2(t,r,i,o)}parseArrayData(t,r,i,o){return C2(t,r,i,o)}parseObjectData(t,r,i,o){let{iScale:s,vScale:a}=t,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?c:l,h=a.axis==="x"?c:l,f=[],p,y,v,_;for(p=i,y=i+o;p<y;++p)_=r[p],v={},v[s.axis]=s.parse(vo(_,u),p),f.push(_j(vo(_,h),v,a,p));return f}updateRangeFromParsed(t,r,i,o){super.updateRangeFromParsed(t,r,i,o);let s=i._custom;s&&r===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let r=this._cachedMeta,{iScale:i,vScale:o}=r,s=this.getParsed(t),a=s._custom,c=nS(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,t)}updateElements(t,r,i,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),h=this._getRuler(),{sharedOptions:f,includeOptions:p}=this._getSharedOptions(r,o);for(let y=r;y<r+i;y++){let v=this.getParsed(y),_=s||Ie(v[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(y),S=this._calculateBarIndexPixels(y,h),R=(v._stacks||{})[c.axis],O={horizontal:u,base:_.base,enableBorderRadius:!R||nS(v._custom)||a===R._top||a===R._bottom,x:u?_.head:S.center,y:u?S.center:_.head,height:u?S.size:Math.abs(_.size),width:u?Math.abs(_.size):S.size};p&&(O.options=f||this.resolveDataElementOptions(y,t[y].active?"active":o));let V=O.options||t[y].options;PJ(O,V,R,a),kJ(O,V,h.ratio),this.updateElement(t[y],y,O,o)}}_getStacks(t,r){let{iScale:i}=this._cachedMeta,o=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,a=[],c=this._cachedMeta.controller.getParsed(r),l=c&&c[i.axis],u=h=>{let f=h._parsed.find(y=>y[i.axis]===l),p=f&&f[h.vScale.axis];if(Ie(p)||isNaN(p))return!0};for(let h of o)if(!(r!==void 0&&u(h))&&((s===!1||a.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&a.push(h.stack),h.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){let t=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===r).shift()}_getAxis(){let t={},r=this.getFirstScaleIdForIndexAxis();for(let i of this.chart.data.datasets)t[ue(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,r)]=!0;return Object.keys(t)}_getStackIndex(t,r,i){let o=this._getStacks(t,i),s=r!==void 0?o.indexOf(r):-1;return s===-1?o.length-1:s}_getRuler(){let t=this.options,r=this._cachedMeta,i=r.iScale,o=[],s,a;for(s=0,a=r.data.length;s<a;++s)o.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));let c=t.barThickness;return{min:c||TJ(r),pixels:o,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:r,_stacked:i,index:o},options:{base:s,minBarLength:a}}=this,c=s||0,l=this.getParsed(t),u=l._custom,h=nS(u),f=l[r.axis],p=0,y=i?this.applyStack(r,l,i):f,v,_;y!==f&&(p=y-f,y=f),h&&(f=u.barStart,y=u.barEnd-u.barStart,f!==0&&zr(f)!==zr(u.barEnd)&&(p=0),p+=f);let S=!Ie(s)&&!h?s:p,R=r.getPixelForValue(S);if(this.chart.getDataVisibility(t)?v=r.getPixelForValue(p+y):v=R,_=v-R,Math.abs(_)<a){_=MJ(_,r,c)*a,f===c&&(R-=_/2);let O=r.getPixelForDecimal(0),V=r.getPixelForDecimal(1),L=Math.min(O,V),j=Math.max(O,V);R=Math.max(Math.min(R,j),L),v=R+_,i&&!h&&(l._stacks[r.axis]._visualValues[o]=r.getValueForPixel(v)-r.getValueForPixel(R))}if(R===r.getPixelForValue(c)){let O=zr(_)*r.getLineWidthForValue(c)/2;R+=O,_-=O}return{size:_,base:R,head:v,center:v+_/2}}_calculateBarIndexPixels(t,r){let i=r.scale,o=this.options,s=o.skipNull,a=ue(o.maxBarThickness,1/0),c,l,u=this._getAxisCount();if(r.grouped){let h=s?this._getStackCount(t):r.stackCount,f=o.barThickness==="flex"?xJ(t,r,o,h*u):SJ(t,r,o,h*u),p=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(ue(p,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+y;c=f.start+f.chunk*v+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else c=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(a,r.min*r.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let t=this._cachedMeta,r=t.vScale,i=t.data,o=i.length,s=0;for(;s<o;++s)this.getParsed(s)[r.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}return n})(),FJ=(()=>{class n extends Is{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,r,i,o){let s=super.parsePrimitiveData(t,r,i,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+i).radius;return s}parseArrayData(t,r,i,o){let s=super.parseArrayData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=ue(c[2],this.resolveDataElementOptions(a+i).radius)}return s}parseObjectData(t,r,i,o){let s=super.parseObjectData(t,r,i,o);for(let a=0;a<s.length;a++){let c=r[i+a];s[a]._custom=ue(c&&c.r&&+c.r,this.resolveDataElementOptions(a+i).radius)}return s}getMaxOverflow(){let t=this._cachedMeta.data,r=0;for(let i=t.length-1;i>=0;--i)r=Math.max(r,t[i].size(this.resolveDataElementOptions(i))/2);return r>0&&r}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y),u=a._custom;return{label:i[t]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(t){let r=this._cachedMeta.data;this.updateElements(r,0,r.length,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(r,o),h=a.axis,f=c.axis;for(let p=r;p<r+i;p++){let y=t[p],v=!s&&this.getParsed(p),_={},S=_[h]=s?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),R=_[f]=s?c.getBasePixel():c.getPixelForValue(v[f]);_.skip=isNaN(S)||isNaN(R),u&&(_.options=l||this.resolveDataElementOptions(p,y.active?"active":o),s&&(_.options.radius=0)),this.updateElement(y,p,_,o)}}resolveDataElementOptions(t,r){let i=this.getParsed(t),o=super.resolveDataElementOptions(t,r);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return r!=="active"&&(o.radius=0),o.radius+=ue(i&&i._custom,s),o}}return n})();function LJ(n,e,t){let r=1,i=1,o=0,s=0;if(e<tt){let a=n,c=a+e,l=Math.cos(a),u=Math.sin(a),h=Math.cos(c),f=Math.sin(c),p=(O,V,L)=>ql(O,a,c,!0)?1:Math.max(V,V*t,L,L*t),y=(O,V,L)=>ql(O,a,c,!0)?-1:Math.min(V,V*t,L,L*t),v=p(0,l,h),_=p(wt,u,f),S=y(Re,l,h),R=y(Re+wt,u,f);r=(v-S)/2,i=(_-R)/2,o=-(v+S)/2,s=-(_+R)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:s}}var RS=(()=>{class n extends Is{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}}};constructor(t,r){super(t,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,r){let i=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=i;else{let s=l=>+i[l];if(De(i[t])){let{key:l="value"}=this._parsing;s=u=>+vo(i[u],l)}let a,c;for(a=t,c=t+r;a<c;++a)o._parsed[a]=s(a)}}_getRotation(){return vr(this.options.rotation-90)}_getCircumference(){return vr(this.options.circumference)}_getRotationExtents(){let t=tt,r=-tt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){let o=this.chart.getDatasetMeta(i).controller,s=o._getRotation(),a=o._getCircumference();t=Math.min(t,s),r=Math.max(r,s+a)}return{rotation:t,circumference:r-t}}update(t){let r=this.chart,{chartArea:i}=r,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(i.width,i.height)-a)/2,0),l=Math.min(zV(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:h,rotation:f}=this._getRotationExtents(),{ratioX:p,ratioY:y,offsetX:v,offsetY:_}=LJ(f,h,l),S=(i.width-a)/p,R=(i.height-a)/y,O=Math.max(Math.min(S,R)/2,0),V=DT(this.options.radius,O),L=Math.max(V*l,0),j=(V-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*V,this.offsetY=_*V,o.total=this.calculateTotal(),this.outerRadius=V-j*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-j*u,0),this.updateElements(s,0,s.length,t)}_circumference(t,r){let i=this.options,o=this._cachedMeta,s=this._getCircumference();return r&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||o._parsed[t]===null||o.data[t].hidden?0:this.calculateCircumference(o._parsed[t]*s/tt)}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,h=(c.left+c.right)/2,f=(c.top+c.bottom)/2,p=s&&u.animateScale,y=p?0:this.innerRadius,v=p?0:this.outerRadius,{sharedOptions:_,includeOptions:S}=this._getSharedOptions(r,o),R=this._getRotation(),O;for(O=0;O<r;++O)R+=this._circumference(O,s);for(O=r;O<r+i;++O){let V=this._circumference(O,s),L=t[O],j={x:h+this.offsetX,y:f+this.offsetY,startAngle:R,endAngle:R+V,circumference:V,outerRadius:v,innerRadius:y};S&&(j.options=_||this.resolveDataElementOptions(O,L.active?"active":o)),R+=V,this.updateElement(L,O,j,o)}}calculateTotal(){let t=this._cachedMeta,r=t.data,i=0,o;for(o=0;o<r.length;o++){let s=t._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!r[o].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){let r=this._cachedMeta.total;return r>0&&!isNaN(t)?tt*(Math.abs(t)/r):0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Wl(r._parsed[t],i.options.locale);return{label:o[t]||"",value:s}}getMaxBorderWidth(t){let r=0,i=this.chart,o,s,a,c,l;if(!t){for(o=0,s=i.data.datasets.length;o<s;++o)if(i.isDatasetVisible(o)){a=i.getDatasetMeta(o),t=a.data,c=a.controller;break}}if(!t)return 0;for(o=0,s=t.length;o<s;++o)l=c.resolveDataElementOptions(o),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(t){let r=0;for(let i=0,o=t.length;i<o;++i){let s=this.resolveDataElementOptions(i);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(t){let r=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(r+=this._getRingWeight(i));return r}_getRingWeight(t){return Math.max(ue(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n})(),VJ=(()=>{class n extends Is{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let r=this._cachedMeta,{dataset:i,data:o=[],_dataset:s}=r,a=this.chart._animationsDisabled,{start:c,count:l}=OT(r,o,a);this._drawStart=c,this._drawCount=l,FT(r)&&(c=0,l=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=o;let u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(i,void 0,{animated:!a,options:u},t),this.updateElements(o,c,l,t)}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,o),p=a.axis,y=c.axis,{spanGaps:v,segment:_}=this.options,S=Wa(v)?v:Number.POSITIVE_INFINITY,R=this.chart._animationsDisabled||s||o==="none",O=r+i,V=t.length,L=r>0&&this.getParsed(r-1);for(let j=0;j<V;++j){let I=t[j],w=R?I:{};if(j<r||j>=O){w.skip=!0;continue}let E=this.getParsed(j),x=Ie(E[y]),M=w[p]=a.getPixelForValue(E[p],j),P=w[y]=s||x?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,E,l):E[y],j);w.skip=isNaN(M)||isNaN(P)||x,w.stop=j>0&&Math.abs(E[p]-L[p])>S,_&&(w.parsed=E,w.raw=u.data[j]),f&&(w.options=h||this.resolveDataElementOptions(j,I.active?"active":o)),R||this.updateElement(I,j,w,o),L=E}}getMaxOverflow(){let t=this._cachedMeta,r=t.dataset,i=r.options&&r.options.borderWidth||0,o=t.data||[];if(!o.length)return i;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,s,a)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}return n})(),bj=(()=>{class n extends Is{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){let r=t.data;if(r.labels.length&&r.datasets.length){let{labels:{pointStyle:i,color:o}}=t.legend.options;return r.labels.map((s,a)=>{let l=t.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:o,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(a),index:a}})}return[]}},onClick(t,r,i){i.chart.toggleDataVisibility(r.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,r){super(t,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let r=this._cachedMeta,i=this.chart,o=i.data.labels||[],s=Wl(r._parsed[t].r,i.options.locale);return{label:o[t]||"",value:s}}parseObjectData(t,r,i,o){return qT.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,t)}getMinMax(){let t=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<r.min&&(r.min=s),s>r.max&&(r.max=s))}),r}_updateRadius(){let t=this.chart,r=t.chartArea,i=t.options,o=Math.min(r.right-r.left,r.bottom-r.top),s=Math.max(o/2,0),a=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),c=(s-a)/t.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,r,i,o){let s=o==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*Re,y=p,v,_=360/this.countVisibleElements();for(v=0;v<r;++v)y+=this._computeAngle(v,o,_);for(v=r;v<r+i;v++){let S=t[v],R=y,O=y+this._computeAngle(v,o,_),V=a.getDataVisibility(v)?u.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=O,s&&(l.animateScale&&(V=0),l.animateRotate&&(R=O=p));let L={x:h,y:f,innerRadius:0,outerRadius:V,startAngle:R,endAngle:O,options:this.resolveDataElementOptions(v,S.active?"active":o)};this.updateElement(S,v,L,o)}}countVisibleElements(){let t=this._cachedMeta,r=0;return t.data.forEach((i,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&r++}),r}_computeAngle(t,r,i){return this.chart.getDataVisibility(t)?vr(this.resolveDataElementOptions(t,r).angle||i):0}}return n})(),jJ=(()=>{class n extends RS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return n})(),UJ=(()=>{class n extends Is{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){let r=this._cachedMeta.vScale,i=this.getParsed(t);return{label:r.getLabels()[t],value:""+r.getLabelForValue(i[r.axis])}}parseObjectData(t,r,i,o){return qT.bind(this)(t,r,i,o)}update(t){let r=this._cachedMeta,i=r.dataset,o=r.data||[],s=r.iScale.getLabels();if(i.points=o,t!=="resize"){let a=this.resolveDatasetElementOptions(t);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(i,void 0,c,t)}this.updateElements(o,0,o.length,t)}updateElements(t,r,i,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let c=r;c<r+i;c++){let l=t[c],u=this.resolveDataElementOptions(c,l.active?"active":o),h=s.getPointPositionForValue(c,this.getParsed(c).r),f=a?s.xCenter:h.x,p=a?s.yCenter:h.y,y={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(l,c,y,o)}}}return n})(),BJ=(()=>{class n extends Is{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){let r=this._cachedMeta,i=this.chart.data.labels||[],{xScale:o,yScale:s}=r,a=this.getParsed(t),c=o.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:i[t]||"",value:"("+c+", "+l+")"}}update(t){let r=this._cachedMeta,{data:i=[]}=r,o=this.chart._animationsDisabled,{start:s,count:a}=OT(r,i,o);if(this._drawStart=s,this._drawCount=a,FT(r)&&(s=0,a=i.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=i;let u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!o,options:u},t)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(i,s,a,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,r,i,o){let s=o==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(r,o),f=this.getSharedOptions(h),p=this.includeOptions(o,f),y=a.axis,v=c.axis,{spanGaps:_,segment:S}=this.options,R=Wa(_)?_:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||s||o==="none",V=r>0&&this.getParsed(r-1);for(let L=r;L<r+i;++L){let j=t[L],I=this.getParsed(L),w=O?j:{},E=Ie(I[v]),x=w[y]=a.getPixelForValue(I[y],L),M=w[v]=s||E?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,I,l):I[v],L);w.skip=isNaN(x)||isNaN(M)||E,w.stop=L>0&&Math.abs(I[y]-V[y])>R,S&&(w.parsed=I,w.raw=u.data[L]),p&&(w.options=f||this.resolveDataElementOptions(L,j.active?"active":o)),O||this.updateElement(j,L,w,o),V=I}this.updateSharedOptions(f,o,h)}getMaxOverflow(){let t=this._cachedMeta,r=t.data||[];if(!this.options.showLine){let c=0;for(let l=r.length-1;l>=0;--l)c=Math.max(c,r[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let i=t.dataset,o=i.options&&i.options.borderWidth||0;if(!r.length)return o;let s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(o,s,a)/2}}return n})(),$J=Object.freeze({__proto__:null,BarController:OJ,BubbleController:FJ,DoughnutController:RS,LineController:VJ,PieController:jJ,PolarAreaController:bj,RadarController:UJ,ScatterController:BJ});function Ka(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var hS=class n{static override(e){Object.assign(n.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ka()}parse(){return Ka()}format(){return Ka()}add(){return Ka()}diff(){return Ka()}startOf(){return Ka()}endOf(){return Ka()}},HJ={_date:hS};function zJ(n,e,t,r){let{controller:i,data:o,_sorted:s}=n,a=i._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?QV:wi;if(r){if(i._sharedOptions){let u=o[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){let f=l(o,e,t-h),p=l(o,e,t+h);return{lo:f.lo,hi:p.hi}}}}else{let u=l(o,e,t);if(c){let{vScale:h}=i._cachedMeta,{_parsed:f}=n,p=f.slice(0,u.lo+1).reverse().findIndex(v=>!Ie(v[h.axis]));u.lo-=Math.max(0,p);let y=f.slice(u.hi).findIndex(v=>!Ie(v[h.axis]));u.hi+=Math.max(0,y)}return u}}return{lo:0,hi:o.length-1}}function Xh(n,e,t,r,i){let o=n.getSortedVisibleDatasetMetas(),s=t[e];for(let a=0,c=o.length;a<c;++a){let{index:l,data:u}=o[a],{lo:h,hi:f}=zJ(o[a],e,s,i);for(let p=h;p<=f;++p){let y=u[p];y.skip||r(y,l,p)}}}function qJ(n){let e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){let o=e?Math.abs(r.x-i.x):0,s=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function rS(n,e,t,r,i){let o=[];return!i&&!n.isPointInArea(e)||Xh(n,t,e,function(a,c,l){!i&&!Ei(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:c,index:l})},!0),o}function WJ(n,e,t,r){let i=[];function o(s,a,c){let{startAngle:l,endAngle:u}=s.getProps(["startAngle","endAngle"],r),{angle:h}=MT(s,{x:e.x,y:e.y});ql(h,l,u)&&i.push({element:s,datasetIndex:a,index:c})}return Xh(n,t,e,o),i}function GJ(n,e,t,r,i,o){let s=[],a=qJ(t),c=Number.POSITIVE_INFINITY;function l(u,h,f){let p=u.inRange(e.x,e.y,i);if(r&&!p)return;let y=u.getCenterPoint(i);if(!(!!o||n.isPointInArea(y))&&!p)return;let _=a(e,y);_<c?(s=[{element:u,datasetIndex:h,index:f}],c=_):_===c&&s.push({element:u,datasetIndex:h,index:f})}return Xh(n,t,e,l),s}function iS(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?WJ(n,e,t,i):GJ(n,e,t,r,i,o)}function S2(n,e,t,r,i){let o=[],s=t==="x"?"inXRange":"inYRange",a=!1;return Xh(n,t,e,(c,l,u)=>{c[s]&&c[s](e[t],i)&&(o.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,i))}),r&&!a?[]:o}var KJ={evaluateInteractionItems:Xh,modes:{index(n,e,t,r){let i=ws(e,n),o=t.axis||"x",s=t.includeInvisible||!1,a=t.intersect?rS(n,i,o,r,s):iS(n,i,o,!1,r,s),c=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,h=l.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:l.index,index:u})}),c):[]},dataset(n,e,t,r){let i=ws(e,n),o=t.axis||"xy",s=t.includeInvisible||!1,a=t.intersect?rS(n,i,o,r,s):iS(n,i,o,!1,r,s);if(a.length>0){let c=a[0].datasetIndex,l=n.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(n,e,t,r){let i=ws(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return rS(n,i,o,r,s)},nearest(n,e,t,r){let i=ws(e,n),o=t.axis||"xy",s=t.includeInvisible||!1;return iS(n,i,o,t.intersect,r,s)},x(n,e,t,r){let i=ws(e,n);return S2(n,i,"x",t.intersect,r)},y(n,e,t,r){let i=ws(e,n);return S2(n,i,"y",t.intersect,r)}}},wj=["left","top","right","bottom"];function $h(n,e){return n.filter(t=>t.pos===e)}function x2(n,e){return n.filter(t=>wj.indexOf(t.pos)===-1&&t.box.axis===e)}function Hh(n,e){return n.sort((t,r)=>{let i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function YJ(n){let e=[],t,r,i,o,s,a;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:s,stackWeight:a=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return e}function QJ(n){let e={};for(let t of n){let{stack:r,pos:i,stackWeight:o}=t;if(!r||!wj.includes(i))continue;let s=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function XJ(n,e){let t=QJ(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e,o,s,a;for(o=0,s=n.length;o<s;++o){a=n[o];let{fullSize:c}=a.box,l=t[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:c&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:c&&e.availableHeight)}return t}function ZJ(n){let e=YJ(n),t=Hh(e.filter(l=>l.box.fullSize),!0),r=Hh($h(e,"left"),!0),i=Hh($h(e,"right")),o=Hh($h(e,"top"),!0),s=Hh($h(e,"bottom")),a=x2(e,"x"),c=x2(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(c).concat(s).concat(a),chartArea:$h(e,"chartArea"),vertical:r.concat(i).concat(c),horizontal:o.concat(s).concat(a)}}function A2(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Ej(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function JJ(n,e,t,r){let{pos:i,box:o}=t,s=n.maxPadding;if(!De(i)){t.size&&(n[i]-=t.size);let h=r[t.stack]||{size:0,count:1};h.size=Math.max(h.size,t.horizontal?o.height:o.width),t.size=h.size/h.count,n[i]+=t.size}o.getPadding&&Ej(s,o.getPadding());let a=Math.max(0,e.outerWidth-A2(s,n,"left","right")),c=Math.max(0,e.outerHeight-A2(s,n,"top","bottom")),l=a!==n.w,u=c!==n.h;return n.w=a,n.h=c,t.horizontal?{same:l,other:u}:{same:u,other:l}}function eee(n){let e=n.maxPadding;function t(r){let i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function tee(n,e){let t=e.maxPadding;function r(i){let o={left:0,top:0,right:0,bottom:0};return i.forEach(s=>{o[s]=Math.max(e[s],t[s])}),o}return r(n?["left","right"]:["top","bottom"])}function Wh(n,e,t,r){let i=[],o,s,a,c,l,u;for(o=0,s=n.length,l=0;o<s;++o){a=n[o],c=a.box,c.update(a.width||e.w,a.height||e.h,tee(a.horizontal,e));let{same:h,other:f}=JJ(e,t,a,r);l|=h&&i.length,u=u||f,c.fullSize||i.push(a)}return l&&Wh(i,e,t,r)||u}function Vv(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function M2(n,e,t,r){let i=t.padding,{x:o,y:s}=e;for(let a of n){let c=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let h=e.w*u,f=l.size||c.height;Hl(l.start)&&(s=l.start),c.fullSize?Vv(c,i.left,s,t.outerWidth-i.right-i.left,f):Vv(c,e.left+l.placed,s,h,f),l.start=s,l.placed+=h,s=c.bottom}else{let h=e.h*u,f=l.size||c.width;Hl(l.start)&&(o=l.start),c.fullSize?Vv(c,o,i.top,f,t.outerHeight-i.bottom-i.top):Vv(c,o,e.top+l.placed,f,h),l.start=o,l.placed+=h,o=c.right}}e.x=o,e.y=s}var hn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){let t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;let i=en(n.options.layout.padding),o=Math.max(e-i.width,0),s=Math.max(t-i.height,0),a=ZJ(n.boxes),c=a.vertical,l=a.horizontal;je(n.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});let u=c.reduce((v,_)=>_.box.options&&_.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),f=Object.assign({},i);Ej(f,en(r));let p=Object.assign({maxPadding:f,w:o,h:s,x:i.left,y:i.top},i),y=XJ(c.concat(l),h);Wh(a.fullSize,p,h,y),Wh(c,p,h,y),Wh(l,p,h,y)&&Wh(c,p,h,y),eee(p),M2(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,M2(a.rightAndBottom,p,h,y),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},je(a.chartArea,v=>{let _=v.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}},Gv=class{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}},fS=class extends Gv{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},zv="$chartjs",nee={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},R2=n=>n===null||n==="";function ree(n,e){let t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[zv]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",R2(i)){let o=GT(n,"width");o!==void 0&&(n.width=o)}if(R2(r))if(n.style.height==="")n.height=n.width/(e||2);else{let o=GT(n,"height");o!==void 0&&(n.height=o)}return n}var Ij=f2?{passive:!0}:!1;function iee(n,e,t){n&&n.addEventListener(e,t,Ij)}function oee(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Ij)}function see(n,e){let t=nee[n.type]||n.type,{x:r,y:i}=ws(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Kv(n,e){for(let t of n)if(t===e||t.contains(e))return!0}function aee(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Kv(a.addedNodes,r),s=s&&!Kv(a.removedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function cee(n,e,t){let r=n.canvas,i=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Kv(a.removedNodes,r),s=s&&!Kv(a.addedNodes,r);s&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}var Kh=new Map,P2=0;function Cj(){let n=window.devicePixelRatio;n!==P2&&(P2=n,Kh.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function lee(n,e){Kh.size||window.addEventListener("resize",Cj),Kh.set(n,e)}function uee(n){Kh.delete(n),Kh.size||window.removeEventListener("resize",Cj)}function dee(n,e,t){let r=n.canvas,i=r&&Fv(r);if(!i)return;let o=kT((a,c)=>{let l=i.clientWidth;t(a,c),l<i.clientWidth&&t()},window),s=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||o(l,u)});return s.observe(i),lee(n,o),s}function oS(n,e,t){t&&t.disconnect(),e==="resize"&&uee(n)}function hee(n,e,t){let r=n.canvas,i=kT(o=>{n.ctx!==null&&t(see(o,n))},n);return iee(r,e,i),i}var pS=class extends Gv{acquireContext(e,t){let r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(ree(e,t),r):null}releaseContext(e){let t=e.canvas;if(!t[zv])return!1;let r=t[zv].initial;["height","width"].forEach(o=>{let s=r[o];Ie(s)?t.removeAttribute(o):t.setAttribute(o,s)});let i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[zv],!0}addEventListener(e,t,r){this.removeEventListener(e,t);let i=e.$proxies||(e.$proxies={}),s={attach:aee,detach:cee,resize:dee}[t]||hee;i[t]=s(e,t,r)}removeEventListener(e,t){let r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:oS,detach:oS,resize:oS}[t]||oee)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return h2(e,t,r,i)}isAttached(e){let t=e&&Fv(e);return!!(t&&t.isConnected)}};function fee(n){return!Ov()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?fS:pS}var qr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Wa(this.x)&&Wa(this.y)}getProps(e,t){let r=this.$animations;if(!t||!r)return this;let i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}};function pee(n,e){let t=n.options.ticks,r=gee(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?yee(e):[],s=o.length,a=o[0],c=o[s-1],l=[];if(s>i)return vee(e,l,o,s/i),l;let u=mee(o,e,i);if(s>0){let h,f,p=s>1?Math.round((c-a)/(s-1)):null;for(jv(e,l,u,Ie(p)?0:a-p,a),h=0,f=s-1;h<f;h++)jv(e,l,u,o[h],o[h+1]);return jv(e,l,u,c,Ie(p)?e.length:c+p),l}return jv(e,l,u),l}function gee(n){let e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function mee(n,e,t){let r=_ee(n),i=e.length/t;if(!r)return Math.max(i,1);let o=GV(r);for(let s=0,a=o.length-1;s<a;s++){let c=o[s];if(c>i)return c}return Math.max(i,1)}function yee(n){let e=[],t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function vee(n,e,t,r){let i=0,o=t[0],s;for(r=Math.ceil(r),s=0;s<n.length;s++)s===o&&(e.push(n[s]),i++,o=t[i*r])}function jv(n,e,t,r,i){let o=ue(r,0),s=Math.min(ue(i,n.length),n.length),a=0,c,l,u;for(t=Math.ceil(t),i&&(c=i-r,t=c/Math.floor(c/t)),u=o;u<0;)a++,u=Math.round(o+a*t);for(l=Math.max(o,0);l<s;l++)l===u&&(e.push(n[l]),a++,u=Math.round(o+a*t))}function _ee(n){let e=n.length,t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}var bee=n=>n==="left"?"right":n==="right"?"left":n,N2=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,k2=(n,e)=>Math.min(e||n,n);function O2(n,e){let t=[],r=n.length/e,i=n.length,o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function wee(n,e,t){let r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,s=n._endPixel,a=1e-6,c=n.getPixelForTick(i),l;if(!(t&&(r===1?l=Math.max(c-o,s-c):e===0?l=(n.getPixelForTick(1)-c)/2:l=(c-n.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<o-a||c>s+a)))return c}function Eee(n,e){je(n,t=>{let r=t.gc,i=r.length/2,o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function zh(n){return n.drawTicks?n.tickLength:0}function F2(n,e){if(!n.display)return 0;let t=Ot(n.font,e),r=en(n.padding);return(et(n.text)?n.text.length:1)*t.lineHeight+r.height}function Iee(n,e){return _o(n,{scale:e,type:"scale"})}function Cee(n,e,t){return _o(n,{tick:t,index:e,type:"tick"})}function Dee(n,e,t){let r=Mv(n);return(t&&e!=="right"||!t&&e==="right")&&(r=bee(r)),r}function Tee(n,e,t,r){let{top:i,left:o,bottom:s,right:a,chart:c}=n,{chartArea:l,scales:u}=c,h=0,f,p,y,v=s-i,_=a-o;if(n.isHorizontal()){if(p=Jt(r,o,a),De(t)){let S=Object.keys(t)[0],R=t[S];y=u[S].getPixelForValue(R)+v-e}else t==="center"?y=(l.bottom+l.top)/2+v-e:y=N2(n,t,e);f=a-o}else{if(De(t)){let S=Object.keys(t)[0],R=t[S];p=u[S].getPixelForValue(R)-_+e}else t==="center"?p=(l.left+l.right)/2-_+e:p=N2(n,t,e);y=Jt(r,s,i),h=t==="left"?-wt:wt}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}var Qa=class n extends qr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Fn(e,Number.POSITIVE_INFINITY),t=Fn(t,Number.NEGATIVE_INFINITY),r=Fn(r,Number.POSITIVE_INFINITY),i=Fn(i,Number.NEGATIVE_INFINITY),{min:Fn(e,r),max:Fn(t,i),minDefined:pt(e),maxDefined:pt(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),s;if(i&&o)return{min:t,max:r};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)s=a[c].controller.getMinMax(this,e),i||(t=Math.min(t,s.min)),o||(r=Math.max(r,s.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:Fn(t,Fn(r,t)),max:Fn(r,Fn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ye(this.options.beforeUpdate,[this])}update(e,t,r){let{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s2(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?O2(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=pee(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ye(this.options.afterUpdate,[this])}beforeSetDimensions(){Ye(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ye(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ye(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ye(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let t=this.options.ticks,r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Ye(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Ye(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ye(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,t=e.ticks,r=k2(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation,s=i,a,c,l;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}let u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=$t(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),h+6>a&&(a=p/(r-(e.offset?.5:1)),c=this.maxHeight-zh(e.grid)-t.padding-F2(e.title,this.chart.options.font),l=Math.sqrt(h*h+f*f),s=xv(Math.min(Math.asin($t((u.highest.height+6)/a,-1,1)),Math.asin($t(c/l,-1,1))-Math.asin($t(f/l,-1,1)))),s=Math.max(i,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Ye(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ye(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let c=F2(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=zh(o)+c):(e.height=this.maxHeight,e.width=zh(o)+c),r.display&&this.ticks.length){let{first:l,last:u,widest:h,highest:f}=this._getLabelSizes(),p=r.padding*2,y=vr(this.labelRotation),v=Math.cos(y),_=Math.sin(y);if(a){let S=r.mirror?0:_*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+S+p)}else{let S=r.mirror?0:v*h.width+_*f.height;e.width=Math.min(this.maxWidth,e.width+S+p)}this._calculatePadding(l,u,_,v)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){let{ticks:{align:o,padding:s},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;c?l?(f=i*e.width,p=r*t.height):(f=r*e.height,p=i*t.width):o==="start"?p=t.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+s)*this.width/(this.width-h),0)}else{let u=t.height/2,h=e.height/2;o==="start"?(u=0,h=e.height):o==="end"&&(u=t.height,h=0),this.paddingTop=u+s,this.paddingBottom=h+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ye(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Ie(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let t=this.options.ticks.sampleSize,r=this.ticks;t<r.length&&(r=O2(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){let{ctx:i,_longestTextCache:o}=this,s=[],a=[],c=Math.floor(t/k2(t,r)),l=0,u=0,h,f,p,y,v,_,S,R,O,V,L;for(h=0;h<t;h+=c){if(y=e[h].label,v=this._resolveTickFontOptions(h),i.font=_=v.string,S=o[_]=o[_]||{data:{},gc:[]},R=v.lineHeight,O=V=0,!Ie(y)&&!et(y))O=Fh(i,S.data,S.gc,O,y),V=R;else if(et(y))for(f=0,p=y.length;f<p;++f)L=y[f],!Ie(L)&&!et(L)&&(O=Fh(i,S.data,S.gc,O,L),V+=R);s.push(O),a.push(V),l=Math.max(O,l),u=Math.max(V,u)}Eee(o,t);let j=s.indexOf(l),I=a.indexOf(u),w=E=>({width:s[E]||0,height:a[E]||0});return{first:w(0),last:w(t-1),widest:w(j),highest:w(I),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){let t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let t=this._startPixel+e*this._length;return YV(this._alignToPixels?vs(this.chart,t,0):t)}getDecimalForPixel(e){let t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){let t=this.ticks||[];if(e>=0&&e<t.length){let r=t[e];return r.$context||(r.$context=Cee(this.getContext(),e,r))}return this.$context||(this.$context=Iee(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,t=vr(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,c=o?o.highest.height+s:0;return this.isHorizontal()?c*r>a*i?a/r:c/i:c*i<a*r?c/r:a/i}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let t=this.axis,r=this.chart,i=this.options,{grid:o,position:s,border:a}=i,c=o.offset,l=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=zh(o),p=[],y=a.setContext(this.getContext()),v=y.display?y.width:0,_=v/2,S=function(Xe){return vs(r,Xe,v)},R,O,V,L,j,I,w,E,x,M,P,D;if(s==="top")R=S(this.bottom),I=this.bottom-f,E=R-_,M=S(e.top)+_,D=e.bottom;else if(s==="bottom")R=S(this.top),M=e.top,D=S(e.bottom)-_,I=R+_,E=this.top+f;else if(s==="left")R=S(this.right),j=this.right-f,w=R-_,x=S(e.left)+_,P=e.right;else if(s==="right")R=S(this.left),x=e.left,P=S(e.right)-_,j=R+_,w=this.left+f;else if(t==="x"){if(s==="center")R=S((e.top+e.bottom)/2+.5);else if(De(s)){let Xe=Object.keys(s)[0],He=s[Xe];R=S(this.chart.scales[Xe].getPixelForValue(He))}M=e.top,D=e.bottom,I=R+_,E=I+f}else if(t==="y"){if(s==="center")R=S((e.left+e.right)/2);else if(De(s)){let Xe=Object.keys(s)[0],He=s[Xe];R=S(this.chart.scales[Xe].getPixelForValue(He))}j=R-_,w=j-f,x=e.left,P=e.right}let dt=ue(i.ticks.maxTicksLimit,h),xe=Math.max(1,Math.ceil(h/dt));for(O=0;O<h;O+=xe){let Xe=this.getContext(O),He=o.setContext(Xe),Kt=a.setContext(Xe),Ct=He.lineWidth,xi=He.color,Xa=Kt.dash||[],fn=Kt.dashOffset,gt=He.tickWidth,Ai=He.tickColor,br=He.tickBorderDash||[],Mi=He.tickBorderDashOffset;V=wee(this,O,c),V!==void 0&&(L=vs(r,V,Ct),l?j=w=x=P=L:I=E=M=D=L,p.push({tx1:j,ty1:I,tx2:w,ty2:E,x1:x,y1:M,x2:P,y2:D,width:Ct,color:xi,borderDash:Xa,borderDashOffset:fn,tickWidth:gt,tickColor:Ai,tickBorderDash:br,tickBorderDashOffset:Mi}))}return this._ticksLength=h,this._borderValue=R,p}_computeLabelItems(e){let t=this.axis,r=this.options,{position:i,ticks:o}=r,s=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:h}=o,f=zh(r.grid),p=f+u,y=h?-u:p,v=-vr(this.labelRotation),_=[],S,R,O,V,L,j,I,w,E,x,M,P,D="middle";if(i==="top")j=this.bottom-y,I=this._getXAxisLabelAlignment();else if(i==="bottom")j=this.top+y,I=this._getXAxisLabelAlignment();else if(i==="left"){let xe=this._getYAxisLabelAlignment(f);I=xe.textAlign,L=xe.x}else if(i==="right"){let xe=this._getYAxisLabelAlignment(f);I=xe.textAlign,L=xe.x}else if(t==="x"){if(i==="center")j=(e.top+e.bottom)/2+p;else if(De(i)){let xe=Object.keys(i)[0],Xe=i[xe];j=this.chart.scales[xe].getPixelForValue(Xe)+p}I=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")L=(e.left+e.right)/2-p;else if(De(i)){let xe=Object.keys(i)[0],Xe=i[xe];L=this.chart.scales[xe].getPixelForValue(Xe)}I=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));let dt=this._getLabelSizes();for(S=0,R=a.length;S<R;++S){O=a[S],V=O.label;let xe=o.setContext(this.getContext(S));w=this.getPixelForTick(S)+o.labelOffset,E=this._resolveTickFontOptions(S),x=E.lineHeight,M=et(V)?V.length:1;let Xe=M/2,He=xe.color,Kt=xe.textStrokeColor,Ct=xe.textStrokeWidth,xi=I;s?(L=w,I==="inner"&&(S===R-1?xi=this.options.reverse?"left":"right":S===0?xi=this.options.reverse?"right":"left":xi="center"),i==="top"?l==="near"||v!==0?P=-M*x+x/2:l==="center"?P=-dt.highest.height/2-Xe*x+x:P=-dt.highest.height+x/2:l==="near"||v!==0?P=x/2:l==="center"?P=dt.highest.height/2-Xe*x:P=dt.highest.height-M*x,h&&(P*=-1),v!==0&&!xe.showLabelBackdrop&&(L+=x/2*Math.sin(v))):(j=w,P=(1-M)*x/2);let Xa;if(xe.showLabelBackdrop){let fn=en(xe.backdropPadding),gt=dt.heights[S],Ai=dt.widths[S],br=P-fn.top,Mi=0-fn.left;switch(D){case"middle":br-=gt/2;break;case"bottom":br-=gt;break}switch(I){case"center":Mi-=Ai/2;break;case"right":Mi-=Ai;break;case"inner":S===R-1?Mi-=Ai:S>0&&(Mi-=Ai/2);break}Xa={left:Mi,top:br,width:Ai+fn.width,height:gt+fn.height,color:xe.backdropColor}}_.push({label:V,font:E,textOffset:P,options:{rotation:v,color:He,strokeColor:Kt,strokeWidth:Ct,textAlign:xi,textBaseline:D,translation:[L,j],backdrop:Xa}})}return _}_getXAxisLabelAlignment(){let{position:e,ticks:t}=this.options;if(-vr(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){let{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,c=s.widest.width,l,u;return t==="left"?i?(u=this.right+o,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u=this.left)):t==="right"?i?(u=this.left+o,r==="near"?l="right":r==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,r==="near"?l="left":r==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:s}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,s),e.restore())}getLineWidthForValue(e){let t=this.options.grid;if(!this._isVisible()||!t.display)return 0;let i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){let t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(c,l,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(c.x,c.y),r.lineTo(l.x,l.y),r.stroke(),r.restore())};if(t.display)for(o=0,s=i.length;o<s;++o){let c=i[o];t.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),s=r.display?o.width:0;if(!s)return;let a=i.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,h,f;this.isHorizontal()?(l=vs(e,this.left,s)-s/2,u=vs(e,this.right,a)+a/2,h=f=c):(h=vs(e,this.top,s)-s/2,f=vs(e,this.bottom,a)+a/2,l=u=c),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(l,h),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;let r=this.ctx,i=this._computeLabelArea();i&&jh(r,i);let o=this.getLabelItems(e);for(let s of o){let a=s.options,c=s.font,l=s.label,u=s.textOffset;_s(r,l,0,u,c,a)}i&&Uh(r)}drawTitle(){let{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;let o=Ot(r.font),s=en(r.padding),a=r.align,c=o.lineHeight/2;t==="bottom"||t==="center"||De(t)?(c+=s.bottom,et(r.text)&&(c+=o.lineHeight*(r.text.length-1))):c+=s.top;let{titleX:l,titleY:u,maxWidth:h,rotation:f}=Tee(this,c,t,a);_s(e,r.text,0,0,o,{color:r.color,maxWidth:h,rotation:f,textAlign:Dee(a,t,i),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,t=e.ticks&&e.ticks.z||0,r=ue(e.grid&&e.grid.z,-1),i=ue(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==n.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[],o,s;for(o=0,s=t.length;o<s;++o){let a=t[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){let t=this.options.ticks.setContext(this.getContext(e));return Ot(t.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},Ql=class{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let t=Object.getPrototypeOf(e),r;Aee(t)&&(r=this.register(t));let i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,See(e,s,r),this.override&&Qe.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in Qe[i]&&(delete Qe[i][r],this.override&&delete ys[r])}};function See(n,e,t){let r=Ul(Object.create(null),[t?Qe.get(t):{},Qe.get(e),n.defaults]);Qe.set(e,r),n.defaultRoutes&&xee(e,n.defaultRoutes),n.descriptors&&Qe.describe(e,n.descriptors)}function xee(n,e){Object.keys(e).forEach(t=>{let r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),s=e[t].split("."),a=s.pop(),c=s.join(".");Qe.route(o,i,c,a)})}function Aee(n){return"id"in n&&"defaults"in n}var gS=class{constructor(){this.controllers=new Ql(Is,"datasets",!0),this.elements=new Ql(qr,"elements"),this.plugins=new Ql(Object,"plugins"),this.scales=new Ql(Qa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{let o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):je(i,s=>{let a=r||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,t,r){let i=Sv(e);Ye(r["before"+i],[],r),t[e](r),Ye(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){let r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){let i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}},Ti=new gS,mS=class{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=i?this._descriptors(e).filter(i):this._descriptors(e),s=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,t,r,i){i=i||{};for(let o of e){let s=o.plugin,a=s[r],c=[t,i,o.options];if(Ye(a,c,s)===!1&&i.cancelable)return!1}return!0}invalidate(){Ie(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){let r=e&&e.config,i=ue(r.options&&r.options.plugins,{}),o=Mee(r);return i===!1&&!t?[]:Pee(e,o,i,t)}_notifyStateChanges(e){let t=this._oldCache||[],r=this._cache,i=(o,s)=>o.filter(a=>!s.some(c=>a.plugin.id===c.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}};function Mee(n){let e={},t=[],r=Object.keys(Ti.plugins.items);for(let o=0;o<r.length;o++)t.push(Ti.getPlugin(r[o]));let i=n.plugins||[];for(let o=0;o<i.length;o++){let s=i[o];t.indexOf(s)===-1&&(t.push(s),e[s.id]=!0)}return{plugins:t,localIds:e}}function Ree(n,e){return!e&&n===!1?null:n===!0?{}:n}function Pee(n,{plugins:e,localIds:t},r,i){let o=[],s=n.getContext();for(let a of e){let c=a.id,l=Ree(r[c],i);l!==null&&o.push({plugin:a,options:Nee(n.config,{plugin:a,local:t[c]},l,s)})}return o}function Nee(n,{plugin:e,local:t},r,i){let o=n.pluginScopeKeys(e),s=n.getOptionScopes(r,o);return t&&e.defaults&&s.push(e.defaults),n.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yS(n,e){let t=Qe.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function kee(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Oee(n,e){return n===e?"_index_":"_value_"}function L2(n){if(n==="x"||n==="y"||n==="r")return n}function Fee(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function vS(n,...e){if(L2(n))return n;for(let t of e){let r=t.axis||Fee(t.position)||n.length>1&&L2(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function V2(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Lee(n,e){if(e.data&&e.data.datasets){let t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return V2(n,"x",t[0])||V2(n,"y",t[0])}return{}}function Vee(n,e){let t=ys[n.type]||{scales:{}},r=e.scales||{},i=yS(n.type,e),o=Object.create(null);return Object.keys(r).forEach(s=>{let a=r[s];if(!De(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let c=vS(s,a,Lee(s,n),Qe.scales[a.type]),l=Oee(c,i),u=t.scales||{};o[s]=$l(Object.create(null),[{axis:c},a,u[c],u[l]])}),n.data.datasets.forEach(s=>{let a=s.type||n.type,c=s.indexAxis||yS(a,e),u=(ys[a]||{}).scales||{};Object.keys(u).forEach(h=>{let f=kee(h,c),p=s[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),$l(o[p],[{axis:f},r[p],u[h]])})}),Object.keys(o).forEach(s=>{let a=o[s];$l(a,[Qe.scales[a.type],Qe.scale])}),o}function Dj(n){let e=n.options||(n.options={});e.plugins=ue(e.plugins,{}),e.scales=Vee(n,e)}function Tj(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function jee(n){return n=n||{},n.data=Tj(n.data),Dj(n),n}var j2=new Map,Sj=new Set;function Uv(n,e){let t=j2.get(n);return t||(t=e(),j2.set(n,t),Sj.add(t)),t}var qh=(n,e,t)=>{let r=vo(e,t);r!==void 0&&n.add(r)},_S=class{constructor(e){this._config=jee(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Tj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),Dj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Uv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Uv(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Uv(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){let t=e.id,r=this.type;return Uv(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){let r=this._scopeCache,i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){let{options:i,type:o}=this,s=this._cachedScopes(e,r),a=s.get(t);if(a)return a;let c=new Set;t.forEach(u=>{e&&(c.add(e),u.forEach(h=>qh(c,e,h))),u.forEach(h=>qh(c,i,h)),u.forEach(h=>qh(c,ys[o]||{},h)),u.forEach(h=>qh(c,Qe,h)),u.forEach(h=>qh(c,Rv,h))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),Sj.has(t)&&s.set(t,l),l}chartOptionScopes(){let{options:e,type:t}=this;return[e,ys[t]||{},Qe.datasets[t]||{},{type:t},Qe,Rv]}resolveNamedOptions(e,t,r,i=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=U2(this._resolverCache,e,i),c=s;if(Bee(s,t)){o.$shared=!1,r=mo(r)?r():r;let l=this.createResolver(e,r,a);c=qa(s,r,l)}for(let l of t)o[l]=c[l];return o}createResolver(e,t,r=[""],i){let{resolver:o}=U2(this._resolverCache,e,r);return De(t)?qa(o,t,void 0,i):o}};function U2(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));let i=t.join(),o=r.get(i);return o||(o={resolver:kv(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}var Uee=n=>De(n)&&Object.getOwnPropertyNames(n).some(e=>mo(n[e]));function Bee(n,e){let{isScriptable:t,isIndexable:r}=$T(n);for(let i of e){let o=t(i),s=r(i),a=(s||o)&&n[i];if(o&&(mo(a)||Uee(a))||s&&et(a))return!0}return!1}var $ee="4.5.0",Hee=["top","bottom","left","right","chartArea"];function B2(n,e){return n==="top"||n==="bottom"||Hee.indexOf(n)===-1&&e==="x"}function $2(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function H2(n){let e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ye(t&&t.onComplete,[n],e)}function zee(n){let e=n.chart,t=e.options.animation;Ye(t&&t.onProgress,[n],e)}function xj(n){return Ov()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}var qv={},z2=n=>{let e=xj(n);return Object.values(qv).filter(t=>t.canvas===e).pop()};function qee(n,e,t){let r=Object.keys(n);for(let i of r){let o=+i;if(o>=e){let s=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=s)}}}function Wee(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}var Zl=(()=>{class n{static defaults=Qe;static instances=qv;static overrides=ys;static registry=Ti;static version=$ee;static getChart=z2;static register(...t){Ti.add(...t),q2()}static unregister(...t){Ti.remove(...t),q2()}constructor(t,r){let i=this.config=new _S(r),o=xj(t),s=z2(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||fee(o)),this.platform.updateConfig(i);let c=this.platform.acquireContext(o,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,h=l&&l.width;if(this.id=HV(),this.ctx=c,this.canvas=l,this.width=h,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=e2(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],qv[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}bo.listen(this,"complete",H2),bo.listen(this,"progress",zee),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:r},width:i,height:o,_aspectRatio:s}=this;return Ie(t)?r&&s?s:o?i/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():WT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return jT(this.canvas,this.ctx),this}stop(){return bo.stop(this),this}resize(t,r){bo.running(this)?this._resizeBeforeDraw={width:t,height:r}:this._resize(t,r)}_resize(t,r){let i=this.options,o=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,t,r,s),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,WT(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),Ye(i.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let r=this.options.scales||{};je(r,(i,o)=>{i.id=o})}buildOrUpdateScales(){let t=this.options,r=t.scales,i=this.scales,o=Object.keys(i).reduce((a,c)=>(a[c]=!1,a),{}),s=[];r&&(s=s.concat(Object.keys(r).map(a=>{let c=r[a],l=vS(a,c),u=l==="r",h=l==="x";return{options:c,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),je(s,a=>{let c=a.options,l=c.id,u=vS(l,c),h=ue(c.type,a.dtype);(c.position===void 0||B2(c.position,u)!==B2(a.dposition))&&(c.position=a.dposition),o[l]=!0;let f=null;if(l in i&&i[l].type===h)f=i[l];else{let p=Ti.getScale(h);f=new p({id:l,type:h,ctx:this.ctx,chart:this}),i[f.id]=f}f.init(c,t)}),je(o,(a,c)=>{a||delete i[c]}),je(i,a=>{hn.configure(this,a,a.options),hn.addBox(this,a)})}_updateMetasets(){let t=this._metasets,r=this.data.datasets.length,i=t.length;if(t.sort((o,s)=>o.index-s.index),i>r){for(let o=r;o<i;++o)this._destroyDatasetMeta(o);t.splice(r,i-r)}this._sortedMetasets=t.slice(0).sort($2("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:r}}=this;t.length>r.length&&delete this._stacks,t.forEach((i,o)=>{r.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let t=[],r=this.data.datasets,i,o;for(this._removeUnreferencedMetasets(),i=0,o=r.length;i<o;i++){let s=r[i],a=this.getDatasetMeta(i),c=s.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(i),a=this.getDatasetMeta(i)),a.type=c,a.indexAxis=s.indexAxis||yS(c,this.options),a.order=s.order||0,a.index=i,a.label=""+s.label,a.visible=this.isDatasetVisible(i),a.controller)a.controller.updateIndex(i),a.controller.linkScales();else{let l=Ti.getController(c),{datasetElementType:u,dataElementType:h}=Qe.datasets[c];Object.assign(l,{dataElementType:Ti.getElement(h),datasetElementType:u&&Ti.getElement(u)}),a.controller=new l(this,i),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){je(this.data.datasets,(t,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let r=this.config;r.update();let i=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,h=this.data.datasets.length;u<h;u++){let{controller:f}=this.getDatasetMeta(u),p=!o&&s.indexOf(f)===-1;f.buildOrUpdateElements(p),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=i.layout.autoPadding?a:0,this._updateLayout(a),o||je(s,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($2("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){je(this.scales,t=>{hn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,r=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!TT(r,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,r=this._getUniformDataChanges()||[];for(let{method:i,start:o,count:s}of r){let a=i==="_removeElements"?-s:s;qee(t,o,a)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let r=this.data.datasets.length,i=s=>new Set(t.filter(a=>a[0]===s).map((a,c)=>c+","+a.splice(1).join(","))),o=i(0);for(let s=1;s<r;s++)if(!TT(o,i(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;hn.update(this,this.width,this.height,t);let r=this.chartArea,i=r.width<=0||r.height<=0;this._layers=[],je(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let r=0,i=this.data.datasets.length;r<i;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,mo(t)?t({datasetIndex:r}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,r){let i=this.getDatasetMeta(t),o={meta:i,index:t,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(r),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(bo.has(this)?this.attached&&!bo.running(this)&&bo.start(this):(this.draw(),H2({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let r=this._layers;for(t=0;t<r.length&&r[t].z<=0;++t)r[t].draw(this.chartArea);for(this._drawDatasets();t<r.length;++t)r[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let r=this._sortedMetasets,i=[],o,s;for(o=0,s=r.length;o<s;++o){let a=r[o];(!t||a.visible)&&i.push(a)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let r=t.length-1;r>=0;--r)this._drawDataset(t[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let r=this.ctx,i={meta:t,index:t.index,cancelable:!0},o=ZT(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&jh(r,o),t.controller.draw(),o&&Uh(r),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ei(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,r,i,o){let s=KJ.modes[r];return typeof s=="function"?s(this,t,i,o):[]}getDatasetMeta(t){let r=this.data.datasets[t],i=this._metasets,o=i.filter(s=>s&&s._dataset===r).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:t,_dataset:r,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=_o(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let r=this.data.datasets[t];if(!r)return!1;let i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!r.hidden}setDatasetVisibility(t,r){let i=this.getDatasetMeta(t);i.hidden=!r}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,r,i){let o=i?"show":"hide",s=this.getDatasetMeta(t),a=s.controller._resolveAnimations(void 0,o);Hl(r)?(s.data[r].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),a.update(s,{visible:i}),this.update(c=>c.datasetIndex===t?o:void 0))}hide(t,r){this._updateVisibility(t,r,!1)}show(t,r){this._updateVisibility(t,r,!0)}_destroyDatasetMeta(t){let r=this._metasets[t];r&&r.controller&&r.controller._destroy(),delete this._metasets[t]}_stop(){let t,r;for(this.stop(),bo.remove(this),t=0,r=this.data.datasets.length;t<r;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:r}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),jT(t,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete qv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,r=this.platform,i=(s,a)=>{r.addEventListener(this,s,a),t[s]=a},o=(s,a,c)=>{s.offsetX=a,s.offsetY=c,this._eventHandler(s)};je(this.options.events,s=>i(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,r=this.platform,i=(l,u)=>{r.addEventListener(this,l,u),t[l]=u},o=(l,u)=>{t[l]&&(r.removeEventListener(this,l,u),delete t[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{o("attach",c),this.attached=!0,this.resize(),i("resize",s),i("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),i("attach",c)},r.isAttached(this.canvas)?c():a()}unbindEvents(){je(this._listeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._listeners={},je(this._responsiveListeners,(t,r)=>{this.platform.removeEventListener(this,r,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,r,i){let o=i?"set":"remove",s,a,c,l;for(r==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),c=0,l=t.length;c<l;++c){a=t[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let r=this._active||[],i=t.map(({datasetIndex:s,index:a})=>{let c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[a],index:a}});!Lh(i,r)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,r))}notifyPlugins(t,r,i){return this._plugins.notify(this,t,r,i)}isPluginEnabled(t){return this._plugins._cache.filter(r=>r.plugin.id===t).length===1}_updateHoverStyles(t,r,i){let o=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(f=>h.datasetIndex===f.datasetIndex&&h.index===f.index)),a=s(r,t),c=i?t:s(t,r);a.length&&this.updateHoverStyle(a,o.mode,!1),c.length&&o.mode&&this.updateHoverStyle(c,o.mode,!0)}_eventHandler(t,r){let i={event:t,replay:r,cancelable:!0,inChartArea:this.isPointInArea(t)},o=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;let s=this._handleEvent(t,r,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(s||i.changed)&&this.render(),this}_handleEvent(t,r,i){let{_active:o=[],options:s}=this,a=r,c=this._getActiveElements(t,o,i,a),l=WV(t),u=Wee(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ye(s.onHover,[t,c,this],this),l&&Ye(s.onClick,[t,c,this],this));let h=!Lh(c,o);return(h||r)&&(this._active=c,this._updateHoverStyles(c,o,r)),this._lastEvent=u,h}_getActiveElements(t,r,i,o){if(t.type==="mouseout")return[];if(!i)return r;let s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,o)}}return n})();function q2(){return je(Zl.instances,n=>n._plugins.invalidate())}function Gee(n,e,t){let{startAngle:r,x:i,y:o,outerRadius:s,innerRadius:a,options:c}=e,{borderWidth:l,borderJoinStyle:u}=c,h=Math.min(l/s,Zt(r-t));if(n.beginPath(),n.arc(i,o,s-l/2,r+h/2,t-h/2),a>0){let f=Math.min(l/a,Zt(r-t));n.arc(i,o,a+l/2,t-f/2,r+f/2,!0)}else{let f=Math.min(l/2,s*Zt(r-t));if(u==="round")n.arc(i,o,f,t-Re/2,r+Re/2,!0);else if(u==="bevel"){let p=2*f*f,y=-p*Math.cos(t+Re/2)+i,v=-p*Math.sin(t+Re/2)+o,_=p*Math.cos(r+Re/2)+i,S=p*Math.sin(r+Re/2)+o;n.lineTo(y,v),n.lineTo(_,S)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function Kee(n,e,t){let{startAngle:r,pixelMargin:i,x:o,y:s,outerRadius:a,innerRadius:c}=e,l=i/a;n.beginPath(),n.arc(o,s,a,r-l,t+l),c>i?(l=i/c,n.arc(o,s,c,t+l,r-l,!0)):n.arc(o,s,i,t+wt,r-wt),n.closePath(),n.clip()}function Yee(n){return Nv(n,["outerStart","outerEnd","innerStart","innerEnd"])}function Qee(n,e,t,r){let i=Yee(n.options.borderRadius),o=(t-e)/2,s=Math.min(o,r*e/2),a=c=>{let l=(t-Math.min(o,c))*r/2;return $t(c,0,Math.min(o,l))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:$t(i.innerStart,0,s),innerEnd:$t(i.innerEnd,0,s)}}function Yl(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Yv(n,e,t,r,i,o){let{x:s,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,h=Math.max(e.outerRadius+r+t-l,0),f=u>0?u+r+t+l:0,p=0,y=i-c;if(r){let xe=u>0?u-r:0,Xe=h>0?h-r:0,He=(xe+Xe)/2,Kt=He!==0?y*He/(He+r):y;p=(y-Kt)/2}let v=Math.max(.001,y*h-t/Re)/h,_=(y-v)/2,S=c+_+p,R=i-_-p,{outerStart:O,outerEnd:V,innerStart:L,innerEnd:j}=Qee(e,f,h,R-S),I=h-O,w=h-V,E=S+O/I,x=R-V/w,M=f+L,P=f+j,D=S+L/M,dt=R-j/P;if(n.beginPath(),o){let xe=(E+x)/2;if(n.arc(s,a,h,E,xe),n.arc(s,a,h,xe,x),V>0){let Ct=Yl(w,x,s,a);n.arc(Ct.x,Ct.y,V,x,R+wt)}let Xe=Yl(P,R,s,a);if(n.lineTo(Xe.x,Xe.y),j>0){let Ct=Yl(P,dt,s,a);n.arc(Ct.x,Ct.y,j,R+wt,dt+Math.PI)}let He=(R-j/f+(S+L/f))/2;if(n.arc(s,a,f,R-j/f,He,!0),n.arc(s,a,f,He,S+L/f,!0),L>0){let Ct=Yl(M,D,s,a);n.arc(Ct.x,Ct.y,L,D+Math.PI,S-wt)}let Kt=Yl(I,S,s,a);if(n.lineTo(Kt.x,Kt.y),O>0){let Ct=Yl(I,E,s,a);n.arc(Ct.x,Ct.y,O,S-wt,E)}}else{n.moveTo(s,a);let xe=Math.cos(E)*h+s,Xe=Math.sin(E)*h+a;n.lineTo(xe,Xe);let He=Math.cos(x)*h+s,Kt=Math.sin(x)*h+a;n.lineTo(He,Kt)}n.closePath()}function Xee(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a}=e,c=e.endAngle;if(o){Yv(n,e,t,r,c,i);for(let l=0;l<o;++l)n.fill();isNaN(a)||(c=s+(a%tt||tt))}return Yv(n,e,t,r,c,i),n.fill(),c}function Zee(n,e,t,r,i){let{fullCircles:o,startAngle:s,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,y=c.borderAlign==="inner";if(!l)return;n.setLineDash(h||[]),n.lineDashOffset=f,y?(n.lineWidth=l*2,n.lineJoin=u||"round"):(n.lineWidth=l,n.lineJoin=u||"bevel");let v=e.endAngle;if(o){Yv(n,e,t,r,v,i);for(let _=0;_<o;++_)n.stroke();isNaN(a)||(v=s+(a%tt||tt))}y&&Kee(n,e,v),c.selfJoin&&v-s>=Re&&p===0&&u!=="miter"&&Gee(n,e,v),o||(Yv(n,e,t,r,v,i),n.stroke())}var bS=class extends qr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){let i=this.getProps(["x","y"],r),{angle:o,distance:s}=MT(i,{x:e,y:t}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,p=ue(h,c-a),y=ql(o,a,c)&&a!==c,v=p>=tt||y,_=Ci(s,l+f,u+f);return v&&_}getCenterPoint(e){let{x:t,y:r,startAngle:i,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(i+o)/2,h=(s+a+l+c)/2;return{x:t+Math.cos(u)*h,y:r+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>tt?Math.floor(r/tt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);let c=1-Math.sin(Math.min(Re,r||0)),l=i*c;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,Xee(e,this,l,o,s),Zee(e,this,l,o,s),e.restore()}};function Aj(n,e,t=e){n.lineCap=ue(t.borderCapStyle,e.borderCapStyle),n.setLineDash(ue(t.borderDash,e.borderDash)),n.lineDashOffset=ue(t.borderDashOffset,e.borderDashOffset),n.lineJoin=ue(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=ue(t.borderWidth,e.borderWidth),n.strokeStyle=ue(t.borderColor,e.borderColor)}function Jee(n,e,t){n.lineTo(t.x,t.y)}function ete(n){return n.stepped?i2:n.tension||n.cubicInterpolationMode==="monotone"?o2:Jee}function Mj(n,e,t={}){let r=n.length,{start:i=0,end:o=r-1}=t,{start:s,end:a}=e,c=Math.max(i,s),l=Math.min(o,a),u=i<s&&o<s||i>a&&o>a;return{count:r,start:c,loop:e.loop,ilen:l<c&&!u?r+l-c:l-c}}function tte(n,e,t,r){let{points:i,options:o}=e,{count:s,start:a,loop:c,ilen:l}=Mj(i,t,r),u=ete(o),{move:h=!0,reverse:f}=r||{},p,y,v;for(p=0;p<=l;++p)y=i[(a+(f?l-p:p))%s],!y.skip&&(h?(n.moveTo(y.x,y.y),h=!1):u(n,v,y,f,o.stepped),v=y);return c&&(y=i[(a+(f?l:0))%s],u(n,v,y,f,o.stepped)),!!c}function nte(n,e,t,r){let i=e.points,{count:o,start:s,ilen:a}=Mj(i,t,r),{move:c=!0,reverse:l}=r||{},u=0,h=0,f,p,y,v,_,S,R=V=>(s+(l?a-V:V))%o,O=()=>{v!==_&&(n.lineTo(u,_),n.lineTo(u,v),n.lineTo(u,S))};for(c&&(p=i[R(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[R(f)],p.skip)continue;let V=p.x,L=p.y,j=V|0;j===y?(L<v?v=L:L>_&&(_=L),u=(h*u+V)/++h):(O(),n.lineTo(V,L),y=j,h=0,v=_=L),S=L}O()}function wS(n){let e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?nte:tte}function rte(n){return n.stepped?p2:n.tension||n.cubicInterpolationMode==="monotone"?g2:ms}function ite(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Aj(n,e.options),n.stroke(i)}function ote(n,e,t,r){let{segments:i,options:o}=e,s=wS(e);for(let a of i)Aj(n,o,a.style),n.beginPath(),s(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}var ste=typeof Path2D=="function";function ate(n,e,t,r){ste&&!e.options.segment?ite(n,e,t,r):ote(n,e,t,r)}var Zv=(()=>{class n extends qr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,r){let i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){let o=i.spanGaps?this._loop:this._fullLoop;d2(this._points,i,t,o,r),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y2(this,this.options.segment))}first(){let t=this.segments,r=this.points;return t.length&&r[t[0].start]}last(){let t=this.segments,r=this.points,i=t.length;return i&&r[t[i-1].end]}interpolate(t,r){let i=this.options,o=t[r],s=this.points,a=XT(this,{property:r,start:o,end:o});if(!a.length)return;let c=[],l=rte(i),u,h;for(u=0,h=a.length;u<h;++u){let{start:f,end:p}=a[u],y=s[f],v=s[p];if(y===v){c.push(y);continue}let _=Math.abs((o-y[r])/(v[r]-y[r])),S=l(y,v,_,i.stepped);S[r]=t[r],c.push(S)}return c.length===1?c[0]:c}pathSegment(t,r,i){return wS(this)(t,this,r,i)}path(t,r,i){let o=this.segments,s=wS(this),a=this._loop;r=r||0,i=i||this.points.length-r;for(let c of o)a&=s(t,this,c,{start:r,end:r+i-1});return!!a}draw(t,r,i,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),ate(t,this,i,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n})();function W2(n,e,t,r){let i=n.options,{[t]:o}=n.getProps([t],r);return Math.abs(e-o)<i.radius+i.hitRadius}var cte=(()=>{class n extends qr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,i){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,r){return W2(this,t,"x",r)}inYRange(t,r){return W2(this,t,"y",r)}getCenterPoint(t){let{x:r,y:i}=this.getProps(["x","y"],t);return{x:r,y:i}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);let i=r&&t.borderWidth||0;return(r+i)*2}draw(t,r){let i=this.options;this.skip||i.radius<.1||!Ei(this,r,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Pv(t,i,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}}return n})();function Rj(n,e){let{x:t,y:r,base:i,width:o,height:s}=n.getProps(["x","y","base","width","height"],e),a,c,l,u,h;return n.horizontal?(h=s/2,a=Math.min(t,i),c=Math.max(t,i),l=r-h,u=r+h):(h=o/2,a=t-h,c=t+h,l=Math.min(r,i),u=Math.max(r,i)),{left:a,top:l,right:c,bottom:u}}function Es(n,e,t,r){return n?0:$t(e,t,r)}function lte(n,e,t){let r=n.options.borderWidth,i=n.borderSkipped,o=BT(r);return{t:Es(i.top,o.top,0,t),r:Es(i.right,o.right,0,e),b:Es(i.bottom,o.bottom,0,t),l:Es(i.left,o.left,0,e)}}function ute(n,e,t){let{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=bs(i),s=Math.min(e,t),a=n.borderSkipped,c=r||De(i);return{topLeft:Es(!c||a.top||a.left,o.topLeft,0,s),topRight:Es(!c||a.top||a.right,o.topRight,0,s),bottomLeft:Es(!c||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Es(!c||a.bottom||a.right,o.bottomRight,0,s)}}function dte(n){let e=Rj(n),t=e.right-e.left,r=e.bottom-e.top,i=lte(n,t/2,r/2),o=ute(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function sS(n,e,t,r){let i=e===null,o=t===null,a=n&&!(i&&o)&&Rj(n,r);return a&&(i||Ci(e,a.left,a.right))&&(o||Ci(t,a.top,a.bottom))}function hte(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function fte(n,e){n.rect(e.x,e.y,e.w,e.h)}function aS(n,e,t={}){let r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-r,s=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+s,radius:n.radius}}var ES=class extends qr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:s}=dte(this),a=hte(s.radius)?Gl:fte;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,aS(s,t,o)),e.clip(),a(e,aS(o,-t,s)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,aS(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return sS(this,e,t,r)}inXRange(e,t){return sS(this,e,null,t)}inYRange(e,t){return sS(this,null,e,t)}getCenterPoint(e){let{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},pte=Object.freeze({__proto__:null,ArcElement:bS,BarElement:ES,LineElement:Zv,PointElement:cte}),IS=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],G2=IS.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Pj(n){return IS[n%IS.length]}function Nj(n){return G2[n%G2.length]}function gte(n,e){return n.borderColor=Pj(e),n.backgroundColor=Nj(e),++e}function mte(n,e){return n.backgroundColor=n.data.map(()=>Pj(e++)),e}function yte(n,e){return n.backgroundColor=n.data.map(()=>Nj(e++)),e}function vte(n){let e=0;return(t,r)=>{let i=n.getDatasetMeta(r).controller;i instanceof RS?e=mte(t,e):i instanceof bj?e=yte(t,e):i&&(e=gte(t,e))}}function K2(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}function _te(n){return n&&(n.borderColor||n.backgroundColor)}function bte(){return Qe.borderColor!=="rgba(0,0,0,0.1)"||Qe.backgroundColor!=="rgba(0,0,0,0.1)"}var wte={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;let{data:{datasets:r},options:i}=n.config,{elements:o}=i,s=K2(r)||_te(i)||o&&K2(o)||bte();if(!t.forceOverride&&s)return;let a=vte(n);r.forEach(a)}};function Ete(n,e,t,r,i){let o=i.samples||r;if(o>=t)return n.slice(e,e+t);let s=[],a=(t-2)/(o-2),c=0,l=e+t-1,u=e,h,f,p,y,v;for(s[c++]=n[u],h=0;h<o-2;h++){let _=0,S=0,R,O=Math.floor((h+1)*a)+1+e,V=Math.min(Math.floor((h+2)*a)+1,t)+e,L=V-O;for(R=O;R<V;R++)_+=n[R].x,S+=n[R].y;_/=L,S/=L;let j=Math.floor(h*a)+1+e,I=Math.min(Math.floor((h+1)*a)+1,t)+e,{x:w,y:E}=n[u];for(p=y=-1,R=j;R<I;R++)y=.5*Math.abs((w-_)*(n[R].y-E)-(w-n[R].x)*(S-E)),y>p&&(p=y,f=n[R],v=R);s[c++]=f,u=v}return s[c++]=n[l],s}function Ite(n,e,t,r){let i=0,o=0,s,a,c,l,u,h,f,p,y,v,_=[],S=e+t-1,R=n[e].x,V=n[S].x-R;for(s=e;s<e+t;++s){a=n[s],c=(a.x-R)/V*r,l=a.y;let L=c|0;if(L===u)l<y?(y=l,h=s):l>v&&(v=l,f=s),i=(o*i+a.x)/++o;else{let j=s-1;if(!Ie(h)&&!Ie(f)){let I=Math.min(h,f),w=Math.max(h,f);I!==p&&I!==j&&_.push(ie(z({},n[I]),{x:i})),w!==p&&w!==j&&_.push(ie(z({},n[w]),{x:i}))}s>0&&j!==p&&_.push(n[j]),_.push(a),u=L,o=0,y=v=l,h=f=p=s}}return _}function kj(n){if(n._decimated){let e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Y2(n){n.data.datasets.forEach(e=>{kj(e)})}function Cte(n,e){let t=e.length,r=0,i,{iScale:o}=n,{min:s,max:a,minDefined:c,maxDefined:l}=o.getUserBounds();return c&&(r=$t(wi(e,o.axis,s).lo,0,t-1)),l?i=$t(wi(e,o.axis,a).hi+1,r,t)-r:i=t-r,{start:r,count:i}}var Dte={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled){Y2(n);return}let r=n.width;n.data.datasets.forEach((i,o)=>{let{_data:s,indexAxis:a}=i,c=n.getDatasetMeta(o),l=s||i.data;if(Kl([a,n.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=n.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||n.options.parsing)return;let{start:h,count:f}=Cte(c,l),p=t.threshold||4*r;if(f<=p){kj(i);return}Ie(s)&&(i._data=l,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(t.algorithm){case"lttb":y=Ete(l,h,f,r,t);break;case"min-max":y=Ite(l,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}i._decimated=y})},destroy(n){Y2(n)}};function Tte(n,e,t){let r=n.segments,i=n.points,o=e.points,s=[];for(let a of r){let{start:c,end:l}=a;l=Jv(c,l,i);let u=CS(t,i[c],i[l],a.loop);if(!e.segments){s.push({source:a,target:u,start:i[c],end:i[l]});continue}let h=XT(e,u);for(let f of h){let p=CS(t,o[f.start],o[f.end],f.loop),y=QT(a,i,p);for(let v of y)s.push({source:v,target:f,start:{[t]:Q2(u,p,"start",Math.max)},end:{[t]:Q2(u,p,"end",Math.min)}})}}return s}function CS(n,e,t,r){if(r)return;let i=e[n],o=t[n];return n==="angle"&&(i=Zt(i),o=Zt(o)),{property:n,start:i,end:o}}function Ste(n,e){let{x:t=null,y:r=null}=n||{},i=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=Jv(s,a,i);let c=i[s],l=i[a];r!==null?(o.push({x:c.x,y:r}),o.push({x:l.x,y:r})):t!==null&&(o.push({x:t,y:c.y}),o.push({x:t,y:l.y}))}),o}function Jv(n,e,t){for(;e>n;e--){let r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Q2(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Oj(n,e){let t=[],r=!1;return et(n)?(r=!0,t=n):t=Ste(n,e),t.length?new Zv({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function X2(n){return n&&n.fill!==!1}function xte(n,e,t){let i=n[e].fill,o=[e],s;if(!t)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!pt(i))return i;if(s=n[i],!s)return!1;if(s.visible)return i;o.push(i),i=s.fill}return!1}function Ate(n,e,t){let r=Nte(n);if(De(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return pt(i)&&Math.floor(i)===i?Mte(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Mte(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function Rte(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:De(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Pte(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:De(n)?r=n.value:r=e.getBaseValue(),r}function Nte(n){let e=n.options,t=e.fill,r=ue(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function kte(n){let{scale:e,index:t,line:r}=n,i=[],o=r.segments,s=r.points,a=Ote(e,t);a.push(Oj({x:null,y:e.bottom},r));for(let c=0;c<o.length;c++){let l=o[c];for(let u=l.start;u<=l.end;u++)Fte(i,s[u],a)}return new Zv({points:i,options:{}})}function Ote(n,e){let t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){let o=r[i];if(o.index===e)break;o.hidden||t.unshift(o.dataset)}return t}function Fte(n,e,t){let r=[];for(let i=0;i<t.length;i++){let o=t[i],{first:s,last:a,point:c}=Lte(o,e,"x");if(!(!c||s&&a)){if(s)r.unshift(c);else if(n.push(c),!a)break}}n.push(...r)}function Lte(n,e,t){let r=n.interpolate(e,t);if(!r)return{};let i=r[t],o=n.segments,s=n.points,a=!1,c=!1;for(let l=0;l<o.length;l++){let u=o[l],h=s[u.start][t],f=s[u.end][t];if(Ci(i,h,f)){a=i===h,c=i===f;break}}return{first:a,last:c,point:r}}var Qv=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){let{x:i,y:o,radius:s}=this;return t=t||{start:0,end:tt},e.arc(i,o,s,t.end,t.start,!0),!r.bounds}interpolate(e){let{x:t,y:r,radius:i}=this,o=e.angle;return{x:t+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}};function Vte(n){let{chart:e,fill:t,line:r}=n;if(pt(t))return jte(e,t);if(t==="stack")return kte(n);if(t==="shape")return!0;let i=Ute(n);return i instanceof Qv?i:Oj(i,r)}function jte(n,e){let t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Ute(n){return(n.scale||{}).getPointPositionForValue?$te(n):Bte(n)}function Bte(n){let{scale:e={},fill:t}=n,r=Rte(t,e);if(pt(r)){let i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function $te(n){let{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,s=Pte(t,e,o),a=[];if(r.grid.circular){let c=e.getPointPositionForValue(0,o);return new Qv({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(s)})}for(let c=0;c<i;++c)a.push(e.getPointPositionForValue(c,s));return a}function cS(n,e,t){let r=Vte(e),{chart:i,index:o,line:s,scale:a,axis:c}=e,l=s.options,u=l.fill,h=l.backgroundColor,{above:f=h,below:p=h}=u||{},y=i.getDatasetMeta(o),v=ZT(i,y);r&&s.points.length&&(jh(n,t),Hte(n,{line:s,target:r,above:f,below:p,area:t,scale:a,axis:c,clip:v}),Uh(n))}function Hte(n,e){let{line:t,target:r,above:i,below:o,area:s,scale:a,clip:c}=e,l=t._loop?"angle":e.axis;n.save();let u=o;o!==i&&(l==="x"?(Z2(n,r,s.top),lS(n,{line:t,target:r,color:i,scale:a,property:l,clip:c}),n.restore(),n.save(),Z2(n,r,s.bottom)):l==="y"&&(J2(n,r,s.left),lS(n,{line:t,target:r,color:o,scale:a,property:l,clip:c}),n.restore(),n.save(),J2(n,r,s.right),u=i)),lS(n,{line:t,target:r,color:u,scale:a,property:l,clip:c}),n.restore()}function Z2(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],h=i[Jv(c,l,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(u.x,t),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(h.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function J2(n,e,t){let{segments:r,points:i}=e,o=!0,s=!1;n.beginPath();for(let a of r){let{start:c,end:l}=a,u=i[c],h=i[Jv(c,l,i)];o?(n.moveTo(u.x,u.y),o=!1):(n.lineTo(t,u.y),n.lineTo(u.x,u.y)),s=!!e.pathSegment(n,a,{move:s}),s?n.closePath():n.lineTo(t,h.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function lS(n,e){let{line:t,target:r,property:i,color:o,scale:s,clip:a}=e,c=Tte(t,r,i);for(let{source:l,target:u,start:h,end:f}of c){let{style:{backgroundColor:p=o}={}}=l,y=r!==!0;n.save(),n.fillStyle=p,zte(n,s,a,y&&CS(i,h,f)),n.beginPath();let v=!!t.pathSegment(n,l),_;if(y){v?n.closePath():ej(n,r,f,i);let S=!!r.pathSegment(n,u,{move:v,reverse:!0});_=v&&S,_||ej(n,r,h,i)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function zte(n,e,t,r){let i=e.chart.chartArea,{property:o,start:s,end:a}=r||{};if(o==="x"||o==="y"){let c,l,u,h;o==="x"?(c=s,l=i.top,u=a,h=i.bottom):(c=i.left,l=s,u=i.right,h=a),n.beginPath(),t&&(c=Math.max(c,t.left),u=Math.min(u,t.right),l=Math.max(l,t.top),h=Math.min(h,t.bottom)),n.rect(c,l,u-c,h-l),n.clip()}}function ej(n,e,t,r){let i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var qte={id:"filler",afterDatasetsUpdate(n,e,t){let r=(n.data.datasets||[]).length,i=[],o,s,a,c;for(s=0;s<r;++s)o=n.getDatasetMeta(s),a=o.dataset,c=null,a&&a.options&&a instanceof Zv&&(c={visible:n.isDatasetVisible(s),index:s,fill:Ate(a,s,r),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=c,i.push(c);for(s=0;s<r;++s)c=i[s],!(!c||c.fill===!1)&&(c.fill=xte(i,s,t.propagate))},beforeDraw(n,e,t){let r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let s=i.length-1;s>=0;--s){let a=i[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&cS(n.ctx,a,o))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;let r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){let o=r[i].$filler;X2(o)&&cS(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,e,t){let r=e.meta.$filler;!X2(r)||t.drawTime!=="beforeDatasetDraw"||cS(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},tj=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},Wte=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index,Xv=class extends qr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},t=Ye(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){let{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}let r=e.labels,i=Ot(r.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=tj(r,o),l,u;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(s,o,a,c)+10):(u=this.maxHeight,l=this._fitCols(s,i,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=i+a,h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((y,v)=>{let _=r+t/2+o.measureText(y.text).width;(v===0||l[l.length-1]+_+2*a>s)&&(h+=u,l[l.length-(v>0?0:1)]=0,p+=u,f++),c[v]={left:0,top:p,row:f,width:_,height:i},l[l.length-1]+=_+a}),h}_fitCols(e,t,r,i){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=s-e,h=a,f=0,p=0,y=0,v=0;return this.legendItems.forEach((_,S)=>{let{itemWidth:R,itemHeight:O}=Gte(r,t,o,_,i);S>0&&p+O+2*a>u&&(h+=f+a,l.push({width:f,height:p}),y+=f+a,v++,f=p=0),c[S]={left:y,top:p,col:v,width:R,height:O},f=Math.max(f,R),p+=O+a}),h+=f,l.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,s=Ga(o,this.left,this.width);if(this.isHorizontal()){let a=0,c=Jt(r,this.left+i,this.right-this.lineWidths[a]);for(let l of t)a!==l.row&&(a=l.row,c=Jt(r,this.left+i,this.right-this.lineWidths[a])),l.top+=this.top+e+i,l.left=s.leftForLtr(s.x(c),l.width),c+=l.width+i}else{let a=0,c=Jt(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(let l of t)l.col!==a&&(a=l.col,c=Jt(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),c+=l.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;jh(e,this),this._draw(),Uh(e)}}_draw(){let{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:s}=e,a=Qe.color,c=Ga(e.rtl,this.left,this.width),l=Ot(s.font),{padding:u}=s,h=l.size,f=h/2,p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;let{boxWidth:y,boxHeight:v,itemHeight:_}=tj(s,h),S=function(j,I,w){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;i.save();let E=ue(w.lineWidth,1);if(i.fillStyle=ue(w.fillStyle,a),i.lineCap=ue(w.lineCap,"butt"),i.lineDashOffset=ue(w.lineDashOffset,0),i.lineJoin=ue(w.lineJoin,"miter"),i.lineWidth=E,i.strokeStyle=ue(w.strokeStyle,a),i.setLineDash(ue(w.lineDash,[])),s.usePointStyle){let x={radius:v*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:E},M=c.xPlus(j,y/2),P=I+f;UT(i,x,M,P,s.pointStyleWidth&&y)}else{let x=I+Math.max((h-v)/2,0),M=c.leftForLtr(j,y),P=bs(w.borderRadius);i.beginPath(),Object.values(P).some(D=>D!==0)?Gl(i,{x:M,y:x,w:y,h:v,radius:P}):i.rect(M,x,y,v),i.fill(),E!==0&&i.stroke()}i.restore()},R=function(j,I,w){_s(i,w.text,j,I+_/2,l,{strikethrough:w.hidden,textAlign:c.textAlign(w.textAlign)})},O=this.isHorizontal(),V=this._computeTitleHeight();O?p={x:Jt(o,this.left+u,this.right-r[0]),y:this.top+u+V,line:0}:p={x:this.left+u,y:Jt(o,this.top+V+u,this.bottom-t[0].height),line:0},KT(this.ctx,e.textDirection);let L=_+u;this.legendItems.forEach((j,I)=>{i.strokeStyle=j.fontColor,i.fillStyle=j.fontColor;let w=i.measureText(j.text).width,E=c.textAlign(j.textAlign||(j.textAlign=s.textAlign)),x=y+f+w,M=p.x,P=p.y;c.setWidth(this.width),O?I>0&&M+x+u>this.right&&(P=p.y+=L,p.line++,M=p.x=Jt(o,this.left+u,this.right-r[p.line])):I>0&&P+L>this.bottom&&(M=p.x=M+t[p.line].width+u,p.line++,P=p.y=Jt(o,this.top+V+u,this.bottom-t[p.line].height));let D=c.x(M);if(S(D,P,j),M=t2(E,M+y+f,O?M+x:this.right,e.rtl),R(c.x(M),P,j),O)p.x+=x+u;else if(typeof j.text!="string"){let dt=l.lineHeight;p.y+=Fj(j,dt)+u}else p.y+=L}),YT(this.ctx,e.textDirection)}drawTitle(){let e=this.options,t=e.title,r=Ot(t.font),i=en(t.padding);if(!t.display)return;let o=Ga(e.rtl,this.left,this.width),s=this.ctx,a=t.position,c=r.size/2,l=i.top+c,u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+l,h=Jt(e.align,h,this.right-f);else{let y=this.columnSizes.reduce((v,_)=>Math.max(v,_.height),0);u=l+Jt(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}let p=Jt(a,h,h+f);s.textAlign=o.textAlign(Mv(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=r.string,_s(s,t.text,p,u,r)}_computeTitleHeight(){let e=this.options.title,t=Ot(e.font),r=en(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(Ci(e,this.left,this.right)&&Ci(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],Ci(e,i.left,i.left+i.width)&&Ci(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){let t=this.options;if(!Qte(e.type,t))return;let r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let i=this._hoveredItem,o=Wte(i,r);i&&!o&&Ye(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Ye(t.onHover,[e,r,this],this)}else r&&Ye(t.onClick,[e,r,this],this)}};function Gte(n,e,t,r,i){let o=Kte(r,n,e,t),s=Yte(i,r,e.lineHeight);return{itemWidth:o,itemHeight:s}}function Kte(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,s)=>o.length>s.length?o:s)),e+t.size/2+r.measureText(i).width}function Yte(n,e,t){let r=n;return typeof e.text!="string"&&(r=Fj(e,t)),r}function Fj(n,e){let t=n.text?n.text.length:0;return e*t}function Qte(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Xte={id:"legend",_element:Xv,start(n,e,t){let r=n.legend=new Xv({ctx:n.ctx,options:t,chart:n});hn.configure(n,r,t),hn.addBox(n,r)},stop(n){hn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){let r=n.legend;hn.configure(n,r,t),r.options=t},afterUpdate(n){let e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){let r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){let e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:s,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(t?0:void 0),u=en(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}},Yh=class extends qr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){let r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;let i=et(r.text)?r.text.length:1;this._padding=en(r.padding);let o=i*Ot(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:t,left:r,bottom:i,right:o,options:s}=this,a=s.align,c=0,l,u,h;return this.isHorizontal()?(u=Jt(a,r,o),h=t+e,l=o-r):(s.position==="left"?(u=r+e,h=Jt(a,i,t),c=Re*-.5):(u=o-e,h=Jt(a,t,i),c=Re*.5),l=i-t),{titleX:u,titleY:h,maxWidth:l,rotation:c}}draw(){let e=this.ctx,t=this.options;if(!t.display)return;let r=Ot(t.font),o=r.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(o);_s(e,t.text,0,0,r,{color:t.color,maxWidth:c,rotation:l,textAlign:Mv(t.align),textBaseline:"middle",translation:[s,a]})}};function Zte(n,e){let t=new Yh({ctx:n.ctx,options:e,chart:n});hn.configure(n,t,e),hn.addBox(n,t),n.titleBlock=t}var Jte={id:"title",_element:Yh,start(n,e,t){Zte(n,t)},stop(n){let e=n.titleBlock;hn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){let r=n.titleBlock;hn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Bv=new WeakMap,ene={id:"subtitle",start(n,e,t){let r=new Yh({ctx:n.ctx,options:t,chart:n});hn.configure(n,r,t),hn.addBox(n,r),Bv.set(n,r)},stop(n){hn.removeBox(n,Bv.get(n)),Bv.delete(n)},beforeUpdate(n,e,t){let r=Bv.get(n);hn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Gh={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){let a=n[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();r.add(c.x),i+=c.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((a,c)=>a+c)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=n.length;o<s;++o){let c=n[o].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=Dv(e,l);u<i&&(i=u,a=c)}}if(a){let c=a.tooltipPosition();t=c.x,r=c.y}return{x:t,y:r}}};function Di(n,e){return e&&(et(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function wo(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function tne(n,e){let{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:n,label:s,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function nj(n,e){let t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:s,boxHeight:a}=e,c=Ot(e.bodyFont),l=Ot(e.titleFont),u=Ot(e.footerFont),h=o.length,f=i.length,p=r.length,y=en(e.padding),v=y.height,_=0,S=r.reduce((V,L)=>V+L.before.length+L.lines.length+L.after.length,0);if(S+=n.beforeBody.length+n.afterBody.length,h&&(v+=h*l.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),S){let V=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;v+=p*V+(S-p)*c.lineHeight+(S-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let R=0,O=function(V){_=Math.max(_,t.measureText(V).width+R)};return t.save(),t.font=l.string,je(n.title,O),t.font=c.string,je(n.beforeBody.concat(n.afterBody),O),R=e.displayColors?s+2+e.boxPadding:0,je(r,V=>{je(V.before,O),je(V.lines,O),je(V.after,O)}),R=0,t.font=u.string,je(n.footer,O),t.restore(),_+=y.width,{width:_,height:v}}function nne(n,e){let{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function rne(n,e,t,r){let{x:i,width:o}=r,s=t.caretSize+t.caretPadding;if(n==="left"&&i+o+s>e.width||n==="right"&&i-o-s<0)return!0}function ine(n,e,t,r){let{x:i,width:o}=t,{width:s,chartArea:{left:a,right:c}}=n,l="center";return r==="center"?l=i<=(a+c)/2?"left":"right":i<=o/2?l="left":i>=s-o/2&&(l="right"),rne(l,n,e,t)&&(l="center"),l}function rj(n,e,t){let r=t.yAlign||e.yAlign||nne(n,t);return{xAlign:t.xAlign||e.xAlign||ine(n,e,t,r),yAlign:r}}function one(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function sne(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function ij(n,e,t,r){let{caretSize:i,caretPadding:o,cornerRadius:s}=n,{xAlign:a,yAlign:c}=t,l=i+o,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=bs(s),y=one(e,a),v=sne(e,c,l);return c==="center"?a==="left"?y+=l:a==="right"&&(y-=l):a==="left"?y-=Math.max(u,f)+i:a==="right"&&(y+=Math.max(h,p)+i),{x:$t(y,0,r.width-e.width),y:$t(v,0,r.height-e.height)}}function $v(n,e,t){let r=en(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function oj(n){return Di([],wo(n))}function ane(n,e,t){return _o(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sj(n,e){let t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}var Lj={beforeTitle:Ii,title(n){if(n.length>0){let e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Ii,beforeBody:Ii,beforeLabel:Ii,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");let t=n.formattedValue;return Ie(t)||(e+=t),e},labelColor(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){let t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Ii,afterBody:Ii,beforeFooter:Ii,footer:Ii,afterFooter:Ii};function Ln(n,e,t,r){let i=n[e].call(t,r);return typeof i>"u"?Lj[e].call(t,r):i}var aj=(()=>{class n extends qr{static positioners=Gh;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let r=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&r.options.animation&&i.animations,s=new Wv(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=ane(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,r){let{callbacks:i}=r,o=Ln(i,"beforeTitle",this,t),s=Ln(i,"title",this,t),a=Ln(i,"afterTitle",this,t),c=[];return c=Di(c,wo(o)),c=Di(c,wo(s)),c=Di(c,wo(a)),c}getBeforeBody(t,r){return oj(Ln(r.callbacks,"beforeBody",this,t))}getBody(t,r){let{callbacks:i}=r,o=[];return je(t,s=>{let a={before:[],lines:[],after:[]},c=sj(i,s);Di(a.before,wo(Ln(c,"beforeLabel",this,s))),Di(a.lines,Ln(c,"label",this,s)),Di(a.after,wo(Ln(c,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(t,r){return oj(Ln(r.callbacks,"afterBody",this,t))}getFooter(t,r){let{callbacks:i}=r,o=Ln(i,"beforeFooter",this,t),s=Ln(i,"footer",this,t),a=Ln(i,"afterFooter",this,t),c=[];return c=Di(c,wo(o)),c=Di(c,wo(s)),c=Di(c,wo(a)),c}_createItems(t){let r=this._active,i=this.chart.data,o=[],s=[],a=[],c=[],l,u;for(l=0,u=r.length;l<u;++l)c.push(tne(this.chart,r[l]));return t.filter&&(c=c.filter((h,f,p)=>t.filter(h,f,p,i))),t.itemSort&&(c=c.sort((h,f)=>t.itemSort(h,f,i))),je(c,h=>{let f=sj(t.callbacks,h);o.push(Ln(f,"labelColor",this,h)),s.push(Ln(f,"labelPointStyle",this,h)),a.push(Ln(f,"labelTextColor",this,h))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=c,c}update(t,r){let i=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let c=Gh[i.position].call(this,o,this._eventPosition);a=this._createItems(i),this.title=this.getTitle(a,i),this.beforeBody=this.getBeforeBody(a,i),this.body=this.getBody(a,i),this.afterBody=this.getAfterBody(a,i),this.footer=this.getFooter(a,i);let l=this._size=nj(this,i),u=Object.assign({},c,l),h=rj(this.chart,i,u),f=ij(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(t,r,i,o){let s=this.getCaretPosition(t,i,o);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(t,r,i){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:c}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:f}=bs(c),{x:p,y}=t,{width:v,height:_}=r,S,R,O,V,L,j;return s==="center"?(L=y+_/2,o==="left"?(S=p,R=S-a,V=L+a,j=L-a):(S=p+v,R=S+a,V=L-a,j=L+a),O=S):(o==="left"?R=p+Math.max(l,h)+a:o==="right"?R=p+v-Math.max(u,f)-a:R=this.caretX,s==="top"?(V=y,L=V-a,S=R-a,O=R+a):(V=y+_,L=V+a,S=R+a,O=R-a),j=V),{x1:S,x2:R,x3:O,y1:V,y2:L,y3:j}}drawTitle(t,r,i){let o=this.title,s=o.length,a,c,l;if(s){let u=Ga(i.rtl,this.x,this.width);for(t.x=$v(this,i.titleAlign,i),r.textAlign=u.textAlign(i.titleAlign),r.textBaseline="middle",a=Ot(i.titleFont),c=i.titleSpacing,r.fillStyle=i.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(o[l],u.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+c,l+1===s&&(t.y+=i.titleMarginBottom-c)}}_drawColorBox(t,r,i,o,s){let a=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,h=Ot(s.bodyFont),f=$v(this,"left",s),p=o.x(f),y=l<h.lineHeight?(h.lineHeight-l)/2:0,v=r.y+y;if(s.usePointStyle){let _={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},S=o.leftForLtr(p,u)+u/2,R=v+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Pv(t,_,S,R),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Pv(t,_,S,R)}else{t.lineWidth=De(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;let _=o.leftForLtr(p,u),S=o.leftForLtr(o.xPlus(p,1),u-2),R=bs(a.borderRadius);Object.values(R).some(O=>O!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,Gl(t,{x:_,y:v,w:u,h:l,radius:R}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Gl(t,{x:S,y:v+1,w:u-2,h:l-2,radius:R}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(_,v,u,l),t.strokeRect(_,v,u,l),t.fillStyle=a.backgroundColor,t.fillRect(S,v+1,u-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,r,i){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:h}=i,f=Ot(i.bodyFont),p=f.lineHeight,y=0,v=Ga(i.rtl,this.x,this.width),_=function(E){r.fillText(E,v.x(t.x+y),t.y+p/2),t.y+=p+s},S=v.textAlign(a),R,O,V,L,j,I,w;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,t.x=$v(this,S,i),r.fillStyle=i.bodyColor,je(this.beforeBody,_),y=c&&S!=="right"?a==="center"?u/2+h:u+2+h:0,L=0,I=o.length;L<I;++L){for(R=o[L],O=this.labelTextColors[L],r.fillStyle=O,je(R.before,_),V=R.lines,c&&V.length&&(this._drawColorBox(r,t,L,v,i),p=Math.max(f.lineHeight,l)),j=0,w=V.length;j<w;++j)_(V[j]),p=f.lineHeight;je(R.after,_)}y=0,p=f.lineHeight,je(this.afterBody,_),t.y-=s}drawFooter(t,r,i){let o=this.footer,s=o.length,a,c;if(s){let l=Ga(i.rtl,this.x,this.width);for(t.x=$v(this,i.footerAlign,i),t.y+=i.footerMarginTop,r.textAlign=l.textAlign(i.footerAlign),r.textBaseline="middle",a=Ot(i.footerFont),r.fillStyle=i.footerColor,r.font=a.string,c=0;c<s;++c)r.fillText(o[c],l.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+i.footerSpacing}}drawBackground(t,r,i,o){let{xAlign:s,yAlign:a}=this,{x:c,y:l}=t,{width:u,height:h}=i,{topLeft:f,topRight:p,bottomLeft:y,bottomRight:v}=bs(o.cornerRadius);r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,r.lineWidth=o.borderWidth,r.beginPath(),r.moveTo(c+f,l),a==="top"&&this.drawCaret(t,r,i,o),r.lineTo(c+u-p,l),r.quadraticCurveTo(c+u,l,c+u,l+p),a==="center"&&s==="right"&&this.drawCaret(t,r,i,o),r.lineTo(c+u,l+h-v),r.quadraticCurveTo(c+u,l+h,c+u-v,l+h),a==="bottom"&&this.drawCaret(t,r,i,o),r.lineTo(c+y,l+h),r.quadraticCurveTo(c,l+h,c,l+h-y),a==="center"&&s==="left"&&this.drawCaret(t,r,i,o),r.lineTo(c,l+f),r.quadraticCurveTo(c,l,c+f,l),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()}_updateAnimationTarget(t){let r=this.chart,i=this.$animations,o=i&&i.x,s=i&&i.y;if(o||s){let a=Gh[t.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=nj(this,t),l=Object.assign({},a,this._size),u=rj(r,t,l),h=ij(t,l,u,r);(o._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let r=this.options.setContext(this.getContext()),i=this.opacity;if(!i)return;this._updateAnimationTarget(r);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;let a=en(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,o,r),KT(t,r.textDirection),s.y+=a.top,this.drawTitle(s,t,r),this.drawBody(s,t,r),this.drawFooter(s,t,r),YT(t,r.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,r){let i=this._active,o=t.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),s=!Lh(i,o),a=this._positionChanged(o,r);(s||a)&&(this._active=o,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,r,i=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(t,s,r,i),c=this._positionChanged(a,t),l=r||!Lh(a,s)||c;return l&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,r))),l}_getActiveElements(t,r,i,o){let s=this.options;if(t.type==="mouseout")return[];if(!o)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&a.reverse(),a}_positionChanged(t,r){let{caretX:i,caretY:o,options:s}=this,a=Gh[s.position].call(this,t,r);return a!==!1&&(i!==a.x||o!==a.y)}}return n})(),cne={id:"tooltip",_element:aj,positioners:Gh,afterInit(n,e,t){t&&(n.tooltip=new aj({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){let e=n.tooltip;if(e&&e._willRender()){let t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",ie(z({},t),{cancelable:!0}))===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){let t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Lj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},lne=Object.freeze({__proto__:null,Colors:wte,Decimation:Dte,Filler:qte,Legend:Xte,SubTitle:ene,Title:Jte,Tooltip:cne}),une=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function dne(n,e,t,r){let i=n.indexOf(e);if(i===-1)return une(n,e,t,r);let o=n.lastIndexOf(e);return i!==o?t:i}var hne=(n,e)=>n===null?null:$t(Math.round(n),0,e);function cj(n){let e=this.getLabels();return n>=0&&n<e.length?e[n]:n}var fne=(()=>{class n extends Qa{static id="category";static defaults={ticks:{callback:cj}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let r=this._addedLabels;if(r.length){let i=this.getLabels();for(let{index:o,label:s}of r)i[o]===s&&i.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,r){if(Ie(t))return null;let i=this.getLabels();return r=isFinite(r)&&i[r]===t?r:dne(i,t,ue(r,t),this._addedLabels),hne(r,i.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),r||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){let t=this.min,r=this.max,i=this.options.offset,o=[],s=this.getLabels();s=t===0&&r===s.length-1?s:s.slice(t,r+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let a=t;a<=r;a++)o.push({value:a});return o}getLabelForValue(t){return cj.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let r=this.ticks;return t<0||t>r.length-1?null:this.getPixelForValue(r[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}return n})();function pne(n,e){let t=[],{bounds:i,step:o,min:s,max:a,precision:c,count:l,maxTicks:u,maxDigits:h,includeBounds:f}=n,p=o||1,y=u-1,{min:v,max:_}=e,S=!Ie(s),R=!Ie(a),O=!Ie(l),V=(_-v)/(h+1),L=ST((_-v)/y/p)*p,j,I,w,E;if(L<1e-14&&!S&&!R)return[{value:v},{value:_}];E=Math.ceil(_/L)-Math.floor(v/L),E>y&&(L=ST(E*L/y/p)*p),Ie(c)||(j=Math.pow(10,c),L=Math.ceil(L*j)/j),i==="ticks"?(I=Math.floor(v/L)*L,w=Math.ceil(_/L)*L):(I=v,w=_),S&&R&&o&&KV((a-s)/o,L/1e3)?(E=Math.round(Math.min((a-s)/L,u)),L=(a-s)/E,I=s,w=a):O?(I=S?s:I,w=R?a:w,E=l-1,L=(w-I)/E):(E=(w-I)/L,zl(E,Math.round(E),L/1e3)?E=Math.round(E):E=Math.ceil(E));let x=Math.max(AT(L),AT(I));j=Math.pow(10,Ie(c)?x:c),I=Math.round(I*j)/j,w=Math.round(w*j)/j;let M=0;for(S&&(f&&I!==s?(t.push({value:s}),I<s&&M++,zl(Math.round((I+M*L)*j)/j,s,lj(s,V,n))&&M++):I<s&&M++);M<E;++M){let P=Math.round((I+M*L)*j)/j;if(R&&P>a)break;t.push({value:P})}return R&&f&&w!==a?t.length&&zl(t[t.length-1].value,a,lj(a,V,n))?t[t.length-1].value=a:t.push({value:a}):(!R||w===a)&&t.push({value:w}),t}function lj(n,e,{horizontal:t,minRotation:r}){let i=vr(r),o=(t?Math.sin(i):Math.cos(i))||.001,s=.75*e*(""+n).length;return Math.min(e/o,s)}var Xl=class extends Qa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ie(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds(),{min:i,max:o}=this,s=c=>i=t?i:c,a=c=>o=r?o:c;if(e){let c=zr(i),l=zr(o);c<0&&l<0?a(0):c>0&&l>0&&s(0)}if(i===o){let c=o===0?1:Math.abs(o*.05);a(o+c),e||s(i-c)}this.min=i,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,t=e.ticks,r=this.getTickLimit();r=Math.max(2,r);let i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,s=pne(i,o);return e.bounds==="ticks"&&xT(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){let i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return Wl(e,this.chart.options.locale,this.options.ticks.format)}},DS=class extends Xl{static id="linear";static defaults={ticks:{callback:Vh.formatters.numeric}};determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pt(e)?e:0,this.max=pt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),t=e?this.width:this.height,r=vr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Qh=n=>Math.floor(yo(n)),Ya=(n,e)=>Math.pow(10,Qh(n)+e);function uj(n){return n/Math.pow(10,Qh(n))===1}function dj(n,e,t){let r=Math.pow(10,t),i=Math.floor(n/r);return Math.ceil(e/r)-i}function gne(n,e){let t=e-n,r=Qh(t);for(;dj(n,e,r)>10;)r++;for(;dj(n,e,r)<10;)r--;return Math.min(r,Qh(n))}function mne(n,{min:e,max:t}){e=Fn(n.min,e);let r=[],i=Qh(e),o=gne(e,t),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),c=i>o?Math.pow(10,i):0,l=Math.round((e-c)*s)/s,u=Math.floor((e-c)/a/10)*a*10,h=Math.floor((l-u)/Math.pow(10,o)),f=Fn(n.min,Math.round((c+u+h*Math.pow(10,o))*s)/s);for(;f<t;)r.push({value:f,major:uj(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,s=o>=0?1:s),f=Math.round((c+u+h*Math.pow(10,o))*s)/s;let p=Fn(n.max,f);return r.push({value:p,major:uj(p),significand:h}),r}var TS=class extends Qa{static id="logarithmic";static defaults={ticks:{callback:Vh.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){let r=Xl.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return pt(r)&&r>0?r:null}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!0);this.min=pt(e)?Math.max(0,e):null,this.max=pt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pt(this._userMin)&&(this.min=e===Ya(this.min,0)?Ya(this.min,-1):Ya(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:t}=this.getUserBounds(),r=this.min,i=this.max,o=a=>r=e?r:a,s=a=>i=t?i:a;r===i&&(r<=0?(o(1),s(10)):(o(Ya(r,-1)),s(Ya(i,1)))),r<=0&&o(Ya(i,-1)),i<=0&&s(Ya(r,1)),this.min=r,this.max=i}buildTicks(){let e=this.options,t={min:this._userMin,max:this._userMax},r=mne(t,this);return e.bounds==="ticks"&&xT(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Wl(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=yo(e),this._valueRange=yo(this.max)-yo(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(yo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}};function SS(n){let e=n.ticks;if(e.display&&n.display){let t=en(e.backdropPadding);return ue(e.font&&e.font.size,Qe.font.size)+t.height}return 0}function yne(n,e,t){return t=et(t)?t:[t],{w:r2(n,e.string,t),h:t.length*e.lineHeight}}function hj(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function vne(n){let e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],o=n._pointLabels.length,s=n.options.pointLabels,a=s.centerPointLabels?Re/o:0;for(let c=0;c<o;c++){let l=s.setContext(n.getPointLabelContext(c));i[c]=l.padding;let u=n.getPointPosition(c,n.drawingArea+i[c],a),h=Ot(l.font),f=yne(n.ctx,h,n._pointLabels[c]);r[c]=f;let p=Zt(n.getIndexAngle(c)+a),y=Math.round(xv(p)),v=hj(y,u.x,f.w,0,180),_=hj(y,u.y,f.h,90,270);_ne(t,e,p,v,_)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=Ene(n,r,i)}function _ne(n,e,t,r,i){let o=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),a=0,c=0;r.start<e.l?(a=(e.l-r.start)/o,n.l=Math.min(n.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/o,n.r=Math.max(n.r,e.r+a)),i.start<e.t?(c=(e.t-i.start)/s,n.t=Math.min(n.t,e.t-c)):i.end>e.b&&(c=(i.end-e.b)/s,n.b=Math.max(n.b,e.b+c))}function bne(n,e,t){let r=n.drawingArea,{extra:i,additionalAngle:o,padding:s,size:a}=t,c=n.getPointPosition(e,r+i+s,o),l=Math.round(xv(Zt(c.angle+wt))),u=Dne(c.y,a.h,l),h=Ine(l),f=Cne(c.x,a.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function wne(n,e){if(!e)return!0;let{left:t,top:r,right:i,bottom:o}=n;return!(Ei({x:t,y:r},e)||Ei({x:t,y:o},e)||Ei({x:i,y:r},e)||Ei({x:i,y:o},e))}function Ene(n,e,t){let r=[],i=n._pointLabels.length,o=n.options,{centerPointLabels:s,display:a}=o.pointLabels,c={extra:SS(o)/2,additionalAngle:s?Re/i:0},l;for(let u=0;u<i;u++){c.padding=t[u],c.size=e[u];let h=bne(n,u,c);r.push(h),a==="auto"&&(h.visible=wne(h,l),h.visible&&(l=h))}return r}function Ine(n){return n===0||n===180?"center":n<180?"left":"right"}function Cne(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function Dne(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function Tne(n,e,t){let{left:r,top:i,right:o,bottom:s}=t,{backdropColor:a}=e;if(!Ie(a)){let c=bs(e.borderRadius),l=en(e.backdropPadding);n.fillStyle=a;let u=r-l.left,h=i-l.top,f=o-r+l.width,p=s-i+l.height;Object.values(c).some(y=>y!==0)?(n.beginPath(),Gl(n,{x:u,y:h,w:f,h:p,radius:c}),n.fill()):n.fillRect(u,h,f,p)}}function Sne(n,e){let{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){let o=n._pointLabelItems[i];if(!o.visible)continue;let s=r.setContext(n.getPointLabelContext(i));Tne(t,s,o);let a=Ot(s.font),{x:c,y:l,textAlign:u}=o;_s(t,n._pointLabels[i],c,l+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function Vj(n,e,t,r){let{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,tt);else{let o=n.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let s=1;s<r;s++)o=n.getPointPosition(s,e),i.lineTo(o.x,o.y)}}function xne(n,e,t,r,i){let o=n.ctx,s=e.circular,{color:a,lineWidth:c}=e;!s&&!r||!a||!c||t<0||(o.save(),o.strokeStyle=a,o.lineWidth=c,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Vj(n,t,s,r),o.closePath(),o.stroke(),o.restore())}function Ane(n,e,t){return _o(n,{label:t,index:e,type:"pointLabel"})}var xS=class extends Xl{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=en(SS(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){let{min:e,max:t}=this.getMinMax(!1);this.min=pt(e)&&!isNaN(e)?e:0,this.max=pt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/SS(this.options))}generateTickLabels(e){Xl.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{let i=Ye(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){let e=this.options;e.display&&e.pointLabels.display?vne(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){let t=tt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Zt(e*t+vr(r))}getDistanceFromCenterForValue(e){if(Ie(e))return NaN;let t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ie(e))return NaN;let t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){let t=this._pointLabels||[];if(e>=0&&e<t.length){let r=t[e];return Ane(this.getContext(),e,r)}}getPointPosition(e,t,r=0){let i=this.getIndexAngle(e)-wt+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:t,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:t}}=this.options;if(e){let r=this.ctx;r.save(),r.beginPath(),Vj(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){let e=this.ctx,t=this.options,{angleLines:r,grid:i,border:o}=t,s=this._pointLabels.length,a,c,l;if(t.pointLabels.display&&Sne(this,s),i.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let f=this.getContext(h),p=i.setContext(f),y=o.setContext(f);xne(this,p,c,s,y)}}),r.display){for(e.save(),a=s-1;a>=0;a--){let u=r.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;let i=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!t.reverse)return;let l=r.setContext(this.getContext(c)),u=Ot(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let h=en(l.backdropPadding);e.fillRect(-s/2-h.left,-o-u.size/2-h.top,s+h.width,u.size+h.height)}_s(e,a.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},e_={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(e_);function fj(n,e){return n-e}function pj(n,e){if(Ie(e))return null;let t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts,s=e;return typeof r=="function"&&(s=r(s)),pt(s)||(s=typeof r=="string"?t.parse(s,r):t.parse(s)),s===null?null:(i&&(s=i==="week"&&(Wa(o)||o===!0)?t.startOf(s,"isoWeek",o):t.startOf(s,i)),+s)}function gj(n,e,t,r){let i=Vn.length;for(let o=Vn.indexOf(n);o<i-1;++o){let s=e_[Vn[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((t-e)/(a*s.size))<=r)return Vn[o]}return Vn[i-1]}function Mne(n,e,t,r,i){for(let o=Vn.length-1;o>=Vn.indexOf(t);o--){let s=Vn[o];if(e_[s].common&&n._adapter.diff(i,r,s)>=e-1)return s}return Vn[t?Vn.indexOf(t):0]}function Rne(n){for(let e=Vn.indexOf(n)+1,t=Vn.length;e<t;++e)if(e_[Vn[e]].common)return Vn[e]}function mj(n,e,t){if(!t)n[e]=!0;else if(t.length){let{lo:r,hi:i}=Av(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function Pne(n,e,t,r){let i=n._adapter,o=+i.startOf(e[0].value,r),s=e[e.length-1].value,a,c;for(a=o;a<=s;a=+i.add(a,1,r))c=t[a],c>=0&&(e[c].major=!0);return e}function yj(n,e,t){let r=[],i={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],i[a]=s,r.push({value:a,major:!1});return o===0||!t?r:Pne(n,r,i,t)}var AS=(()=>{class n extends Qa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,r={}){let i=t.time||(t.time={}),o=this._adapter=new HJ._date(t.adapters.date);o.init(r),$l(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=r.normalized}parse(t,r){return t===void 0?null:pj(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,r=this._adapter,i=t.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!c&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),o=pt(o)&&!isNaN(o)?o:+r.startOf(Date.now(),i),s=pt(s)&&!isNaN(s)?s:+r.endOf(Date.now(),i)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let t=this.getLabelTimestamps(),r=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(r=t[0],i=t[t.length-1]),{min:r,max:i}}buildTicks(){let t=this.options,r=t.time,i=t.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,c=XV(o,s,a);return this._unit=r.unit||(i.autoSkip?gj(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):Mne(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Rne(this._unit),this.initOffsets(o),t.reverse&&c.reverse(),yj(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r=0,i=0,o,s;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?r=1-o:r=(this.getDecimalForValue(t[1])-o)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?i=s:i=(s-this.getDecimalForValue(t[t.length-2]))/2);let a=t.length<3?.5:.25;r=$t(r,0,a),i=$t(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){let t=this._adapter,r=this.min,i=this.max,o=this.options,s=o.time,a=s.unit||gj(s.minUnit,r,i,this._getLabelCapacity(r)),c=ue(o.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=Wa(l)||l===!0,h={},f=r,p,y;if(u&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,u?"day":a),t.diff(i,r,a)>1e5*c)throw new Error(r+" and "+i+" are too far apart with stepSize of "+c+" "+a);let v=o.ticks.source==="data"&&this.getDataTimestamps();for(p=f,y=0;p<i;p=+t.add(p,c,a),y++)mj(h,p,v);return(p===i||o.bounds==="ticks"||y===1)&&mj(h,p,v),Object.keys(h).sort(fj).map(_=>+_)}getLabelForValue(t){let r=this._adapter,i=this.options.time;return i.tooltipFormat?r.format(t,i.tooltipFormat):r.format(t,i.displayFormats.datetime)}format(t,r){let o=this.options.time.displayFormats,s=this._unit,a=r||o[s];return this._adapter.format(t,a)}_tickFormatFunction(t,r,i,o){let s=this.options,a=s.ticks.callback;if(a)return Ye(a,[t,r,i],this);let c=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&c[l],f=u&&c[u],p=i[r],y=u&&f&&p&&p.major;return this._adapter.format(t,o||(y?f:h))}generateTickLabels(t){let r,i,o;for(r=0,i=t.length;r<i;++r)o=t[r],o.label=this._tickFormatFunction(o.value,r,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let r=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((r.start+i)*r.factor)}getValueForPixel(t){let r=this._offsets,i=this.getDecimalForPixel(t)/r.factor-r.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){let r=this.options.ticks,i=this.ctx.measureText(t).width,o=vr(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(o),a=Math.sin(o),c=this._resolveTickFontOptions(0).size;return{w:i*s+c*a,h:i*a+c*s}}_getLabelCapacity(t){let r=this.options.time,i=r.displayFormats,o=i[r.unit]||i.millisecond,s=this._tickFormatFunction(t,0,yj(this,[t],this._majorUnit),o),a=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],r,i;if(t.length)return t;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(r=0,i=o.length;r<i;++r)t=t.concat(o[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],r,i;if(t.length)return t;let o=this.getLabels();for(r=0,i=o.length;r<i;++r)t.push(pj(this,o[r]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return PT(t.sort(fj))}}return n})();function Hv(n,e,t){let r=0,i=n.length-1,o,s,a,c;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=wi(n,"pos",e)),{pos:o,time:a}=n[r],{pos:s,time:c}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=wi(n,"time",e)),{time:o,pos:a}=n[r],{time:s,pos:c}=n[i]);let l=s-o;return l?a+(c-a)*(e-o)/l:a}var MS=class extends AS{static id="timeseries";static defaults=AS.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Hv(t,this.min),this._tableRange=Hv(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:t,max:r}=this,i=[],o=[],s,a,c,l,u;for(s=0,a=e.length;s<a;++s)l=e[s],l>=t&&l<=r&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(s=0,a=i.length;s<a;++s)u=i[s+1],c=i[s-1],l=i[s],Math.round((u+c)/2)!==l&&o.push({time:l,pos:s/(a-1)});return o}_generate(){let e=this.min,t=this.max,r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Hv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Hv(this._table,r*this._tableRange+this._minPos,!0)}},Nne=Object.freeze({__proto__:null,CategoryScale:fne,LinearScale:DS,LogarithmicScale:TS,RadialLinearScale:xS,TimeScale:AS,TimeSeriesScale:MS}),PS=[$J,pte,lne,Nne];var kne=typeof global=="object"&&global&&global.Object===Object&&global,t_=kne;var One=typeof self=="object"&&self&&self.Object===Object&&self,Fne=t_||One||Function("return this")(),_r=Fne;var Lne=_r.Symbol,Jl=Lne;var jj=Object.prototype,Vne=jj.hasOwnProperty,jne=jj.toString,Zh=Jl?Jl.toStringTag:void 0;function Une(n){var e=Vne.call(n,Zh),t=n[Zh];try{n[Zh]=void 0;var r=!0}catch{}var i=jne.call(n);return r&&(e?n[Zh]=t:delete n[Zh]),i}var Uj=Une;var Bne=Object.prototype,$ne=Bne.toString;function Hne(n){return $ne.call(n)}var Bj=Hne;var zne="[object Null]",qne="[object Undefined]",$j=Jl?Jl.toStringTag:void 0;function Wne(n){return n==null?n===void 0?qne:zne:$j&&$j in Object(n)?Uj(n):Bj(n)}var Cs=Wne;function Gne(n){return n!=null&&typeof n=="object"}var Si=Gne;var Kne=Array.isArray,Jh=Kne;function Yne(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var jn=Yne;function Qne(n){return n}var n_=Qne;var Xne="[object AsyncFunction]",Zne="[object Function]",Jne="[object GeneratorFunction]",ere="[object Proxy]";function tre(n){if(!jn(n))return!1;var e=Cs(n);return e==Zne||e==Jne||e==Xne||e==ere}var eu=tre;var nre=_r["__core-js_shared__"],r_=nre;var Hj=function(){var n=/[^.]+$/.exec(r_&&r_.keys&&r_.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function rre(n){return!!Hj&&Hj in n}var zj=rre;var ire=Function.prototype,ore=ire.toString;function sre(n){if(n!=null){try{return ore.call(n)}catch{}try{return n+""}catch{}}return""}var qj=sre;var are=/[\\^$.*+?()[\]{}|]/g,cre=/^\[object .+?Constructor\]$/,lre=Function.prototype,ure=Object.prototype,dre=lre.toString,hre=ure.hasOwnProperty,fre=RegExp("^"+dre.call(hre).replace(are,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pre(n){if(!jn(n)||zj(n))return!1;var e=eu(n)?fre:cre;return e.test(qj(n))}var Wj=pre;function gre(n,e){return n?.[e]}var Gj=gre;function mre(n,e){var t=Gj(n,e);return Wj(t)?t:void 0}var tu=mre;var Kj=Object.create,yre=function(){function n(){}return function(e){if(!jn(e))return{};if(Kj)return Kj(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),Yj=yre;function vre(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var Qj=vre;function _re(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Xj=_re;var bre=800,wre=16,Ere=Date.now;function Ire(n){var e=0,t=0;return function(){var r=Ere(),i=wre-(r-t);if(t=r,i>0){if(++e>=bre)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var Zj=Ire;function Cre(n){return function(){return n}}var Jj=Cre;var Dre=function(){try{var n=tu(Object,"defineProperty");return n({},"",{}),n}catch{}}(),nu=Dre;var Tre=nu?function(n,e){return nu(n,"toString",{configurable:!0,enumerable:!1,value:Jj(e),writable:!0})}:n_,eU=Tre;var Sre=Zj(eU),tU=Sre;var xre=9007199254740991,Are=/^(?:0|[1-9]\d*)$/;function Mre(n,e){var t=typeof n;return e=e??xre,!!e&&(t=="number"||t!="symbol"&&Are.test(n))&&n>-1&&n%1==0&&n<e}var i_=Mre;function Rre(n,e,t){e=="__proto__"&&nu?nu(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var ru=Rre;function Pre(n,e){return n===e||n!==n&&e!==e}var Ds=Pre;var Nre=Object.prototype,kre=Nre.hasOwnProperty;function Ore(n,e,t){var r=n[e];(!(kre.call(n,e)&&Ds(r,t))||t===void 0&&!(e in n))&&ru(n,e,t)}var nU=Ore;function Fre(n,e,t,r){var i=!t;t||(t={});for(var o=-1,s=e.length;++o<s;){var a=e[o],c=r?r(t[a],n[a],a,t,n):void 0;c===void 0&&(c=n[a]),i?ru(t,a,c):nU(t,a,c)}return t}var rU=Fre;var iU=Math.max;function Lre(n,e,t){return e=iU(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=iU(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=t(s),Qj(n,this,a)}}var oU=Lre;function Vre(n,e){return tU(oU(n,e,n_),n+"")}var sU=Vre;var jre=9007199254740991;function Ure(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jre}var o_=Ure;function Bre(n){return n!=null&&o_(n.length)&&!eu(n)}var iu=Bre;function $re(n,e,t){if(!jn(t))return!1;var r=typeof e;return(r=="number"?iu(t)&&i_(e,t.length):r=="string"&&e in t)?Ds(t[e],n):!1}var aU=$re;function Hre(n){return sU(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,s&&aU(t[0],t[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var a=t[r];a&&n(e,a,r,o)}return e})}var cU=Hre;var zre=Object.prototype;function qre(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||zre;return n===t}var s_=qre;function Wre(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var lU=Wre;var Gre="[object Arguments]";function Kre(n){return Si(n)&&Cs(n)==Gre}var NS=Kre;var uU=Object.prototype,Yre=uU.hasOwnProperty,Qre=uU.propertyIsEnumerable,Xre=NS(function(){return arguments}())?NS:function(n){return Si(n)&&Yre.call(n,"callee")&&!Qre.call(n,"callee")},ef=Xre;function Zre(){return!1}var dU=Zre;var pU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hU=pU&&typeof module=="object"&&module&&!module.nodeType&&module,Jre=hU&&hU.exports===pU,fU=Jre?_r.Buffer:void 0,eie=fU?fU.isBuffer:void 0,tie=eie||dU,a_=tie;var nie="[object Arguments]",rie="[object Array]",iie="[object Boolean]",oie="[object Date]",sie="[object Error]",aie="[object Function]",cie="[object Map]",lie="[object Number]",uie="[object Object]",die="[object RegExp]",hie="[object Set]",fie="[object String]",pie="[object WeakMap]",gie="[object ArrayBuffer]",mie="[object DataView]",yie="[object Float32Array]",vie="[object Float64Array]",_ie="[object Int8Array]",bie="[object Int16Array]",wie="[object Int32Array]",Eie="[object Uint8Array]",Iie="[object Uint8ClampedArray]",Cie="[object Uint16Array]",Die="[object Uint32Array]",ot={};ot[yie]=ot[vie]=ot[_ie]=ot[bie]=ot[wie]=ot[Eie]=ot[Iie]=ot[Cie]=ot[Die]=!0;ot[nie]=ot[rie]=ot[gie]=ot[iie]=ot[mie]=ot[oie]=ot[sie]=ot[aie]=ot[cie]=ot[lie]=ot[uie]=ot[die]=ot[hie]=ot[fie]=ot[pie]=!1;function Tie(n){return Si(n)&&o_(n.length)&&!!ot[Cs(n)]}var gU=Tie;function Sie(n){return function(e){return n(e)}}var mU=Sie;var yU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,tf=yU&&typeof module=="object"&&module&&!module.nodeType&&module,xie=tf&&tf.exports===yU,kS=xie&&t_.process,Aie=function(){try{var n=tf&&tf.require&&tf.require("util").types;return n||kS&&kS.binding&&kS.binding("util")}catch{}}(),OS=Aie;var vU=OS&&OS.isTypedArray,Mie=vU?mU(vU):gU,c_=Mie;var Rie=Object.prototype,Pie=Rie.hasOwnProperty;function Nie(n,e){var t=Jh(n),r=!t&&ef(n),i=!t&&!r&&a_(n),o=!t&&!r&&!i&&c_(n),s=t||r||i||o,a=s?lU(n.length,String):[],c=a.length;for(var l in n)(e||Pie.call(n,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||i_(l,c)))&&a.push(l);return a}var _U=Nie;function kie(n,e){return function(t){return n(e(t))}}var bU=kie;function Oie(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var wU=Oie;var Fie=Object.prototype,Lie=Fie.hasOwnProperty;function Vie(n){if(!jn(n))return wU(n);var e=s_(n),t=[];for(var r in n)r=="constructor"&&(e||!Lie.call(n,r))||t.push(r);return t}var EU=Vie;function jie(n){return iu(n)?_U(n,!0):EU(n)}var l_=jie;var Uie=tu(Object,"create"),Eo=Uie;function Bie(){this.__data__=Eo?Eo(null):{},this.size=0}var IU=Bie;function $ie(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var CU=$ie;var Hie="__lodash_hash_undefined__",zie=Object.prototype,qie=zie.hasOwnProperty;function Wie(n){var e=this.__data__;if(Eo){var t=e[n];return t===Hie?void 0:t}return qie.call(e,n)?e[n]:void 0}var DU=Wie;var Gie=Object.prototype,Kie=Gie.hasOwnProperty;function Yie(n){var e=this.__data__;return Eo?e[n]!==void 0:Kie.call(e,n)}var TU=Yie;var Qie="__lodash_hash_undefined__";function Xie(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Eo&&e===void 0?Qie:e,this}var SU=Xie;function ou(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ou.prototype.clear=IU;ou.prototype.delete=CU;ou.prototype.get=DU;ou.prototype.has=TU;ou.prototype.set=SU;var FS=ou;function Zie(){this.__data__=[],this.size=0}var xU=Zie;function Jie(n,e){for(var t=n.length;t--;)if(Ds(n[t][0],e))return t;return-1}var Ts=Jie;var eoe=Array.prototype,toe=eoe.splice;function noe(n){var e=this.__data__,t=Ts(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():toe.call(e,t,1),--this.size,!0}var AU=noe;function roe(n){var e=this.__data__,t=Ts(e,n);return t<0?void 0:e[t][1]}var MU=roe;function ioe(n){return Ts(this.__data__,n)>-1}var RU=ioe;function ooe(n,e){var t=this.__data__,r=Ts(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var PU=ooe;function su(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}su.prototype.clear=xU;su.prototype.delete=AU;su.prototype.get=MU;su.prototype.has=RU;su.prototype.set=PU;var Ss=su;var soe=tu(_r,"Map"),u_=soe;function aoe(){this.size=0,this.__data__={hash:new FS,map:new(u_||Ss),string:new FS}}var NU=aoe;function coe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var kU=coe;function loe(n,e){var t=n.__data__;return kU(e)?t[typeof e=="string"?"string":"hash"]:t.map}var xs=loe;function uoe(n){var e=xs(this,n).delete(n);return this.size-=e?1:0,e}var OU=uoe;function doe(n){return xs(this,n).get(n)}var FU=doe;function hoe(n){return xs(this,n).has(n)}var LU=hoe;function foe(n,e){var t=xs(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var VU=foe;function au(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}au.prototype.clear=NU;au.prototype.delete=OU;au.prototype.get=FU;au.prototype.has=LU;au.prototype.set=VU;var jU=au;var poe=bU(Object.getPrototypeOf,Object),d_=poe;var goe="[object Object]",moe=Function.prototype,yoe=Object.prototype,UU=moe.toString,voe=yoe.hasOwnProperty,_oe=UU.call(Object);function boe(n){if(!Si(n)||Cs(n)!=goe)return!1;var e=d_(n);if(e===null)return!0;var t=voe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&UU.call(t)==_oe}var BU=boe;function woe(){this.__data__=new Ss,this.size=0}var $U=woe;function Eoe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var HU=Eoe;function Ioe(n){return this.__data__.get(n)}var zU=Ioe;function Coe(n){return this.__data__.has(n)}var qU=Coe;var Doe=200;function Toe(n,e){var t=this.__data__;if(t instanceof Ss){var r=t.__data__;if(!u_||r.length<Doe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new jU(r)}return t.set(n,e),this.size=t.size,this}var WU=Toe;function cu(n){var e=this.__data__=new Ss(n);this.size=e.size}cu.prototype.clear=$U;cu.prototype.delete=HU;cu.prototype.get=zU;cu.prototype.has=qU;cu.prototype.set=WU;var GU=cu;var XU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,KU=XU&&typeof module=="object"&&module&&!module.nodeType&&module,Soe=KU&&KU.exports===XU,YU=Soe?_r.Buffer:void 0,QU=YU?YU.allocUnsafe:void 0;function xoe(n,e){if(e)return n.slice();var t=n.length,r=QU?QU(t):new n.constructor(t);return n.copy(r),r}var ZU=xoe;var Aoe=_r.Uint8Array,LS=Aoe;function Moe(n){var e=new n.constructor(n.byteLength);return new LS(e).set(new LS(n)),e}var JU=Moe;function Roe(n,e){var t=e?JU(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var eB=Roe;function Poe(n){return typeof n.constructor=="function"&&!s_(n)?Yj(d_(n)):{}}var tB=Poe;function Noe(n){return function(e,t,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var c=s[n?a:++i];if(t(o[c],c,o)===!1)break}return e}}var nB=Noe;var koe=nB(),rB=koe;function Ooe(n,e,t){(t!==void 0&&!Ds(n[e],t)||t===void 0&&!(e in n))&&ru(n,e,t)}var nf=Ooe;function Foe(n){return Si(n)&&iu(n)}var iB=Foe;function Loe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var rf=Loe;function Voe(n){return rU(n,l_(n))}var oB=Voe;function joe(n,e,t,r,i,o,s){var a=rf(n,t),c=rf(e,t),l=s.get(c);if(l){nf(n,t,l);return}var u=o?o(a,c,t+"",n,e,s):void 0,h=u===void 0;if(h){var f=Jh(c),p=!f&&a_(c),y=!f&&!p&&c_(c);u=c,f||p||y?Jh(a)?u=a:iB(a)?u=Xj(a):p?(h=!1,u=ZU(c,!0)):y?(h=!1,u=eB(c,!0)):u=[]:BU(c)||ef(c)?(u=a,ef(a)?u=oB(a):(!jn(a)||eu(a))&&(u=tB(c))):h=!1}h&&(s.set(c,u),i(u,c,r,o,s),s.delete(c)),nf(n,t,u)}var sB=joe;function aB(n,e,t,r,i){n!==e&&rB(e,function(o,s){if(i||(i=new GU),jn(o))sB(n,e,s,t,aB,r,i);else{var a=r?r(rf(n,s),o,s+"",n,e,i):void 0;a===void 0&&(a=o),nf(n,s,a)}},l_)}var cB=aB;var Uoe=cU(function(n,e,t){cB(n,e,t)}),VS=Uoe;var Boe=new G("Configuration for ngCharts");var $oe=(()=>{class n{constructor(){this.colorschemesOptions=new Lt(void 0)}setColorschemesOptions(t){this.pColorschemesOptions=t,this.colorschemesOptions.next(t)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lB=(()=>{class n{constructor(t,r,i,o){this.zone=r,this.themeService=i,this.type="bar",this.plugins=[],this.chartClick=new Be,this.chartHover=new Be,this.subs=[],this.themeOverrides={},o?.registerables&&Zl.register(...o.registerables),o?.defaults&&Qe.set(o.defaults),this.ctx=t.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(tp()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(t){let r=["type"],i=Object.getOwnPropertyNames(t);if(i.some(o=>r.includes(o))||i.every(o=>t[o].isFirstChange()))this.render();else{let o=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,o.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,o.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,o.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(t=>t.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new Zl(this.ctx,this.getChartConfiguration()))}update(t){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(t))}hideDataset(t,r){this.chart&&(this.chart.getDatasetMeta(t).hidden=r,this.update())}isDatasetHidden(t){return this.chart?.getDatasetMeta(t)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(t){this.themeOverrides=t,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return VS({onHover:(t,r)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:t,active:r}))},onClick:(t,r)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:t,active:r}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(r){return new(r||n)(q(_n),q(Ae),q($oe),q(Boe,8))}}static{this.\u0275dir=Ge({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[xn]})}}return n})();var h_=class n{http=U(ii);base="https://julieta_denise_rojas-apialed.mdbgo.io/api/reportes";getVentas(e){return Nu(this.http.get(`${this.base}/ventas?rango=${e}`))}getDolarSemanal(){return Nu(this.http.get(`${this.base}/dolar-semanal`))}getTopProductos(){return Nu(this.http.get(`${this.base}/top-productos`))}exportCSVFacturas(){this.http.get(`${this.base}/facturas-csv`,{responseType:"blob"}).subscribe(e=>{let t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="facturas.csv",r.click(),URL.revokeObjectURL(t)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})};function Hoe(n,e){if(n&1&&(A(0,"div",8),N(1),T()),n&2){let t=oe();$(),Oe(t.error())}}function zoe(n,e){n&1&&(A(0,"div",9),ae(1,"div",10)(2,"div",10)(3,"div",10),T())}function qoe(n,e){if(n&1){let t=It();A(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"h5",15),N(5,"Ventas"),T()(),A(6,"div",16)(7,"div",17),ae(8,"canvas",18),T()()()(),A(9,"div",12)(10,"div",13)(11,"div",14)(12,"h5",15),N(13,"Evoluci\xF3n del d\xF3lar"),T()(),A(14,"div",16)(15,"div",17),ae(16,"canvas",18),T()()()(),A(17,"div",19)(18,"div",20)(19,"div",21)(20,"h5",15),N(21,"Productos m\xE1s vendidos"),T(),A(22,"button",22),ne("click",function(){st(t);let i=oe();return at(i.exportarCSV())}),N(23,"Exportar facturas CSV"),T()(),A(24,"div",16)(25,"div",17),ae(26,"canvas",18),T()()()()()}if(n&2){let t=oe();$(8),Q("type",t.ventasType)("data",t.ventasChart)("options",t.chartOptions),$(8),Q("type",t.dolarType)("data",t.dolarChart)("options",t.chartOptions),$(10),Q("type",t.topType)("data",t.topChart)("options",t.chartOptions)}}Zl.register(...PS);var f_=class n{srv=U(h_);rango="dia";cargando=St(!0);error=St(null);ventas=St([]);dolar=St([]);top=St([]);chartOptions={responsive:!0,maintainAspectRatio:!1,layout:{padding:12},plugins:{legend:{position:"bottom"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,ticks:{precision:0}}}};ventasChart={labels:[],datasets:[{data:[],label:"Ventas"}]};ventasType="bar";dolarChart={labels:[],datasets:[{data:[],label:"USD (semanal)"}]};dolarType="line";topChart={labels:[],datasets:[{data:[],label:"Unidades"}]};topType="bar";ngOnInit(){return C(this,null,function*(){yield this.cargarTodo()})}cargarTodo(){return C(this,null,function*(){this.cargando.set(!0),this.error.set(null);try{let[e,t,r]=yield Promise.all([this.srv.getVentas(this.rango),this.srv.getDolarSemanal(),this.srv.getTopProductos()]);this.ventas.set(e),this.dolar.set(t),this.top.set(r),this.ventasChart={labels:e.map(i=>i.periodo),datasets:[{data:e.map(i=>i.cantidad),label:"Ventas"}]},this.dolarChart={labels:t.map(i=>i.semana),datasets:[{data:t.map(i=>i.valor),label:"USD (semana)"}]},this.topChart={labels:r.map(i=>i.producto),datasets:[{data:r.map(i=>i.cantidad),label:"Unidades"}]}}catch(e){this.error.set("No se pudieron cargar los datos de reportes."),console.error(e)}finally{this.cargando.set(!1)}})}cambiarRango(e){this.rango!==e&&(this.rango=e,this.cargarTodo())}exportarCSV(){this.srv.exportCSVFacturas()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-reportes"]],decls:14,vars:9,consts:[[1,"reportes","container","py-4"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"m-0","fw-bold"],[1,"btn-group"],[1,"btn","btn-outline-primary",3,"click"],["class","alert alert-danger",4,"ngIf"],["class","placeholder-cards",4,"ngIf"],["class","row g-4",4,"ngIf"],[1,"alert","alert-danger"],[1,"placeholder-cards"],[1,"card","placeholder-card"],[1,"row","g-4"],[1,"col-12","col-xl-6"],[1,"card","shadow-sm","h-100"],[1,"card-header","bg-white","border-0"],[1,"card-title","mb-0"],[1,"card-body"],[1,"chart-wrap"],["baseChart","",3,"type","data","options"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-header","bg-white","border-0","d-flex","align-items-center","justify-content-between"],[1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h2",2),N(3,"Reportes de ventas"),T(),A(4,"div",3)(5,"button",4),ne("click",function(){return r.cambiarRango("dia")}),N(6,"Por d\xEDa"),T(),A(7,"button",4),ne("click",function(){return r.cambiarRango("semana")}),N(8,"Por semana"),T(),A(9,"button",4),ne("click",function(){return r.cambiarRango("mes")}),N(10,"Por mes"),T()()(),se(11,Hoe,2,1,"div",5)(12,zoe,4,0,"div",6)(13,qoe,27,9,"div",7),T()),t&2&&($(5),rr("active",r.rango==="dia"),$(2),rr("active",r.rango==="semana"),$(2),rr("active",r.rango==="mes"),$(2),Q("ngIf",r.error()),$(),Q("ngIf",r.cargando()),$(),Q("ngIf",!r.cargando()))},dependencies:[Je,Vt,lB],styles:[".reportes[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{letter-spacing:.2px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:110px}.btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{color:#fff;background:#0d6efd}.card[_ngcontent-%COMP%]{border:0;border-radius:1rem}.card-header[_ngcontent-%COMP%]{padding:1rem 1.25rem 0}.card-body[_ngcontent-%COMP%]{padding:1.25rem}.chart-wrap[_ngcontent-%COMP%]{width:100%;height:340px;position:relative}.placeholder-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1rem}.placeholder-card[_ngcontent-%COMP%]{height:220px;border-radius:1rem;background:linear-gradient(90deg,#f2f2f2 25%,#e9e9e9 37%,#f2f2f2 63%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:100% 0}to{background-position:0 0}}"]})};var jS=[{path:"principal",component:bm},{path:"login",component:sv},{path:"editar-usuario",component:lv},{path:"registro",component:av},{path:"gestionar-productos",component:dv},{path:"editar-producto",component:fv},{path:"crear-producto",component:hv},{path:"administrar-usuarios",component:cv},{path:"seleccionar-productos",component:gv},{path:"factura",component:Ll},{path:"reportes",component:f_},{path:"",redirectTo:"principal",pathMatch:"full"},{path:"**",component:nm}];var uB={apiKey:"AIzaSyBn-CzUIRSrZdM6rd-eVELBowXxu476DvU",authDomain:"j-angular.firebaseapp.com",projectId:"j-angular",storageBucket:"j-angular.appspot.com",messagingSenderId:"317690755677",appId:"1:317690755677:web:7477336e0c670448702bb4",databaseURL:"https://j-angular-default-rtdb.firebaseio.com"};var dB={providers:[x1({eventCoalescing:!0}),tm(jS),tm(jS),Yw(),jk(()=>xm(uB)),VO(()=>jO()),DV(()=>lT())]};function Woe(n,e){n&1&&(Xu(0),A(1,"li",5)(2,"a",6),N(3,"Principal"),T()(),A(4,"li",5)(5,"a",7),N(6,"Login"),T()(),A(7,"li",5)(8,"a",8),N(9,"Registro"),T()(),Zu())}function Goe(n,e){if(n&1){let t=It();Xu(0),A(1,"li",5)(2,"a",6),N(3,"Principal"),T()(),A(4,"li",5)(5,"a",9),N(6,"Crear Producto"),T()(),A(7,"li",5)(8,"a",10),N(9,"Gestionar Productos"),T()(),A(10,"li",5)(11,"a",11),N(12,"Seleccionar productos "),T()(),A(13,"li",5)(14,"a",12),N(15,"Reportes"),T()(),A(16,"li",5)(17,"a",13),ne("click",function(){st(t);let i=oe();return at(i.logout())}),N(18,"Cerrar sesi\xF3n"),T()(),Zu()}}function Koe(n,e){if(n&1){let t=It();Xu(0),A(1,"li",5)(2,"a",6),N(3,"Principal"),T()(),A(4,"li",5)(5,"a",11),N(6,"Seleccionar productos "),T()(),A(7,"li",5)(8,"a",13),ne("click",function(){st(t);let i=oe();return at(i.logout())}),N(9,"Cerrar sesi\xF3n"),T()(),Zu()}}var p_=class n{tipoUsuario=0;usuarioGuardado=localStorage.getItem("usuarioLogueado");constructor(){if(console.log(this.usuarioGuardado),this.usuarioGuardado)try{let e=JSON.parse(this.usuarioGuardado);this.tipoUsuario=Number(e.tipoUsuario)||0}catch(e){console.error("Error al leer usuario desde localStorage:",e),this.tipoUsuario=0}}logout(){localStorage.removeItem("usuarioLogueado"),this.tipoUsuario=0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-menu"]],decls:7,vars:3,consts:[[1,"navbar","navbar-expand-lg","custom-navbar"],[1,"container","justify-content-center"],["id","navbarNav",1,"collapse","navbar-collapse","d-flex","justify-content-center"],[1,"navbar-nav","text-center"],[4,"ngIf"],[1,"nav-item"],["routerLink","/principal",1,"nav-link","custom-link"],["routerLink","/login",1,"nav-link","custom-link"],["routerLink","/registro",1,"nav-link","custom-link"],["routerLink","/crear-producto",1,"nav-link","custom-link"],["routerLink","/gestionar-productos",1,"nav-link","custom-link"],["routerLink","/seleccionar-productos",1,"nav-link","custom-link"],["routerLink","/reportes",1,"nav-link","custom-link"],["routerLink","/login",1,"nav-link","custom-link",3,"click"]],template:function(t,r){t&1&&(A(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3),se(4,Woe,10,0,"ng-container",4)(5,Goe,19,0,"ng-container",4)(6,Koe,10,0,"ng-container",4),T()()()()),t&2&&($(4),Q("ngIf",r.tipoUsuario===0),$(),Q("ngIf",r.tipoUsuario===2),$(),Q("ngIf",r.tipoUsuario===1))},dependencies:[Fr,Zc,Je,Vt],styles:[".custom-navbar[_ngcontent-%COMP%]{background-color:pink}.custom-link[_ngcontent-%COMP%]{color:#c2185b!important;font-weight:700;margin:0 10px}.custom-link[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#ad1457!important}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}"]})};var Yoe=["msgs"];function Qoe(n,e){n&1&&(A(0,"span",5),N(1,"\u25CF"),T())}function Xoe(n,e){if(n&1){let t=It();A(0,"button",9),ne("click",function(){st(t);let i=oe(2);return at(i.tab.set("pend"))}),N(1,"Pendientes"),T()}if(n&2){let t=oe(2);rr("active",t.tab()==="pend")}}function Zoe(n,e){if(n&1){let t=It();A(0,"div",18)(1,"button",19),ne("click",function(){st(t);let i=oe(2);return at(i.nuevoChatConSoporte())}),N(2,"Nuevo chat con soporte"),T()()}}function Joe(n,e){if(n&1){let t=It();A(0,"div",23),ne("click",function(){let i=st(t).$implicit,o=oe(3);return at(o.abrir(i))}),A(1,"div",24),N(2),T(),A(3,"div",25),N(4),T()()}if(n&2){let t=e.$implicit,r=oe(3);$(2),Oe(r.titulo(t)),$(2),Oe(t.ultimoMensaje)}}function ese(n,e){n&1&&(A(0,"div",26),N(1,"No hay conversaciones"),T())}function tse(n,e){if(n&1&&(A(0,"div",20),se(1,Joe,5,2,"div",21)(2,ese,2,0,"div",22),T()),n&2){let t=oe(2);$(),Q("ngForOf",t.conversaciones())("ngForTrackBy",t.trackConv),$(),Q("ngIf",!t.conversaciones().length)}}function nse(n,e){if(n&1){let t=It();A(0,"div",23),ne("click",function(){let i=st(t).$implicit,o=oe(3);return at(o.abrirTomando(i))}),A(1,"div",24),N(2),T(),A(3,"div",25),N(4),T()()}if(n&2){let t=e.$implicit,r=oe(3);$(2),ti(" ",r.titulo(t)," \u2022 (pendiente) "),$(2),Oe(t.ultimoMensaje||"\u2014")}}function rse(n,e){n&1&&(A(0,"div",26),N(1,"No hay pendientes"),T())}function ise(n,e){if(n&1&&(A(0,"div",27)(1,"div",20),se(2,nse,5,2,"div",21)(3,rse,2,0,"div",22),T()()),n&2){let t=oe(2);$(2),Q("ngForOf",t.pendientes())("ngForTrackBy",t.trackConv),$(),Q("ngIf",!t.pendientes().length)}}function ose(n,e){if(n&1&&(A(0,"div",36)(1,"div",37)(2,"div",38),N(3),T(),A(4,"div",39),N(5),T()()()),n&2){let t=e.$implicit,r=oe(3);rr("me",t.remitenteId===r.miId),$(3),Oe(t.remitenteId===r.miId?"Yo":r.nombreDe(t.remitenteId)),$(2),Oe(t.texto)}}function sse(n,e){if(n&1){let t=It();A(0,"button",40),ne("click",function(){st(t);let i=oe(3);return at(i.cerrar())}),N(1,"Cerrar"),T()}}function ase(n,e){if(n&1){let t=It();A(0,"main",28)(1,"div",29,1),se(3,ose,6,4,"div",30),T(),A(4,"form",31),ne("ngSubmit",function(){st(t);let i=oe(2);return at(i.enviar())}),A(5,"input",32),qn("ngModelChange",function(i){st(t);let o=oe(2);return ir(o.draft,i)||(o.draft=i),at(i)}),T(),A(6,"div",33)(7,"button",34),N(8,"Enviar"),T(),se(9,sse,2,0,"button",35),T()()()}if(n&2){let t=oe(2);$(3),Q("ngForOf",t.mensajes())("ngForTrackBy",t.trackMsg),$(2),zn("ngModel",t.draft),$(4),Q("ngIf",t.cid())}}function cse(n,e){n&1&&(A(0,"main",41),N(1,"Eleg\xED o cre\xE1 un chat"),T())}function lse(n,e){if(n&1){let t=It();A(0,"div",6)(1,"div",7)(2,"div",8)(3,"button",9),ne("click",function(){st(t);let i=oe();return at(i.tab.set("convs"))}),N(4,"Conversaciones"),T(),se(5,Xoe,2,2,"button",10),T(),A(6,"button",11),ne("click",function(){st(t);let i=oe();return at(i.open.set(!1))}),N(7,"\u2715"),T()(),A(8,"div",12)(9,"aside",13),se(10,Zoe,3,0,"div",14)(11,tse,3,3,"div",15)(12,ise,4,3,"div",16),T(),se(13,ase,10,4,"main",17)(14,cse,2,0,"ng-template",null,0,C1),T()()}if(n&2){let t=rg(15),r=oe();$(3),rr("active",r.tab()==="convs"),$(2),Q("ngIf",r.miRol==="admin"),$(5),Q("ngIf",r.miRol==="usuario"&&r.tab()==="convs"),$(),Q("ngIf",r.tab()==="convs"),$(),Q("ngIf",r.tab()==="pend"&&r.miRol==="admin"),$(),Q("ngIf",r.cid())("ngIfElse",t)}}var g_=class n{chat=U(Ol);usuarioSrv=U(On);miId=this.usuarioSrv.miId()??"";miRol=this.usuarioSrv.rol();open=St(!1);tab=St("convs");conversaciones=St([]);pendientes=St([]);cid=St(null);mensajes=St([]);draft="";nombres={};nombreDe=e=>this.nombres[e]??e;hasNotif=qi(()=>this.conversaciones().some(e=>e.ultimoRemitenteId&&e.ultimoRemitenteId!==this.miId));mensajesSub;msgsRef;ngOnInit(){this.miId&&(this.chat.listenConversacionesDe(this.miId).subscribe(e=>C(this,null,function*(){this.conversaciones.set(e);for(let t of e){let r=(t.participantesIds||[]).find(i=>i!==this.miId);if(r&&!this.nombres[r]){let i=yield this.usuarioSrv.getNombreConRol(r);this.nombres=ie(z({},this.nombres),{[r]:i})}}})),this.miRol==="admin"&&this.chat.listenPendientesParaAdmin().subscribe(e=>this.pendientes.set(e)))}toggle(){this.open.update(e=>!e)}titulo(e){let t=(e.participantesIds||[]).find(r=>r!==this.miId);return t&&this.nombreDe(t)||"Chat"}abrir(e){this.cid.set(e.id),this.mensajesSub?.unsubscribe(),this.mensajesSub=this.chat.listenMensajesDeConversacion(e.id).subscribe(t=>C(this,null,function*(){this.mensajes.set(t);for(let r of t)if(!this.nombres[r.remitenteId]){let i=yield this.usuarioSrv.getNombreConRol(r.remitenteId);this.nombres=ie(z({},this.nombres),{[r.remitenteId]:i})}this.scrollToBottom()}))}nuevoChatConSoporte(){return C(this,null,function*(){if(!this.miId)return;let e=yield this.chat.crearConversacionSoporteNueva(this.miId);this.tab.set("convs"),this.abrir({id:e})})}nuevoChatConSoporteReutilizable(){return C(this,null,function*(){if(!this.miId)return;let e=yield this.chat.crearConversacionSoporte(this.miId);this.tab.set("convs"),this.abrir({id:e})})}abrirTomando(e){return C(this,null,function*(){if(this.miRol==="admin"){yield this.chat.tomarConversacion(e.id,this.miId);let t=ie(z({},e),{participantesIds:Array.from(new Set([...e.participantesIds??[],this.miId])),estado:"en_curso"});this.conversaciones.update(r=>[t,...r.filter(i=>i.id!==e.id)])}this.tab.set("convs"),this.abrir(e)})}enviar(){return C(this,null,function*(){let e=this.draft.trim();!e||!this.cid()||(yield this.chat.enviarMensaje(this.cid(),this.miId,e),this.draft="",this.scrollToBottom())})}cerrar(){return C(this,null,function*(){this.cid()&&(yield this.chat.cerrarConversacion(this.cid()),this.cid.set(null))})}trackConv=(e,t)=>t.id;trackMsg=(e,t)=>t.id??t.ts??Math.random();scrollToBottom(){setTimeout(()=>{let e=this.msgsRef?.nativeElement;e&&(e.scrollTop=e.scrollHeight)},0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-chat-burbuja"]],viewQuery:function(t,r){if(t&1&&w1(Yoe,5),t&2){let i;Ew(i=Iw())&&(r.msgsRef=i.first)}},decls:4,vars:2,consts:[["empty",""],["msgs",""],[1,"fab",3,"click"],["class","badge",4,"ngIf"],["class","panel",4,"ngIf"],[1,"badge"],[1,"panel"],[1,"panel-header"],[1,"tabs"],[3,"click"],[3,"active","click",4,"ngIf"],[1,"close",3,"click"],[1,"panel-body"],[1,"col","col-list"],["class","new",4,"ngIf"],["class","list",4,"ngIf"],["class","users",4,"ngIf"],["class","col col-chat",4,"ngIf","ngIfElse"],[1,"new"],[1,"btn-full",3,"click"],[1,"list"],["class","item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-list",4,"ngIf"],[1,"item",3,"click"],[1,"title"],[1,"last"],[1,"empty-list"],[1,"users"],[1,"col","col-chat"],[1,"msgs"],["class","msg",3,"me",4,"ngFor","ngForOf","ngForTrackBy"],[1,"composer",3,"ngSubmit"],["name","draft","placeholder","Escrib\xED un mensaje\u2026",3,"ngModelChange","ngModel"],[1,"actions"],["type","submit"],["type","button","class","ghost",3,"click",4,"ngIf"],[1,"msg"],[1,"bubble"],[1,"meta"],[1,"text"],["type","button",1,"ghost",3,"click"],[1,"col","col-chat","empty"]],template:function(t,r){t&1&&(A(0,"button",2),ne("click",function(){return r.toggle()}),N(1," \u{1F4AC} "),se(2,Qoe,2,0,"span",3),T(),se(3,lse,16,8,"div",4)),t&2&&($(2),Q("ngIf",r.hasNotif()),$(),Q("ngIf",r.open()))},dependencies:[Je,ar,Vt,fr,hr,zt,ln,dr,Yi,$d],styles:[".fab[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;z-index:1000;width:56px;height:56px;border-radius:50%;border:none;background:#e91e63;color:#fff;font-size:22px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .1s ease-in-out}.fab[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badge[_ngcontent-%COMP%]{position:absolute;right:10px;top:6px;color:#ff5252;font-size:18px}.panel[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:80px;width:820px;max-width:92vw;height:560px;background:#fff;border:1px solid #f0c3d1;border-radius:16px;box-shadow:0 10px 30px #0003;display:flex;flex-direction:column;z-index:1001}.panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #f8d4e0;background:#ffe7ef}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent;padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;border:1px solid #f8d4e0}.close[_ngcontent-%COMP%]{border:none;background:transparent;font-size:18px;cursor:pointer}.panel-body[_ngcontent-%COMP%]{display:flex;flex:1;min-height:0}.col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.col-list[_ngcontent-%COMP%]{width:300px;border-right:1px solid #f8d4e0}.new[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #f8d4e0}.btn-full[_ngcontent-%COMP%]{width:100%;border:0;background:#e91e63;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer}.link[_ngcontent-%COMP%]{display:inline-block;margin-top:6px;cursor:pointer;color:#e91e63}.list[_ngcontent-%COMP%]{overflow:auto;padding:8px;display:flex;flex-direction:column;gap:8px}.item[_ngcontent-%COMP%]{border:1px solid #f1d1dc;border-radius:12px;padding:10px;cursor:pointer;background:#fff}.item[_ngcontent-%COMP%]:hover{background:#fff6f9}.title[_ngcontent-%COMP%]{font-weight:600}.last[_ngcontent-%COMP%]{font-size:12px;opacity:.75;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.col-chat[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.col-chat.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#777}.msgs[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:8px}.msg[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{max-width:70%;background:#fdf2f6;padding:8px 12px;border-radius:12px}.msg.me[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{margin-left:auto;background:#e0ffe3}.meta[_ngcontent-%COMP%]{font-size:11px;opacity:.65;margin-bottom:4px}.composer[_ngcontent-%COMP%]{display:flex;gap:8px;border-top:1px solid #f8d4e0;padding:10px}.composer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #e0b3c3;border-radius:10px}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.composer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#e91e63;color:#fff;padding:8px 12px;border-radius:10px;cursor:pointer}.composer[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{background:#fff;color:#e91e63;border:1px solid #e91e63}"]})};var m_=class n{title="ALED3";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ke({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&ae(0,"app-menu")(1,"router-outlet")(2,"app-chat-burbuja")},dependencies:[Ad,p_,g_],encapsulation:2})};Ww(m_,dB).catch(n=>console.error(n));
