var Ak=Object.defineProperty,Rk=Object.defineProperties;var Mk=Object.getOwnPropertyDescriptors;var sC=Object.getOwnPropertySymbols,Nk=Object.getPrototypeOf,xk=Object.prototype.hasOwnProperty,Pk=Object.prototype.propertyIsEnumerable,kk=Reflect.get;var aC=(n,e,t)=>e in n?Ak(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})xk.call(e,t)&&aC(n,t,e[t]);if(sC)for(var t of sC(e))Pk.call(e,t)&&aC(n,t,e[t]);return n},oe=(n,e)=>Rk(n,Mk(e));var Di=(n,e,t)=>kk(Nk(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});function Ng(n,e){return Object.is(n,e)}var pt=null,od=!1,xg=1,wn=Symbol("SIGNAL");function ve(n){let e=pt;return pt=n,e}function Pg(){return pt}var jc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uc(n){if(od)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(n);let e=pt.nextProducerIndex++;if(ud(pt),e<pt.producerNode.length&&pt.producerNode[e]!==n&&Vc(pt)){let t=pt.producerNode[e];cd(t,pt.producerIndexOfThis[e])}pt.producerNode[e]!==n&&(pt.producerNode[e]=n,pt.producerIndexOfThis[e]=Vc(pt)?uC(n,pt,e):0),pt.producerLastReadVersion[e]=n.version}function cC(){xg++}function kg(n){if(!(Vc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===xg)){if(!n.producerMustRecompute(n)&&!Vg(n)){Mg(n);return}n.producerRecomputeValue(n),Mg(n)}}function Og(n){if(n.liveConsumerNode===void 0)return;let e=od;od=!0;try{for(let t of n.liveConsumerNode)t.dirty||Ok(t)}finally{od=e}}function Fg(){return pt?.consumerAllowSignalWrites!==!1}function Ok(n){n.dirty=!0,Og(n),n.consumerMarkedDirty?.(n)}function Mg(n){n.dirty=!1,n.lastCleanEpoch=xg}function ad(n){return n&&(n.nextProducerIndex=0),ve(n)}function Lg(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Vc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)cd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Vg(n){ud(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kg(t),r!==t.version))return!0}return!1}function jg(n){if(ud(n),Vc(n))for(let e=0;e<n.producerNode.length;e++)cd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function uC(n,e,t){if(lC(n),n.liveConsumerNode.length===0&&dC(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=uC(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function cd(n,e){if(lC(n),n.liveConsumerNode.length===1&&dC(n))for(let r=0;r<n.producerNode.length;r++)cd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ud(i),i.producerIndexOfThis[r]=e}}function Vc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ud(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function lC(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function dC(n){return n.producerNode!==void 0}function Ug(n,e){let t=Object.create(Fk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(kg(t),Uc(t),t.value===sd)throw t.error;return t.value};return r[wn]=t,r}var Ag=Symbol("UNSET"),Rg=Symbol("COMPUTING"),sd=Symbol("ERRORED"),Fk=oe(V({},jc),{value:Ag,dirty:!0,error:null,equal:Ng,kind:"computed",producerMustRecompute(n){return n.value===Ag||n.value===Rg},producerRecomputeValue(n){if(n.value===Rg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Rg;let t=ad(n),r,i=!1;try{r=n.computation(),ve(null),i=e!==Ag&&e!==sd&&r!==sd&&n.equal(e,r)}catch(o){r=sd,n.error=o}finally{Lg(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Lk(){throw new Error}var hC=Lk;function fC(n){hC(n)}function Bg(n){hC=n}var Vk=null;function $g(n,e){let t=Object.create(ld);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Uc(t),t.value);return r[wn]=t,r}function Bc(n,e){Fg()||fC(n),n.equal(n.value,e)||(n.value=e,jk(n))}function Hg(n,e){Fg()||fC(n),Bc(n,e(n.value))}var ld=oe(V({},jc),{equal:Ng,value:void 0,kind:"signal"});function jk(n){n.version++,cC(),Og(n),Vk?.()}function zg(n){let e=ve(null);try{return n()}finally{ve(e)}}var qg;function $c(){return qg}function Vr(n){let e=qg;return qg=n,e}var dd=Symbol("NotFound");function ce(n){return typeof n=="function"}function Ls(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hd=Ls(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function wo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Xe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ce(r))try{r()}catch(o){e=o instanceof hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pC(o)}catch(s){e=e??[],s instanceof hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)pC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wo(t,e)}remove(e){let{_finalizers:t}=this;t&&wo(t,e),e instanceof n&&e._removeParent(this)}};Xe.EMPTY=(()=>{let n=new Xe;return n.closed=!0,n})();var Gg=Xe.EMPTY;function fd(n){return n instanceof Xe||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function pC(n){ce(n)?n():n.unsubscribe()}var Bn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Vs={setTimeout(n,e,...t){let{delegate:r}=Vs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Vs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pd(n){Vs.setTimeout(()=>{let{onUnhandledError:e}=Bn;if(e)e(n);else throw n})}function Hc(){}var mC=Wg("C",void 0,void 0);function gC(n){return Wg("E",void 0,n)}function yC(n){return Wg("N",n,void 0)}function Wg(n,e,t){return{kind:n,value:e,error:t}}var Io=null;function js(n){if(Bn.useDeprecatedSynchronousErrorHandling){let e=!Io;if(e&&(Io={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Io;if(Io=null,t)throw r}}else n()}function vC(n){Bn.useDeprecatedSynchronousErrorHandling&&Io&&(Io.errorThrown=!0,Io.error=n)}var bo=class extends Xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fd(e)&&e.add(this)):this.destination=qk}static create(e,t,r){return new jr(e,t,r)}next(e){this.isStopped?Qg(yC(e),this):this._next(e)}error(e){this.isStopped?Qg(gC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qg(mC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Hk=Function.prototype.bind;function Kg(n,e){return Hk.call(n,e)}var Yg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){md(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){md(r)}else md(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){md(t)}}},jr=class extends bo{constructor(e,t,r){super();let i;if(ce(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Bn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kg(e.next,o),error:e.error&&Kg(e.error,o),complete:e.complete&&Kg(e.complete,o)}):i=e}this.destination=new Yg(i)}};function md(n){Bn.useDeprecatedSynchronousErrorHandling?vC(n):pd(n)}function zk(n){throw n}function Qg(n,e){let{onStoppedNotification:t}=Bn;t&&Vs.setTimeout(()=>t(n,e))}var qk={closed:!0,next:Hc,error:zk,complete:Hc};var Us=typeof Symbol=="function"&&Symbol.observable||"@@observable";function an(n){return n}function gd(...n){return Zg(n)}function Zg(n){return n.length===0?an:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Wk(t)?t:new jr(t,r,i);return js(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=_C(r),new r((i,o)=>{let s=new jr({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Us](){return this}pipe(...t){return Zg(t)(this)}toPromise(t){return t=_C(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function _C(n){var e;return(e=n??Bn.Promise)!==null&&e!==void 0?e:Promise}function Gk(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}function Wk(n){return n&&n instanceof bo||Gk(n)&&fd(n)}function Jg(n){return ce(n?.lift)}function _e(n){return e=>{if(Jg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new Xg(n,e,t,r,i)}var Xg=class extends bo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bs(){return _e((n,e)=>{let t=null;n._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var $s=class extends le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xe;let t=this.getSubject();e.add(this.source.subscribe(Ee(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xe.EMPTY)}return e}refCount(){return Bs()(this)}};var EC=Ls(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class n extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new EC}next(t){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){js(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gg:(this.currentObservers=null,o.push(t),new Xe(()=>{this.currentObservers=null,wo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new le;return t.source=this,t}}return n.create=(e,t)=>new yd(e,t),n})(),yd=class extends Be{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Gg}};var Tt=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zc={now(){return(zc.delegate||Date).now()},delegate:void 0};var qc=class extends Be{constructor(e=1/0,t=1/0,r=zc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}};var vd=class extends Xe{constructor(e,t){super()}schedule(e,t=0){return this}};var Gc={setInterval(n,e,...t){let{delegate:r}=Gc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Gc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Hs=class extends vd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Gc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Gc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var zs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};zs.now=zc.now;var qs=class extends zs{constructor(e,t=zs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var _d=new qs(Hs),ey=_d;var Ed=class extends Hs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var wd=class extends qs{};var ty=new wd(Ed);var Kt=new le(n=>n.complete());function Id(n){return n&&ce(n.schedule)}function wC(n){return n[n.length-1]}function bd(n){return ce(wC(n))?n.pop():void 0}function Ti(n){return Id(wC(n))?n.pop():void 0}function ny(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function IC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Co(n){return this instanceof Co?(this.v=n,this):new Co(n)}function CC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(C){return Promise.resolve(C).then(g,p)}}function a(g,C){r[g]&&(i[g]=function(N){return new Promise(function(x,j){o.push([g,N,x,j])>1||u(g,N)})},C&&(i[g]=C(i[g])))}function u(g,C){try{l(r[g](C))}catch(N){m(o[0][3],N)}}function l(g){g.value instanceof Co?Promise.resolve(g.value.v).then(h,p):m(o[0][2],g)}function h(g){u("next",g)}function p(g){u("throw",g)}function m(g,C){g(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function DC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof IC=="function"?IC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Cd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Dd(n){return ce(n?.then)}function Td(n){return ce(n[Us])}function Sd(n){return Symbol.asyncIterator&&ce(n?.[Symbol.asyncIterator])}function Ad(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Kk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Rd=Kk();function Md(n){return ce(n?.[Rd])}function Nd(n){return CC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Co(t.read());if(i)return yield Co(void 0);yield yield Co(r)}}finally{t.releaseLock()}})}function xd(n){return ce(n?.getReader)}function Ke(n){if(n instanceof le)return n;if(n!=null){if(Td(n))return Qk(n);if(Cd(n))return Yk(n);if(Dd(n))return Zk(n);if(Sd(n))return TC(n);if(Md(n))return Jk(n);if(xd(n))return Xk(n)}throw Ad(n)}function Qk(n){return new le(e=>{let t=n[Us]();if(ce(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yk(n){return new le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Zk(n){return new le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pd)})}function Jk(n){return new le(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function TC(n){return new le(e=>{eO(n,e).catch(t=>e.error(t))})}function Xk(n){return TC(Nd(n))}function eO(n,e){var t,r,i,o;return bC(this,void 0,void 0,function*(){try{for(t=DC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Si(n,e=0){return _e((t,r)=>{t.subscribe(Ee(r,i=>Qt(r,n,()=>r.next(i),e),()=>Qt(r,n,()=>r.complete(),e),i=>Qt(r,n,()=>r.error(i),e)))})}function Ai(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function SC(n,e){return Ke(n).pipe(Ai(e),Si(e))}function AC(n,e){return Ke(n).pipe(Ai(e),Si(e))}function RC(n,e){return new le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function MC(n,e){return new le(t=>{let r;return Qt(t,e,()=>{r=n[Rd](),Qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ce(r?.return)&&r.return()})}function Pd(n,e){if(!n)throw new Error("Iterable cannot be null");return new le(t=>{Qt(t,e,()=>{let r=n[Symbol.asyncIterator]();Qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function NC(n,e){return Pd(Nd(n),e)}function xC(n,e){if(n!=null){if(Td(n))return SC(n,e);if(Cd(n))return RC(n,e);if(Dd(n))return AC(n,e);if(Sd(n))return Pd(n,e);if(Md(n))return MC(n,e);if(xd(n))return NC(n,e)}throw Ad(n)}function Fe(n,e){return e?xC(n,e):Ke(n)}function J(...n){let e=Ti(n);return Fe(n,e)}function Gs(n,e){let t=ce(n)?n:()=>n,r=i=>i.error(t());return new le(e?i=>e.schedule(r,0,i):r)}function ry(n){return!!n&&(n instanceof le||ce(n.lift)&&ce(n.subscribe))}var Ur=Ls(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function PC(n){return n instanceof Date&&!isNaN(n)}function ie(n,e){return _e((t,r)=>{let i=0;t.subscribe(Ee(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:tO}=Array;function nO(n,e){return tO(e)?n(...e):n(e)}function kd(n){return ie(e=>nO(n,e))}var{isArray:rO}=Array,{getPrototypeOf:iO,prototype:oO,keys:sO}=Object;function Od(n){if(n.length===1){let e=n[0];if(rO(e))return{args:e,keys:null};if(aO(e)){let t=sO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function aO(n){return n&&typeof n=="object"&&iO(n)===oO}function Fd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Wc(...n){let e=Ti(n),t=bd(n),{args:r,keys:i}=Od(n);if(r.length===0)return Fe([],e);let o=new le(cO(r,e,i?s=>Fd(i,s):an));return t?o.pipe(kd(t)):o}function cO(n,e,t=an){return r=>{kC(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)kC(e,()=>{let l=Fe(n[u],e),h=!1;l.subscribe(Ee(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function kC(n,e,t){n?Qt(t,n,e):e()}function OC(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},g=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let x=!1;Ke(t(N,h++)).subscribe(Ee(e,j=>{i?.(j),o?g(j):e.next(j)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let j=u.shift();s?Qt(e,s,()=>C(j)):C(j)}m()}catch(j){e.error(j)}}))};return n.subscribe(Ee(e,g,()=>{p=!0,m()})),()=>{a?.()}}function nt(n,e,t=1/0){return ce(e)?nt((r,i)=>ie((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>OC(r,i,n,t)))}function Ws(n=1/0){return nt(an,n)}function FC(){return Ws(1)}function Ks(...n){return FC()(Fe(n,Ti(n)))}function Ld(n){return new le(e=>{Ke(n()).subscribe(e)})}function iy(...n){let e=bd(n),{args:t,keys:r}=Od(n),i=new le(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ke(t[h]).subscribe(Ee(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Fd(r,a):a),o.complete())}))}});return e?i.pipe(kd(e)):i}function oy(n=0,e,t=ey){let r=-1;return e!=null&&(Id(e)?t=e:r=e),new le(i=>{let o=PC(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function kt(n,e){return _e((t,r)=>{let i=0;t.subscribe(Ee(r,o=>n.call(e,o,i++)&&r.next(o)))})}function $n(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ee(t,void 0,void 0,s=>{o=Ke(n(s,$n(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function LC(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(Ee(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function cr(n,e){return ce(e)?nt(n,e,1):nt(n,1)}function Ri(n){return _e((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Br(n){return n<=0?()=>Kt:_e((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Vd(n=uO){return _e((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function uO(){return new Ur}function Do(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $r(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):an,Br(1),t?Ri(e):Vd(()=>new Ur))}function Qs(n){return n<=0?()=>Kt:_e((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?kt((i,o)=>n(i,o,r)):an,Qs(1),t?Ri(e):Vd(()=>new Ur))}function jd(n,e){return _e(LC(n,e,arguments.length>=2,!0))}function VC(n={}){let{connector:e=()=>new Be,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=u=void 0,h=p=!1},C=()=>{let N=s;g(),N?.unsubscribe()};return _e((N,x)=>{l++,!p&&!h&&m();let j=u=u??e();x.add(()=>{l--,l===0&&!p&&!h&&(a=ay(C,i))}),j.subscribe(x),!s&&l>0&&(s=new jr({next:Q=>j.next(Q),error:Q=>{p=!0,m(),a=ay(g,t,Q),j.error(Q)},complete:()=>{h=!0,m(),a=ay(g,r),j.complete()}}),Ke(N).subscribe(s))})(o)}}function ay(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new jr({next:()=>{r.unsubscribe(),n()}});return Ke(e(...t)).subscribe(r)}function cy(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,VC({connector:()=>new qc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ud(...n){let e=Ti(n);return _e((t,r)=>{(e?Ks(n,t,e):Ks(n,t)).subscribe(r)})}function Ot(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ee(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(n(u,h)).subscribe(i=Ee(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function uy(n){return _e((e,t)=>{Ke(n).subscribe(Ee(t,()=>t.complete(),Hc)),!t.closed&&e.subscribe(t)})}function St(n,e,t){let r=ce(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):an}var SD="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,t){super(AD(e,t)),this.code=e}};function lO(n){return`NG0${Math.abs(n)}`}function AD(n,e){return`${lO(n)}${e?": "+e:""}`}var RD=Symbol("InputSignalNode#UNSET"),dO=oe(V({},ld),{transformFn:void 0,applyValueToInputSignal(n,e){Bc(n,e)}});function MD(n,e){let t=Object.create(dO);t.value=n,t.transformFn=e?.transform;function r(){if(Uc(t),t.value===RD){let i=null;throw new q(-950,i)}return t.value}return r[wn]=t,r}function iu(n){return{toString:n}.toString()}var Bd="__parameters__";function hO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ND(n,e,t){return iu(()=>{let r=hO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Bd)?u[Bd]:Object.defineProperty(u,Bd,{value:[]})[Bd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var So=globalThis;function Le(n){for(let e in n)if(n[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function fO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Zt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Zt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function jC(n,e){return n?e?`${n} ${e}`:n:e||""}var pO=Le({__forward_ref__:Le});function Cn(n){return n.__forward_ref__=Cn,n.toString=function(){return Zt(this())},n}function Ht(n){return xD(n)?n():n}function xD(n){return typeof n=="function"&&n.hasOwnProperty(pO)&&n.__forward_ref__===Cn}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Eh(n){return UC(n,kD)||UC(n,OD)}function PD(n){return Eh(n)!==null}function UC(n,e){return n.hasOwnProperty(e)?n[e]:null}function mO(n){let e=n&&(n[kD]||n[OD]);return e||null}function BC(n){return n&&(n.hasOwnProperty($C)||n.hasOwnProperty(gO))?n[$C]:null}var kD=Le({\u0275prov:Le}),$C=Le({\u0275inj:Le}),OD=Le({ngInjectableDef:Le}),gO=Le({ngInjectorDef:Le}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function FD(n){return n&&!!n.\u0275providers}var yO=Le({\u0275cmp:Le}),vO=Le({\u0275dir:Le}),_O=Le({\u0275pipe:Le}),EO=Le({\u0275mod:Le}),Yd=Le({\u0275fac:Le}),Zc=Le({__NG_ELEMENT_ID__:Le}),HC=Le({__NG_ENV_ID__:Le});function na(n){return typeof n=="string"?n:n==null?"":String(n)}function wO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():na(n)}function LD(n,e){throw new q(-200,n)}function _v(n,e){throw new q(-201,!1)}var he=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(he||{}),Cy;function VD(){return Cy}function Yt(n){let e=Cy;return Cy=n,e}function jD(n,e,t){let r=Eh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&he.Optional)return null;if(e!==void 0)return e;_v(n,"Injector")}var IO={},Ao=IO,Dy="__NG_DI_FLAG__",Zd=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?dd:Ao,r)}},Jd="ngTempTokenPath",bO="ngTokenPath",CO=/\n/gm,DO="\u0275",zC="__source";function TO(n,e=he.Default){if($c()===void 0)throw new q(-203,!1);if($c()===null)return jD(n,void 0,e);{let t=$c(),r;return t instanceof Zd?r=t.injector:r=t,r.get(n,e&he.Optional?null:void 0,e)}}function Y(n,e=he.Default){return(VD()||TO)(Ht(n),e)}function O(n,e=he.Default){return Y(n,wh(e))}function wh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ty(n){let e=[];for(let t=0;t<n.length;t++){let r=Ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=he.Default;for(let s=0;s<r.length;s++){let a=r[s],u=SO(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Y(i,o))}else e.push(Y(r))}return e}function UD(n,e){return n[Dy]=e,n.prototype[Dy]=e,n}function SO(n){return n[Dy]}function AO(n,e,t,r){let i=n[Jd];throw e[zC]&&i.unshift(e[zC]),n.message=RO(`
`+n.message,i,t,r),n[bO]=i,n[Jd]=null,n}function RO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==DO?n.slice(2):n;let i=Zt(e);if(Array.isArray(e))i=e.map(Zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Zt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(CO,`
  `)}`}var ln=UD(ND("Optional"),8);var MO=UD(ND("SkipSelf"),4);function Mo(n,e){let t=n.hasOwnProperty(Yd);return t?n[Yd]:null}function NO(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function xO(n){return n.flat(Number.POSITIVE_INFINITY)}function Ev(n,e){n.forEach(t=>Array.isArray(t)?Ev(t,e):e(t))}function BD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function PO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function kO(n,e,t){let r=ou(n,e);return r>=0?n[r|1]=t:(r=~r,PO(n,r,e,t)),r}function ly(n,e){let t=ou(n,e);if(t>=0)return n[t|1]}function ou(n,e){return OO(n,e,1)}function OO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var No={},In=[],Jc=new H(""),$D=new H("",-1),HD=new H(""),eh=class{get(e,t=Ao){if(t===Ao){let r=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw r.name="NullInjectorError",r}return t}};function zD(n,e){let t=n[EO]||null;if(!t&&e===!0)throw new Error(`Type ${Zt(n)} does not have '\u0275mod' property.`);return t}function xo(n){return n[yO]||null}function FO(n){return n[vO]||null}function LO(n){return n[_O]||null}function Dn(n){return{\u0275providers:n}}function VO(...n){return{\u0275providers:qD(!0,n),\u0275fromNgModule:!0}}function qD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ev(e,s=>{let a=s;Sy(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&GD(i,o),t}function GD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];wv(i,o=>{e(o,r)})}}function Sy(n,e,t,r){if(n=Ht(n),!n)return!1;let i=null,o=BC(n),s=!o&&xo(n);if(!o&&!s){let u=n.ngModule;if(o=BC(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Sy(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ev(o.imports,h=>{Sy(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&GD(l,e)}if(!a){let l=Mo(i)||(()=>new i);e({provide:i,useFactory:l,deps:In},i),e({provide:HD,useValue:i,multi:!0},i),e({provide:Jc,useValue:()=>Y(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;wv(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function wv(n,e){for(let t of n)FD(t)&&(t=t.\u0275providers),Array.isArray(t)?wv(t,e):e(t)}var jO=Le({provide:String,useValue:Le});function WD(n){return n!==null&&typeof n=="object"&&jO in n}function UO(n){return!!(n&&n.useExisting)}function BO(n){return!!(n&&n.useFactory)}function ra(n){return typeof n=="function"}function $O(n){return!!n.useClass}var Ih=new H(""),zd={},qC={},dy;function Iv(){return dy===void 0&&(dy=new eh),dy}var vt=class{},Xc=class extends vt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Ry(e,s=>this.processProvider(s)),this.records.set($D,Ys(void 0,this)),i.has("environment")&&this.records.set(vt,Ys(void 0,this));let o=this.records.get(Ih);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(HD,In,he.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?dd:Ao,r)}destroy(){Qc(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Qc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Qc(this);let t=Vr(this),r=Yt(void 0),i;try{return e()}finally{Vr(t),Yt(r)}}get(e,t=Ao,r=he.Default){if(Qc(this),e.hasOwnProperty(HC))return e[HC](this);r=wh(r);let i,o=Vr(this),s=Yt(void 0);try{if(!(r&he.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=WO(e)&&Eh(e);l&&this.injectableDefInScope(l)?u=Ys(Ay(e),zd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&he.Self?Iv():this.parent;return t=r&he.Optional&&t===Ao?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Jd]=a[Jd]||[]).unshift(Zt(e)),o)throw a;return AO(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(s),Vr(o)}}resolveInjectorInitializers(){let e=ve(null),t=Vr(this),r=Yt(void 0),i;try{let o=this.get(Jc,In,he.Self);for(let s of o)s()}finally{Vr(t),Yt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ht(e);let t=ra(e)?e:Ht(e&&e.provide),r=zO(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ys(void 0,zd,!0),i.factory=()=>Ty(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ve(null);try{return t.value===qC?LD(Zt(e)):t.value===zd&&(t.value=qC,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&GO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ay(n){let e=Eh(n),t=e!==null?e.factory:Mo(n);if(t!==null)return t;if(n instanceof H)throw new q(204,!1);if(n instanceof Function)return HO(n);throw new q(204,!1)}function HO(n){if(n.length>0)throw new q(204,!1);let t=mO(n);return t!==null?()=>t.factory(n):()=>new n}function zO(n){if(WD(n))return Ys(void 0,n.useValue);{let e=KD(n);return Ys(e,zd)}}function KD(n,e,t){let r;if(ra(n)){let i=Ht(n);return Mo(i)||Ay(i)}else if(WD(n))r=()=>Ht(n.useValue);else if(BO(n))r=()=>n.useFactory(...Ty(n.deps||[]));else if(UO(n))r=(i,o)=>Y(Ht(n.useExisting),o!==void 0&&o&he.Optional?he.Optional:void 0);else{let i=Ht(n&&(n.useClass||n.provide));if(qO(n))r=()=>new i(...Ty(n.deps));else return Mo(i)||Ay(i)}return r}function Qc(n){if(n.destroyed)throw new q(205,!1)}function Ys(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function qO(n){return!!n.deps}function GO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function WO(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function Ry(n,e){for(let t of n)Array.isArray(t)?Ry(t,e):t&&FD(t)?Ry(t.\u0275providers,e):e(t)}function _t(n,e){let t;n instanceof Xc?(Qc(n),t=n):t=new Zd(n);let r,i=Vr(t),o=Yt(void 0);try{return e()}finally{Vr(i),Yt(o)}}function QD(){return VD()!==void 0||$c()!=null}function bv(n){if(!QD())throw new q(-203,!1)}function KO(n){return typeof n=="function"}var Gr=0,me=1,se=2,Ft=3,zn=4,Gn=5,th=6,nh=7,Jt=8,ia=9,Hr=10,it=11,eu=12,GC=13,ha=14,lr=15,Po=16,Zs=17,zr=18,bh=19,YD=20,Mi=21,hy=22,rh=23,bn=24,ea=25,un=26,ZD=1;var ko=7,ih=8,oa=9,cn=10;function Ni(n){return Array.isArray(n)&&typeof n[ZD]=="object"}function Wr(n){return Array.isArray(n)&&n[ZD]===!0}function Cv(n){return(n.flags&4)!==0}function fa(n){return n.componentOffset>-1}function Ch(n){return(n.flags&1)===1}function dr(n){return!!n.template}function oh(n){return(n[se]&512)!==0}function pa(n){return(n[se]&256)===256}var My=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function JD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Tn=(()=>{let n=()=>XD;return n.ngInherit=!0,n})();function XD(n){return n.type.prototype.ngOnChanges&&(n.setInput=YO),QO}function QO(){let n=tT(this),e=n?.current;if(e){let t=n.previous;if(t===No)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function YO(n,e,t,r,i){let o=this.declaredInputs[r],s=tT(n)||ZO(n,{previous:No,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new My(l&&l.currentValue,t,u===No),JD(n,e,i,t)}var eT="__ngSimpleChanges__";function tT(n){return n[eT]||null}function ZO(n,e){return n[eT]=e}var WC=null;var Pe=function(n,e=null,t){WC?.(n,e,t)},JO="svg",XO="math";function hr(n){for(;Array.isArray(n);)n=n[Gr];return n}function nT(n,e){return hr(e[n])}function gr(n,e){return hr(e[n.index])}function rT(n,e){return n.data[e]}function iT(n,e){return n[e]}function eF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function fr(n,e){let t=e[n];return Ni(t)?t:t[Gr]}function tF(n){return(n[se]&4)===4}function Dv(n){return(n[se]&128)===128}function nF(n){return Wr(n[Ft])}function sa(n,e){return e==null?null:n[e]}function oT(n){n[Zs]=0}function sT(n){n[se]&1024||(n[se]|=1024,Dv(n)&&su(n))}function rF(n,e){for(;n>0;)e=e[ha],n--;return e}function Dh(n){return!!(n[se]&9216||n[bn]?.dirty)}function Ny(n){n[Hr].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),Dh(n)&&su(n)}function su(n){n[Hr].changeDetectionScheduler?.notify(0);let e=Oo(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Dv(e)));)e=Oo(e)}function aT(n,e){if(pa(n))throw new q(911,!1);n[Mi]===null&&(n[Mi]=[]),n[Mi].push(e)}function iF(n,e){if(n[Mi]===null)return;let t=n[Mi].indexOf(e);t!==-1&&n[Mi].splice(t,1)}function Oo(n){let e=n[Ft];return Wr(e)?e[Ft]:e}function Tv(n){return n[nh]??=[]}function Sv(n){return n.cleanup??=[]}function oF(n,e,t,r){let i=Tv(e);i.push(t),n.firstCreatePass&&Sv(n).push(r,i.length-1)}var pe={lFrame:mT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xy=!1;function sF(){return pe.lFrame.elementDepthCount}function aF(){pe.lFrame.elementDepthCount++}function cF(){pe.lFrame.elementDepthCount--}function Av(){return pe.bindingsEnabled}function uF(){return pe.skipHydrationRootTNode!==null}function lF(n){return pe.skipHydrationRootTNode===n}function dF(){pe.skipHydrationRootTNode=null}function Te(){return pe.lFrame.lView}function Et(){return pe.lFrame.tView}function Qe(n){return pe.lFrame.contextLView=n,n[Jt]}function Ye(n){return pe.lFrame.contextLView=null,n}function zt(){let n=cT();for(;n!==null&&n.type===64;)n=n.parent;return n}function cT(){return pe.lFrame.currentTNode}function hF(){let n=pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zo(n,e){let t=pe.lFrame;t.currentTNode=n,t.isParent=e}function Rv(){return pe.lFrame.isParent}function uT(){pe.lFrame.isParent=!1}function fF(){return pe.lFrame.contextLView}function lT(){return xy}function KC(n){let e=xy;return xy=n,e}function pF(){let n=pe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mF(){return pe.lFrame.bindingIndex}function gF(n){return pe.lFrame.bindingIndex=n}function Th(){return pe.lFrame.bindingIndex++}function dT(n){let e=pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function yF(){return pe.lFrame.inI18n}function vF(n,e){let t=pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Py(e)}function _F(){return pe.lFrame.currentDirectiveIndex}function Py(n){pe.lFrame.currentDirectiveIndex=n}function EF(n){let e=pe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function hT(){return pe.lFrame.currentQueryIndex}function Mv(n){pe.lFrame.currentQueryIndex=n}function wF(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[Gn]:null}function fT(n,e,t){if(t&he.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&he.Host);)if(i=wF(o),i===null||(o=o[ha],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=pe.lFrame=pT();return r.currentTNode=e,r.lView=n,!0}function Nv(n){let e=pT(),t=n[me];pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function pT(){let n=pe.lFrame,e=n===null?null:n.child;return e===null?mT(n):e}function mT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function gT(){let n=pe.lFrame;return pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var yT=gT;function xv(){let n=gT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IF(n){return(pe.lFrame.contextLView=rF(n,pe.lFrame.contextLView))[Jt]}function qo(){return pe.lFrame.selectedIndex}function Fo(n){pe.lFrame.selectedIndex=n}function Pv(){let n=pe.lFrame;return rT(n.tView,n.selectedIndex)}function bF(){return pe.lFrame.currentNamespace}var vT=!0;function Sh(){return vT}function Ah(n){vT=n}function CF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=XD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function kv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function qd(n,e,t){_T(n,e,3,t)}function Gd(n,e,t,r){(n[se]&3)===t&&_T(n,e,t,r)}function fy(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function _T(n,e,t,r){let i=r!==void 0?n[Zs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Zs]+=65536),(a<o||o==-1)&&(DF(n,t,e,u),n[Zs]=(n[Zs]&4294901760)+u+2),u++}function QC(n,e){Pe(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Pe(5,n,e)}}function DF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[Zs]>>16&&(n[se]&3)===e&&(n[se]+=16384,QC(a,o)):QC(a,o)}var ta=-1,Lo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function TF(n){return(n.flags&8)!==0}function SF(n){return(n.flags&16)!==0}function AF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];RF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ET(n){return n===3||n===4||n===6}function RF(n){return n.charCodeAt(0)===64}function aa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YC(n,t,i,null,e[++r]):YC(n,t,i,null,null))}}return n}function YC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function wT(n){return n!==ta}function sh(n){return n&32767}function MF(n){return n>>16}function ah(n,e){let t=MF(n),r=e;for(;t>0;)r=r[ha],t--;return r}var ky=!0;function ch(n){let e=ky;return ky=n,e}var NF=256,IT=NF-1,bT=5,xF=0,ur={};function PF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zc)&&(r=t[Zc]),r==null&&(r=t[Zc]=xF++);let i=r&IT,o=1<<i;e.data[n+(i>>bT)]|=o}function uh(n,e){let t=CT(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,py(r.data,n),py(e,null),py(r.blueprint,null));let i=Ov(n,e),o=n.injectorIndex;if(wT(i)){let s=sh(i),a=ah(i,e),u=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function py(n,e){n.push(0,0,0,0,0,0,0,0,e)}function CT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=RT(i),r===null)return ta;if(t++,i=i[ha],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ta}function Oy(n,e,t){PF(n,e,t)}function kF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ET(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function DT(n,e,t){if(t&he.Optional||n!==void 0)return n;_v(e,"NodeInjector")}function TT(n,e,t,r){if(t&he.Optional&&r===void 0&&(r=null),(t&(he.Self|he.Host))===0){let i=n[ia],o=Yt(void 0);try{return i?i.get(e,r,t&he.Optional):jD(e,r,t&he.Optional)}finally{Yt(o)}}return DT(r,e,t)}function ST(n,e,t,r=he.Default,i){if(n!==null){if(e[se]&2048&&!(r&he.Self)){let s=VF(n,e,t,r,ur);if(s!==ur)return s}let o=AT(n,e,t,r,ur);if(o!==ur)return o}return TT(e,t,r,i)}function AT(n,e,t,r,i){let o=FF(t);if(typeof o=="function"){if(!fT(e,n,r))return r&he.Host?DT(i,t,r):TT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&he.Optional))_v(t);else return s}finally{yT()}}else if(typeof o=="number"){let s=null,a=CT(n,e),u=ta,l=r&he.Host?e[lr][Gn]:null;for((a===-1||r&he.SkipSelf)&&(u=a===-1?Ov(n,e):e[a+8],u===ta||!JC(r,!1)?a=-1:(s=e[me],a=sh(u),e=ah(u,e)));a!==-1;){let h=e[me];if(ZC(o,a,h.data)){let p=OF(a,e,t,s,r,l);if(p!==ur)return p}u=e[a+8],u!==ta&&JC(r,e[me].data[a+8]===l)&&ZC(o,a,e)?(s=h,a=sh(u),e=ah(u,e)):a=-1}}return i}function OF(n,e,t,r,i,o){let s=e[me],a=s.data[n+8],u=r==null?fa(a)&&ky:r!=s&&(a.type&3)!==0,l=i&he.Host&&o===a,h=Wd(a,s,t,u,l);return h!==null?tu(e,s,h,a,i):ur}function Wd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let g=p;g<m;g++){let C=s[g];if(g<u&&t===C||g>=u&&C.type===t)return g}if(i){let g=s[u];if(g&&dr(g)&&g.type===t)return u}return null}function tu(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Lo){let a=o;a.resolving&&LD(wO(s[t]));let u=ch(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Yt(a.injectImpl):null,p=fT(n,r,he.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&CF(t,s[t],e)}finally{h!==null&&Yt(h),ch(u),a.resolving=!1,yT()}}return o}function FF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Zc)?n[Zc]:void 0;return typeof e=="number"?e>=0?e&IT:LF:e}function ZC(n,e,t){let r=1<<n;return!!(t[e+(n>>bT)]&r)}function JC(n,e){return!(n&he.Self)&&!(n&he.Host&&e)}var Ro=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ST(this._tNode,this._lView,e,wh(r),t)}};function LF(){return new Ro(zt(),Te())}function Kr(n){return iu(()=>{let e=n.prototype.constructor,t=e[Yd]||Fy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Yd]||Fy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fy(n){return xD(n)?()=>{let e=Fy(Ht(n));return e&&e()}:Mo(n)}function VF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!oh(s);){let a=AT(o,s,t,r|he.Self,ur);if(a!==ur)return a;let u=o.parent;if(!u){let l=s[YD];if(l){let h=l.get(t,ur,r);if(h!==ur)return h}u=RT(s),s=s[ha]}o=u}return i}function RT(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[Gn]:null}function Fv(n){return kF(zt(),n)}function XC(n,e=null,t=null,r){let i=MT(n,e,t,r);return i.resolveInjectorInitializers(),i}function MT(n,e=null,t=null,r,i=new Set){let o=[t||In,VO(n)];return r=r||(typeof n=="object"?void 0:Zt(n)),new Xc(o,e||Iv(),r||null,i)}var ot=class n{static THROW_IF_NOT_FOUND=Ao;static NULL=new eh;static create(e,t){if(Array.isArray(e))return XC({name:""},t,e,"");{let r=e.name??"";return XC({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>Y($D)});static __NG_ELEMENT_ID__=-1};var jF=new H("");jF.__NG_ELEMENT_ID__=n=>{let e=zt();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(n&he.Optional)return null;throw new q(204,!1)};var NT=!1,Go=(()=>{class n{static __NG_ELEMENT_ID__=UF;static __NG_ENV_ID__=t=>t}return n})(),Ly=class extends Go{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return pa(t)?(e(),()=>{}):(aT(t,e),()=>iF(t,e))}};function UF(){return new Ly(Te())}var Vo=class{},Lv=new H("",{providedIn:"root",factory:()=>!1});var xT=new H(""),PT=new H(""),Qr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Rh=(()=>{class n{internalPendingTasks=O(Qr);scheduler=O(Vo);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return _(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vy=class extends Be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,QD()&&(this.destroyRef=O(Go,{optional:!0})??void 0,this.pendingTasks=O(Qr,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Xe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},$e=Vy;function lh(...n){}function kT(n){let e,t;function r(){n=lh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function eD(n){return queueMicrotask(()=>n()),()=>{n=lh}}var Vv="isAngularZone",dh=Vv+"_ID",BF=0,De=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new $e(!1);onMicrotaskEmpty=new $e(!1);onStable=new $e(!1);onError=new $e(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=NT}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,zF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$F,lh,lh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},$F={};function jv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function HF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){kT(()=>{n.callbackScheduled=!1,jy(n),n.isCheckStableRunning=!0,jv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),jy(n)}function zF(n){let e=()=>{HF(n)},t=BF++;n._inner=n._inner.fork({name:"angular",properties:{[Vv]:!0,[dh]:t,[dh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(qF(u))return r.invokeTask(o,s,a,u);try{return tD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),nD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return tD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!GF(u)&&e(),nD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,jy(n),jv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function jy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function tD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nD(n){n._nesting--,jv(n)}var Uy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new $e;onMicrotaskEmpty=new $e;onStable=new $e;onError=new $e;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function qF(n){return OT(n,"__ignore_ng_zone__")}function GF(n){return OT(n,"__scheduler_tick__")}function OT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},WF=new H("",{providedIn:"root",factory:()=>{let n=O(De),e=O(pr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function rD(n,e){return MD(n,e)}function KF(n){return MD(RD,n)}var FT=(rD.required=KF,rD);function QF(){return ma(zt(),Te())}function ma(n,e){return new dn(gr(n,e))}var dn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=QF}return n})();function YF(n){return n instanceof dn?n.nativeElement:n}function ZF(n){return typeof n=="function"&&n[wn]!==void 0}function Xt(n,e){let t=$g(n,e?.equal),r=t[wn];return t.set=i=>Bc(r,i),t.update=i=>Hg(r,i),t.asReadonly=JF.bind(t),t}function JF(){let n=this[wn];if(n.readonlyFn===void 0){let e=()=>this();e[wn]=n,n.readonlyFn=e}return n.readonlyFn}function LT(n){return ZF(n)&&typeof n.set=="function"}function XF(){return this._results[Symbol.iterator]()}var By=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Be}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=xO(e);(this._changesDetected=!NO(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=XF};function VT(n){return(n.flags&128)===128}var jT=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jT||{}),UT=new Map,eL=0;function tL(){return eL++}function nL(n){UT.set(n[bh],n)}function $y(n){UT.delete(n[bh])}var iD="__ngContext__";function ga(n,e){Ni(e)?(n[iD]=e[bh],nL(e)):n[iD]=e}function BT(n){return HT(n[eu])}function $T(n){return HT(n[zn])}function HT(n){for(;n!==null&&!Wr(n);)n=n[zn];return n}var Hy;function zT(n){Hy=n}function rL(){if(Hy!==void 0)return Hy;if(typeof document<"u")return document;throw new q(210,!1)}var Uv=new H("",{providedIn:"root",factory:()=>iL}),iL="ng",Bv=new H(""),xi=new H("",{providedIn:"platform",factory:()=>"unknown"});var $v=new H("",{providedIn:"root",factory:()=>rL().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oL="h",sL="b";var qT=!1,aL=new H("",{providedIn:"root",factory:()=>qT});var Hv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Hv||{}),ya=new H(""),oD=new Set;function va(n){oD.has(n)||(oD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var GT=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=cL}return n})();function cL(){return new GT(Te(),zt())}var Js=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Js||{}),WT=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),uL=[Js.EarlyRead,Js.Write,Js.MixedReadWrite,Js.Read],lL=(()=>{class n{ngZone=O(De);scheduler=O(Vo);errorHandler=O(pr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(ya,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Pe(16),this.executing=!0;for(let r of uL)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Pe(17)}register(t){let{view:r}=t;r!==void 0?((r[ea]??=[]).push(t),su(r),r[se]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Hv.AFTER_NEXT_RENDER,t):t()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),zy=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ea];e&&(this.view[ea]=e.filter(t=>t!==this))}};function zv(n,e){!e?.injector&&bv(zv);let t=e?.injector??O(ot);return va("NgAfterNextRender"),hL(n,t,e,!0)}function dL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function hL(n,e,t,r){let i=e.get(WT);i.impl??=e.get(lL);let o=e.get(ya,null,{optional:!0}),s=t?.phase??Js.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Go):null,u=e.get(GT,null,{optional:!0}),l=new zy(i.impl,dL(n,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var fL=(n,e,t,r)=>{};function pL(n,e,t,r){fL(n,e,t,r)}var mL=()=>null;function KT(n,e,t=!1){return mL(n,e,t)}function QT(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Mv(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function qy(n,e,t){Mv(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function qv(n,e,t){if(Cv(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}var mr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mr||{});var $d;function gL(){if($d===void 0&&($d=null,So.trustedTypes))try{$d=So.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $d}function sD(n){return gL()?.createScriptURL(n)||n}var hh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SD})`}};function Mh(n){return n instanceof hh?n.changingThisBreaksApplicationSecurity:n}function YT(n,e){let t=yL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${SD})`)}return t===e}function yL(n){return n instanceof hh&&n.getTypeName()||null}var vL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _L(n){return n=String(n),n.match(vL)?n:"unsafe:"+n}var Gv=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gv||{});function Wo(n){let e=JT();return e?e.sanitize(Gv.URL,n)||"":YT(n,"URL")?Mh(n):_L(na(n))}function EL(n){let e=JT();if(e)return sD(e.sanitize(Gv.RESOURCE_URL,n)||"");if(YT(n,"ResourceURL"))return sD(Mh(n));throw new q(904,!1)}function wL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?EL:Wo}function ZT(n,e,t){return wL(e,t)(n)}function JT(){let n=Te();return n&&n[Hr].sanitizer}var IL=/^>|^->|<!--|-->|--!>|<!-$/g,bL=/(<|>)/g,CL="\u200B$1\u200B";function DL(n){return n.replace(IL,e=>e.replace(bL,CL))}function XT(n){return n instanceof Function?n():n}function TL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var eS="ng-template";function SL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&TL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Wv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Wv(n){return n.type===4&&n.value!==eS}function AL(n,e,t){let r=n.type===4&&!t?eS:n.value;return e===r}function RL(n,e,t){let r=4,i=n.attrs,o=i!==null?xL(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Hn(r)&&!Hn(u))return!1;if(s&&Hn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!AL(n,u,t)||u===""&&e.length===1){if(Hn(r))return!1;s=!0}}else if(r&8){if(i===null||!SL(n,i,u,t)){if(Hn(r))return!1;s=!0}}else{let l=e[++a],h=ML(u,i,Wv(n),t);if(h===-1){if(Hn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Hn(r))return!1;s=!0}}}}return Hn(r)||s}function Hn(n){return(n&1)===0}function ML(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return PL(e,n)}function NL(n,e,t=!1){for(let r=0;r<e.length;r++)if(RL(n,e[r],t))return!0;return!1}function xL(n){for(let e=0;e<n.length;e++){let t=n[e];if(ET(t))return e}return n.length}function PL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function aD(n,e){return n?":not("+e.trim()+")":e}function kL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Hn(s)&&(e+=aD(o,i),i=""),r=s,o=o||!Hn(r);t++}return i!==""&&(e+=aD(o,i)),e}function OL(n){return n.map(kL).join(",")}function FL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Hn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Yr={};function LL(n,e){return n.createText(e)}function VL(n,e,t){n.setValue(e,t)}function jL(n,e){return n.createComment(DL(e))}function tS(n,e,t){return n.createElement(e,t)}function fh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function nS(n,e,t){n.appendChild(e,t)}function cD(n,e,t,r,i){r!==null?fh(n,e,t,r,i):nS(n,e,t)}function UL(n,e,t){n.removeChild(null,e,t)}function BL(n,e,t){n.setAttribute(e,"style",t)}function $L(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function rS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&AF(n,e,r),i!==null&&$L(n,e,i),o!==null&&BL(n,e,o)}function Kv(n,e,t,r,i,o,s,a,u,l,h){let p=un+r,m=p+i,g=HL(p,m),C=typeof l=="function"?l():l;return g[me]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function HL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yr);return t}function zL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Kv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Qv(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Gr]=i,p[se]=r|4|128|8|64|1024,(l!==null||n&&n[se]&2048)&&(p[se]|=2048),oT(p),p[Ft]=p[ha]=n,p[Jt]=t,p[Hr]=s||n&&n[Hr],p[it]=a||n&&n[it],p[ia]=u||n&&n[ia]||null,p[Gn]=o,p[bh]=tL(),p[th]=h,p[YD]=l,p[lr]=e.type==2?n[lr]:p,p}function qL(n,e,t){let r=gr(e,n),i=zL(t),o=n[Hr].rendererFactory,s=Yv(n,Qv(n,i,null,iS(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function iS(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function oS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Yv(n,e){return n[eu]?n[GC][zn]=e:n[eu]=e,n[GC]=e,e}function F(n=1){sS(Et(),Te(),qo()+n,!1)}function sS(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&qd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Gd(e,o,0,t)}Fo(t)}var Nh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Nh||{});function Gy(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Nh.SignalBased)!==0&&(u=e[o][wn]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):JD(e,u,o,r)}finally{ve(i)}}function aS(n,e,t,r,i){let o=qo(),s=r&2;try{Fo(-1),s&&e.length>un&&sS(n,e,un,!1),Pe(s?2:0,i),t(r,i)}finally{Fo(o),Pe(s?3:1,i)}}function xh(n,e,t){ZL(n,e,t),(t.flags&64)===64&&JL(n,e,t)}function Zv(n,e,t=gr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function GL(n,e,t,r){let o=r.get(aL,qT)||t===mr.ShadowDom,s=n.selectRootElement(e,o);return WL(s),s}function WL(n){KL(n)}var KL=()=>null;function QL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function cS(n,e,t,r,i,o,s,a){if(!a&&Xv(e,n,t,r,i)){fa(e)&&YL(t,e.index);return}if(e.type&3){let u=gr(e,t);r=QL(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function YL(n,e){let t=fr(e,n);t[se]&16||(t[se]|=64)}function ZL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;fa(t)&&qL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||uh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=tu(e,n,s,t);if(ga(u,e),o!==null&&nV(e,s-r,u,a,t,o),dr(a)){let l=fr(t.index,e);l[Jt]=tu(e,n,s,t)}}}function JL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=_F();try{Fo(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Py(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&XL(u,l)}}finally{Fo(-1),Py(s)}}function XL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Jv(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];NL(e,o.selectors,!1)&&(r??=[],dr(o)?r.unshift(o):r.push(o))}return r}function eV(n,e,t,r,i,o){let s=gr(n,e);tV(e[it],s,o,n.value,t,r,i)}function tV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?na(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function nV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Gy(r,t,u,l)}}function rV(n,e){let t=n[ia],r=t?t.get(pr,null):null;r&&r.handleError(e)}function Xv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Gy(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Gy(h,l,r,i),a=!0}return a}function iV(n,e){let t=fr(e,n),r=t[me];oV(r,t);let i=t[Gr];i!==null&&t[th]===null&&(t[th]=KT(i,t[ia])),Pe(18),e_(r,t,t[Jt]),Pe(19,t[Jt])}function oV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function e_(n,e,t){Nv(e);try{let r=n.viewQuery;r!==null&&qy(1,r,t);let i=n.template;i!==null&&aS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zr]?.finishViewCreation(n),n.staticContentQueries&&QT(n,e),n.staticViewQueries&&qy(2,n.viewQuery,t);let o=n.components;o!==null&&sV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,xv()}}function sV(n,e){for(let t=0;t<e.length;t++)iV(n,e[t])}function aV(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=Qv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Po]=l;let h=n[zr];return h!==null&&(u[zr]=h.createEmbeddedView(o)),e_(o,u,t),u}finally{ve(i)}}function uD(n,e){return!e||e.firstChild===null||VT(n)}var cV;function t_(n,e){return cV(n,e)}var qr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(qr||{});function uS(n){return(n.flags&32)===32}function Xs(n,e,t,r,i){if(r!=null){let o,s=!1;Wr(r)?o=r:Ni(r)&&(s=!0,r=r[Gr]);let a=hr(r);n===0&&t!==null?i==null?nS(e,t,a):fh(e,t,a,i||null,!0):n===1&&t!==null?fh(e,t,a,i||null,!0):n===2?UL(e,a,s):n===3&&e.destroyNode(a),o!=null&&EV(e,n,o,t,i)}}function uV(n,e){lS(n,e),e[Gr]=null,e[Gn]=null}function lV(n,e,t,r,i,o){r[Gr]=i,r[Gn]=e,kh(n,r,t,1,i,o)}function lS(n,e){e[Hr].changeDetectionScheduler?.notify(9),kh(n,e,e[it],2,null,null)}function dV(n){let e=n[eu];if(!e)return my(n[me],n);for(;e;){let t=null;if(Ni(e))t=e[eu];else{let r=e[cn];r&&(t=r)}if(!t){for(;e&&!e[zn]&&e!==n;)Ni(e)&&my(e[me],e),e=e[Ft];e===null&&(e=n),Ni(e)&&my(e[me],e),t=e&&e[zn]}e=t}}function n_(n,e){let t=n[oa],r=t.indexOf(e);t.splice(r,1)}function dS(n,e){if(pa(e))return;let t=e[it];t.destroyNode&&kh(n,e,t,3,null,null),dV(e)}function my(n,e){if(pa(e))return;let t=ve(null);try{e[se]&=-129,e[se]|=256,e[bn]&&jg(e[bn]),fV(n,e),hV(n,e),e[me].type===1&&e[it].destroy();let r=e[Po];if(r!==null&&Wr(e[Ft])){r!==e[Ft]&&n_(r,e);let i=e[zr];i!==null&&i.detachView(n)}$y(e)}finally{ve(t)}}function hV(n,e){let t=n.cleanup,r=e[nh];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[nh]=null);let i=e[Mi];if(i!==null){e[Mi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[rh];if(o!==null){e[rh]=null;for(let s of o)s.destroy()}}function fV(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Lo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Pe(4,a,u);try{u.call(a)}finally{Pe(5,a,u)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function pV(n,e,t){return mV(n,e.parent,t)}function mV(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Gr];if(fa(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===mr.None||i===mr.Emulated)return null}return gr(r,t)}function gV(n,e,t){return vV(n,e,t)}function yV(n,e,t){return n.type&40?gr(n,t):null}var vV=yV,lD;function Ph(n,e,t,r){let i=pV(n,r,e),o=e[it],s=r.parent||e[Gn],a=gV(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)cD(o,i,t[u],a,!1);else cD(o,i,t,a,!1);lD!==void 0&&lD(o,r,e,t,i)}function Yc(n,e){if(e!==null){let t=e.type;if(t&3)return gr(e,n);if(t&4)return Wy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Yc(n,r);{let i=n[e.index];return Wr(i)?Wy(-1,i):hr(i)}}else{if(t&128)return Yc(n,e.next);if(t&32)return t_(e,n)()||hr(n[e.index]);{let r=hS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Oo(n[lr]);return Yc(i,r)}else return Yc(n,e.next)}}}return null}function hS(n,e){if(e!==null){let r=n[lr][Gn],i=e.projection;return r.projection[i]}return null}function Wy(n,e){let t=cn+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return Yc(r,i)}return e[ko]}function r_(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&ga(hr(a),r),t.flags|=2),!uS(t))if(u&8)r_(n,e,t.child,r,i,o,!1),Xs(e,n,i,a,o);else if(u&32){let l=t_(t,r),h;for(;h=l();)Xs(e,n,i,h,o);Xs(e,n,i,a,o)}else u&16?_V(n,e,r,t,i,o):Xs(e,n,i,a,o);t=s?t.projectionNext:t.next}}function kh(n,e,t,r,i,o){r_(t,r,n.firstChild,e,i,o,!1)}function _V(n,e,t,r,i,o){let s=t[lr],u=s[Gn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Xs(e,n,i,h,o)}else{let l=u,h=s[Ft];VT(r)&&(l.flags|=128),r_(n,e,l,h,i,o,!0)}}function EV(n,e,t,r,i){let o=t[ko],s=hr(t);o!==s&&Xs(e,n,r,o,i);for(let a=cn;a<t.length;a++){let u=t[a];kh(u[me],u,n,e,r,o)}}function wV(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:qr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=qr.Important),n.setStyle(t,r,i,o))}}function ph(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(hr(o)),Wr(o)&&IV(o,r);let s=t.type;if(s&8)ph(n,e,t.child,r);else if(s&32){let a=t_(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=hS(e,t);if(Array.isArray(a))r.push(...a);else{let u=Oo(e[lr]);ph(u[me],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function IV(n,e){for(let t=cn;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&ph(r[me],r,i,e)}n[ko]!==n[Gr]&&e.push(n[ko])}function fS(n){if(n[ea]!==null){for(let e of n[ea])e.impl.addSequence(e);n[ea].length=0}}var pS=[];function bV(n){return n[bn]??CV(n)}function CV(n){let e=pS.pop()??Object.create(TV);return e.lView=n,e}function DV(n){n.lView[bn]!==n&&(n.lView=null,pS.push(n))}var TV=oe(V({},jc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{su(n.lView)},consumerOnSignalRead(){this.lView[bn]=this}});function SV(n){let e=n[bn]??Object.create(AV);return e.lView=n,e}var AV=oe(V({},jc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Oo(n.lView);for(;e&&!mS(e[me]);)e=Oo(e);e&&sT(e)},consumerOnSignalRead(){this.lView[bn]=this}});function mS(n){return n.type!==2}function gS(n){if(n[rh]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[rh])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var RV=100;function yS(n,e=!0,t=0){let i=n[Hr].rendererFactory,o=!1;o||i.begin?.();try{MV(n,t)}catch(s){throw e&&rV(n,s),s}finally{o||i.end?.()}}function MV(n,e){let t=lT();try{KC(!0),Ky(n,e);let r=0;for(;Dh(n);){if(r===RV)throw new q(103,!1);r++,Ky(n,1)}}finally{KC(t)}}function NV(n,e,t,r){if(pa(e))return;let i=e[se],o=!1,s=!1;Nv(e);let a=!0,u=null,l=null;o||(mS(n)?(l=bV(e),u=ad(l)):Pg()===null?(a=!1,l=SV(e),u=ad(l)):e[bn]&&(jg(e[bn]),e[bn]=null));try{oT(e),gF(n.bindingStartIndex),t!==null&&aS(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&qd(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Gd(e,g,0,null),fy(e,0)}if(s||xV(e),gS(e),vS(e,0),n.contentQueries!==null&&QT(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&qd(e,g)}else{let g=n.contentHooks;g!==null&&Gd(e,g,1),fy(e,1)}kV(n,e);let p=n.components;p!==null&&ES(e,p,0);let m=n.viewQuery;if(m!==null&&qy(2,m,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&qd(e,g)}else{let g=n.viewHooks;g!==null&&Gd(e,g,2),fy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[hy]){for(let g of e[hy])g();e[hy]=null}o||(fS(e),e[se]&=-73)}catch(h){throw o||su(e),h}finally{l!==null&&(Lg(l,u),a&&DV(l)),xv()}}function vS(n,e){for(let t=BT(n);t!==null;t=$T(t))for(let r=cn;r<t.length;r++){let i=t[r];_S(i,e)}}function xV(n){for(let e=BT(n);e!==null;e=$T(e)){if(!(e[se]&2))continue;let t=e[oa];for(let r=0;r<t.length;r++){let i=t[r];sT(i)}}}function PV(n,e,t){Pe(18);let r=fr(e,n);_S(r,t),Pe(19,r[Jt])}function _S(n,e){Dv(n)&&Ky(n,e)}function Ky(n,e){let r=n[me],i=n[se],o=n[bn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vg(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)NV(r,n,r.template,n[Jt]);else if(i&8192){gS(n),vS(n,1);let a=r.components;a!==null&&ES(n,a,1),fS(n)}}function ES(n,e,t){for(let r=0;r<e.length;r++)PV(n,e[r],t)}function kV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Fo(~i);else{let o=i,s=t[++r],a=t[++r];vF(s,o);let u=e[o];Pe(24,u),a(2,u),Pe(25,u)}}}finally{Fo(-1)}}function i_(n,e){let t=lT()?64:1088;for(n[Hr].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=Oo(n);if(oh(n)&&!r)return n;n=r}return null}function wS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function OV(n,e,t,r=!0){let i=e[me];if(FV(i,e,n,t),r){let s=Wy(t,n),a=e[it],u=a.parentNode(n[ko]);u!==null&&lV(i,n[Gn],a,e,u,s)}let o=e[th];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Qy(n,e){if(n.length<=cn)return;let t=cn+e,r=n[t];if(r){let i=r[Po];i!==null&&i!==n&&n_(i,r),e>0&&(n[t-1][zn]=r[zn]);let o=Xd(n,cn+e);uV(r[me],r);let s=o[zr];s!==null&&s.detachView(o[me]),r[Ft]=null,r[zn]=null,r[se]&=-129}return r}function FV(n,e,t,r){let i=cn+r,o=t.length;r>0&&(t[i-1][zn]=e),r<o-cn?(e[zn]=t[i],BD(t,cn+r,e)):(t.push(e),e[zn]=null),e[Ft]=t;let s=e[Po];s!==null&&t!==s&&IS(s,e);let a=e[zr];a!==null&&a.insertView(n),Ny(e),e[se]|=128}function IS(n,e){let t=n[oa],r=e[Ft];if(Ni(r))n[se]|=2;else{let i=r[Ft][lr];e[lr]!==i&&(n[se]|=2)}t===null?n[oa]=[e]:t.push(e)}var nu=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[me];return ph(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Jt]}set context(e){this._lView[Jt]=e}get destroyed(){return pa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(Wr(e)){let t=e[ih],r=t?t.indexOf(this):-1;r>-1&&(Qy(e,r),Xd(t,r))}this._attachedToViewContainer=!1}dS(this._lView[me],this._lView)}onDestroy(e){aT(this._lView,e)}markForCheck(){i_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Ny(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,yS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=oh(this._lView),t=this._lView[Po];t!==null&&!e&&n_(t,this._lView),lS(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let t=oh(this._lView),r=this._lView[Po];r!==null&&!t&&IS(r,this._lView),Ny(this._lView)}};var jo=(()=>{class n{static __NG_ELEMENT_ID__=jV}return n})(),LV=jo,VV=class extends LV{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=aV(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new nu(i)}};function jV(){return Oh(zt(),Te())}function Oh(n,e){return n.type&4?new VV(e,n,ma(n,e)):null}function Fh(n,e,t,r,i){let o=n.data[e];if(o===null)o=UV(n,e,t,r,i),yF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=hF();o.injectorIndex=s===null?-1:s.injectorIndex}return zo(o,!0),o}function UV(n,e,t,r,i){let o=cT(),s=Rv(),a=s?o:o&&o.parent,u=n.data[e]=$V(n,a,t,e,r,i);return BV(n,u,o,s),u}function BV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function $V(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return uF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var zY=new RegExp(`^(\\d+)*(${sL}|${oL})*(.*)`);var HV=()=>null;function dD(n,e){return HV(n,e)}var zV=class{},bS=class{},Yy=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Zt(e)}.`)}},Lh=class{static NULL=new Yy},ca=class{},Zr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>qV()}return n})();function qV(){let n=Te(),e=zt(),t=fr(e.index,n);return(Ni(t)?t:n)[it]}var GV=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var gy={},Zy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=wh(r);let i=this.injector.get(e,gy,r);return i!==gy||t===gy?i:this.parentInjector.get(e,t,r)}};function Jy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=jC(i,a);else if(o==2){let u=a,l=e[++s];r=jC(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function U(n,e=he.Default){let t=Te();if(t===null)return Y(n,e);let r=zt();return ST(r,t,Ht(n),e)}function CS(){let n="invalid";throw new Error(n)}function o_(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,u=null,l=null,h=KV(s);h===null?a=s:[a,u,l]=h,ZV(n,e,t,a,o,u,l)}o!==null&&r!==null&&WV(t,r,o)}function WV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function KV(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&dr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,QV(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function QV(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function YV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ZV(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let g=r[m];!u&&dr(g)&&(u=!0,YV(n,t,m)),Oy(uh(t,e),n,g.type)}r2(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let l=!1,h=!1,p=oS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=aa(t.mergedAttrs,g.hostAttrs),XV(n,t,e,p,g),n2(p,g,i),s!==null&&s.has(g)){let[N,x]=s.get(g);t.directiveToIndex.set(g.type,[p,N+t.directiveStart,x+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let C=g.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}JV(n,t,o)}function JV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))hD(0,e,i,r),hD(1,e,i,r),pD(e,r,!1);else{let o=t.get(i);fD(0,e,o,r),fD(1,e,o,r),pD(e,r,!0)}}}function hD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),DS(e,o)}}function fD(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),DS(e,s)}}function DS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function pD(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Wv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function XV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Mo(i.type,!0)),s=new Lo(o,dr(i),U);n.blueprint[r]=s,t[r]=s,e2(n,e,r,oS(n,t,i.hostVars,Yr),i)}function e2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;t2(s)!=a&&s.push(a),s.push(t,r,o)}}function t2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function n2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;dr(e)&&(t[""]=n)}}function r2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function TS(n,e,t,r,i,o,s,a){let u=e.consts,l=sa(u,s),h=Fh(e,n,2,r,l);return o&&o_(e,t,h,sa(u,a),i),h.mergedAttrs=aa(h.mergedAttrs,h.attrs),h.attrs!==null&&Jy(h,h.attrs,!1),h.mergedAttrs!==null&&Jy(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function SS(n,e){kv(n,e),Cv(e)&&n.queries.elementEnd(e)}var mh=class extends Lh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=xo(e);return new ua(t,this.ngModule)}};function i2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Nh.SignalBased)!==0};return i&&(o.transform=i),o})}function o2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function s2(n,e,t){let r=e instanceof vt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Zy(t,r):t}function a2(n){let e=n.get(ca,null);if(e===null)throw new q(407,!1);let t=n.get(GV,null),r=n.get(Vo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function c2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return tS(e,t,t==="svg"?JO:t==="math"?XO:null)}var ua=class extends bS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=i2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=o2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=OL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Pe(22);let o=ve(null);try{let s=this.componentDef,a=r?["ng-version","19.2.15"]:FL(this.componentDef.selectors[0]),u=Kv(0,null,null,1,0,null,null,null,null,[a],null),l=s2(s,i||this.ngModule,e),h=a2(l),p=h.rendererFactory.createRenderer(null,s),m=r?GL(p,r,s.encapsulation,l):c2(s,p),g=Qv(null,u,null,512|iS(s),null,null,h,p,l,null,KT(m,l,!0));g[un]=m,Nv(g);let C=null;try{let N=TS(un,u,g,"#host",()=>[this.componentDef],!0,0);m&&(rS(p,m,N),ga(m,g)),xh(u,g,N),qv(u,N,g),SS(u,N),t!==void 0&&u2(N,this.ngContentSelectors,t),C=fr(N.index,g),g[Jt]=C[Jt],e_(u,g,null)}catch(N){throw C!==null&&$y(C),$y(g),N}finally{Pe(23),xv()}return new Xy(this.componentType,g)}finally{ve(o)}}},Xy=class extends zV{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=rT(t[me],un),this.location=ma(this._tNode,t),this.instance=fr(this._tNode.index,t)[Jt],this.hostView=this.changeDetectorRef=new nu(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Xv(r,i[me],i,e,t);this.previousInputValues.set(e,t);let s=fr(r.index,i);i_(s,1)}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function u2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Pi=(()=>{class n{static __NG_ELEMENT_ID__=l2}return n})();function l2(){let n=zt();return RS(n,Te())}var d2=Pi,AS=class extends d2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ma(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ov(this._hostTNode,this._hostLView);if(wT(e)){let t=ah(e,this._hostLView),r=sh(e),i=t[me].data[r+8];return new Ro(i,t)}else return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mD(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-cn}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=dD(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,uD(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!KO(e),a;if(s)a=t;else{let C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new ua(xo(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(vt,null);N&&(o=N)}let h=xo(u.componentType??{}),p=dD(this._lContainer,h?.id??null),m=p?.firstChild??null,g=u.create(l,i,m,o);return this.insertImpl(g.hostView,a,uD(this._hostTNode,p)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(nF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ft],l=new AS(u,u[Gn],u[Ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return OV(s,i,o,r),e.attachToViewContainerRef(),BD(yy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mD(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Qy(this._lContainer,t);r&&(Xd(yy(this._lContainer),t),dS(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=Qy(this._lContainer,t);return r&&Xd(yy(this._lContainer),t)!=null?new nu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mD(n){return n[ih]}function yy(n){return n[ih]||(n[ih]=[])}function RS(n,e){let t,r=e[n.index];return Wr(r)?t=r:(t=wS(r,e,null,n),e[n.index]=t,Yv(e,t)),f2(t,e,n,r),new AS(t,n,e)}function h2(n,e){let t=n[it],r=t.createComment(""),i=gr(e,n),o=t.parentNode(i);return fh(t,o,r,t.nextSibling(i),!1),r}var f2=g2,p2=()=>!1;function m2(n,e,t){return p2(n,e,t)}function g2(n,e,t,r){if(n[ko])return;let i;t.type&8?i=hr(r):i=h2(e,t),n[ko]=i}var ev=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},tv=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)s_(e,t).matches!==null&&this.queries[t].setDirty()}},nv=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=C2(e):this.predicate=e}},rv=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},iv=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,y2(t,o)),this.matchTNodeWithReadOption(e,t,Wd(t,e,o,!1,!1))}else r===jo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===dn||i===Pi||i===jo&&t.type&4)this.addMatch(t.index,-2);else{let o=Wd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function y2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function v2(n,e){return n.type&11?ma(n,e):n.type&4?Oh(n,e):null}function _2(n,e,t,r){return t===-1?v2(e,n):t===-2?E2(n,e,r):tu(n,n[me],t,e)}function E2(n,e,t){if(t===dn)return ma(e,n);if(t===jo)return Oh(e,n);if(t===Pi)return RS(e,n)}function MS(n,e,t,r){let i=e[zr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(_2(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function ov(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=MS(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=cn;p<h.length;p++){let m=h[p];m[Po]===m[Ft]&&ov(m[me],m,l,r)}if(h[oa]!==null){let p=h[oa];for(let m=0;m<p.length;m++){let g=p[m];ov(g[me],g,l,r)}}}}}return r}function w2(n,e){return n[zr].queries[e].queryList}function I2(n,e,t){let r=new By((t&4)===4);return oF(n,e,r,r.destroy),(e[zr]??=new tv).queries.push(new ev(r))-1}function b2(n,e,t){let r=Et();return r.firstCreatePass&&(D2(r,new nv(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),I2(r,Te(),e)}function C2(n){return n.split(",").map(e=>e.trim())}function D2(n,e,t){n.queries===null&&(n.queries=new rv),n.queries.track(new iv(e,t))}function s_(n,e){return n.queries.getByIndex(e)}function T2(n,e){let t=n[me],r=s_(t,e);return r.crossesNgTemplate?ov(t,n,e,[]):MS(t,n,r,e)}var la=class{},a_=class{};var sv=class extends la{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new mh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=zD(e);this._bootstrapComponents=XT(o.bootstrap),this._r3Injector=MT(e,t,[{provide:la,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},av=class extends a_{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new sv(this.moduleType,e,[])}};var gh=class extends la{injector;componentFactoryResolver=new mh(this);instance=null;constructor(e){super();let t=new Xc([...e.providers,{provide:la,useValue:this},{provide:Lh,useValue:this.componentFactoryResolver}],e.parent||Iv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function au(n,e,t=null){return new gh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var S2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=qD(!1,t.type),i=r.length>0?au([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(Y(vt))})}return n})();function Me(n){return iu(()=>{let e=NS(n),t=oe(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(S2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mr.Emulated,styles:n.styles||In,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&va("NgStandalone"),xS(t);let r=n.dependencies;return t.directiveDefs=gD(r,!1),t.pipeDefs=gD(r,!0),t.id=x2(t),t})}function A2(n){return xo(n)||FO(n)}function R2(n){return n!==null}function Wn(n){return iu(()=>({type:n.type,bootstrap:n.bootstrap||In,declarations:n.declarations||In,imports:n.imports||In,exports:n.exports||In,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function M2(n,e){if(n==null)return No;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Nh.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function N2(n){if(n==null)return No;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function He(n){return iu(()=>{let e=NS(n);return xS(e),e})}function cu(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function NS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||No,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||In,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:M2(n.inputs,e),outputs:N2(n.outputs),debugInfo:null}}function xS(n){n.features?.forEach(e=>e(n))}function gD(n,e){if(!n)return null;let t=e?LO:A2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(R2)}function x2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function P2(n){return Object.getPrototypeOf(n.prototype).constructor}function en(n){let e=P2(n.type),t=!0,r=[n];for(;e;){let i;if(dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=vy(n.inputs),s.declaredInputs=vy(n.declaredInputs),s.outputs=vy(n.outputs);let a=i.hostBindings;a&&V2(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&F2(n,u),l&&L2(n,l),k2(n,i),fO(n.outputs,i.outputs),dr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===en&&(t=!1)}}e=Object.getPrototypeOf(e)}O2(r)}function k2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function O2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,t=aa(t,i.hostAttrs))}}function vy(n){return n===No?{}:n===In?[]:n}function F2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function L2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function V2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function PS(n){return U2(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function j2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function U2(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function B2(n,e,t){return n[e]=t}function Uo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function kS(n,e,t,r){let i=Uo(n,e,t);return Uo(n,e+1,r)||i}function $2(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Fh(e,n,4,s||null,a||null);Av()&&o_(e,t,h,sa(l,u),Jv),h.mergedAttrs=aa(h.mergedAttrs,h.attrs),kv(e,h);let p=h.tView=Kv(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function H2(n,e,t,r,i,o,s,a,u,l){let h=t+un,p=e.firstCreatePass?$2(h,e,n,r,i,o,s,a,u):e.data[h];zo(p,!1);let m=z2(e,n,p,t);Sh()&&Ph(e,n,m,p),ga(m,n);let g=wS(m,n,m,p);return n[h]=g,Yv(n,g),m2(g,p,n),Ch(p)&&xh(e,n,p),u!=null&&Zv(n,p,l),p}function ee(n,e,t,r,i,o,s,a){let u=Te(),l=Et(),h=sa(l.consts,o);return H2(u,l,n,e,t,r,i,h,s,a),ee}var z2=q2;function q2(n,e,t,r){return Ah(!0),e[it].createComment("")}var OS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var FS=new H("");var G2=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new cv})}return n})(),cv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ko(n){return!!n&&typeof n.then=="function"}function LS(n){return!!n&&typeof n.subscribe=="function"}var VS=new H("");function c_(n){return Dn([{provide:VS,multi:!0,useValue:n}])}var jS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=O(VS,{optional:!0})??[];injector=O(ot);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=_t(this.injector,i);if(Ko(o))t.push(o);else if(LS(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vh=new H("");function W2(){Bg(()=>{throw new q(600,!1)})}function K2(n){return n.isBoundToModule}var Q2=10;var Bo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(WF);afterRenderManager=O(WT);zonelessEnabled=O(Lv);rootEffectScheduler=O(G2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Be;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(Qr).hasPendingTasks.pipe(ie(t=>!t));constructor(){O(ya,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=O(vt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ot.NULL){Pe(10);let o=t instanceof bS;if(!this._injector.get(jS).done){let g="";throw new q(405,g)}let a;o?a=t:a=this._injector.get(Lh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let u=K2(a)?void 0:this._injector.get(la),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(FS,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Kd(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Pe(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Pe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Hv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new q(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Pe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ca,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Q2;)Pe(14),this.synchronizeOnce(),Pe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Y2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Kd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Y2(n,e,t,r){if(!t&&!Dh(n))return;yS(n,e,t&&!r?0:1)}function uu(n,e,t,r){let i=Te(),o=Th();if(Uo(i,o,e)){let s=Et(),a=Pv();eV(a,i,n,e,t,r)}return uu}function Z2(n,e,t,r){return Uo(n,Th(),t)?e+na(t)+r:Yr}function J2(n,e,t,r,i,o){let s=mF(),a=kS(n,s,t,i);return dT(2),a?e+na(t)+r+na(i)+o:Yr}function Hd(n,e){return n<<17|e<<2}function $o(n){return n>>17&32767}function X2(n){return(n&2)==2}function ej(n,e){return n&131071|e<<17}function uv(n){return n|2}function da(n){return(n&131068)>>2}function _y(n,e){return n&-131069|e<<2}function tj(n){return(n&1)===1}function lv(n){return n|1}function nj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$o(s),u=da(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ou(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=$o(n[a+1]);n[r+1]=Hd(m,a),m!==0&&(n[m+1]=_y(n[m+1],r)),n[a+1]=ej(n[a+1],r)}else n[r+1]=Hd(a,0),a!==0&&(n[a+1]=_y(n[a+1],r)),a=r;else n[r+1]=Hd(u,0),a===0?a=r:n[u+1]=_y(n[u+1],r),u=r;l&&(n[r+1]=uv(n[r+1])),yD(n,h,r,!0),yD(n,h,r,!1),rj(e,h,n,r,o),s=Hd(a,u),o?e.classBindings=s:e.styleBindings=s}function rj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ou(o,e)>=0&&(t[r+1]=lv(t[r+1]))}function yD(n,e,t,r){let i=n[t+1],o=e===null,s=r?$o(i):da(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];ij(u,e)&&(a=!0,n[s+1]=r?lv(l):uv(l)),s=r?$o(l):da(l)}a&&(n[t+1]=r?uv(i):lv(i))}function ij(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ou(n,e)>=0:!1}function W(n,e,t){let r=Te(),i=Th();if(Uo(r,i,e)){let o=Et(),s=Pv();cS(o,s,r,n,e,r[it],t,!1)}return W}function vD(n,e,t,r,i){Xv(e,n,t,i?"class":"style",r)}function ki(n,e){return oj(n,e,null,!0),ki}function oj(n,e,t,r){let i=Te(),o=Et(),s=dT(2);if(o.firstUpdatePass&&aj(o,n,s,r),e!==Yr&&Uo(i,s,e)){let a=o.data[qo()];hj(o,a,i,i[it],n,i[s+1]=fj(e,t),r,s)}}function sj(n,e){return e>=n.expandoStartIndex}function aj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[qo()],s=sj(n,t);pj(o,r)&&e===null&&!s&&(e=!1),e=cj(i,o,e,r),nj(i,o,e,t,s,r)}}function cj(n,e,t,r){let i=EF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ey(null,n,e,t,r),t=ru(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ey(i,n,e,t,r),o===null){let u=uj(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Ey(null,n,e,u[1],r),u=ru(u,e.attrs,r),lj(n,e,r,u))}else o=dj(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function uj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(da(r)!==0)return n[$o(r)]}function lj(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[$o(i)]=r}function dj(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ru(r,s,t)}return ru(r,e.attrs,t)}function Ey(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ru(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ru(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),kO(n,s,t?!0:e[++o]))}return n===void 0?null:n}function hj(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=tj(l)?_D(u,e,t,i,da(l),s):void 0;if(!yh(h)){yh(o)||X2(l)&&(o=_D(u,null,t,i,a,s));let p=nT(qo(),t);wV(r,s,p,i,o)}}function _D(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Yr&&(m=p?In:void 0);let g=p?ly(m,r):h===r?m:void 0;if(l&&!yh(g)&&(g=ly(u,r)),yh(g)&&(a=g,s))return a;let C=n[i+1];i=s?$o(C):da(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ly(u,r))}return a}function yh(n){return n!==void 0}function fj(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Zt(Mh(n)))),n}function pj(n,e){return(n.flags&(e?8:16))!==0}function b(n,e,t,r){let i=Te(),o=Et(),s=un+n,a=i[it],u=o.firstCreatePass?TS(s,o,i,e,Jv,Av(),t,r):o.data[s],l=mj(o,i,u,a,e,n);i[s]=l;let h=Ch(u);return zo(u,!0),rS(a,l,u),!uS(u)&&Sh()&&Ph(o,i,l,u),(sF()===0||h)&&ga(l,i),aF(),h&&(xh(o,i,u),qv(o,u,i)),r!==null&&Zv(i,u),b}function E(){let n=zt();Rv()?uT():(n=n.parent,zo(n,!1));let e=n;lF(e)&&dF(),cF();let t=Et();return t.firstCreatePass&&SS(t,e),e.classesWithoutHost!=null&&TF(e)&&vD(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SF(e)&&vD(t,e,Te(),e.stylesWithoutHost,!1),E}function fe(n,e,t,r){return b(n,e,t,r),E(),fe}var mj=(n,e,t,r,i,o)=>(Ah(!0),tS(r,i,bF()));function gj(n,e,t,r,i){let o=e.consts,s=sa(o,r),a=Fh(e,n,8,"ng-container",s);s!==null&&Jy(a,s,!0);let u=sa(o,i);return Av()&&o_(e,t,a,u,Jv),a.mergedAttrs=aa(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Qo(n,e,t){let r=Te(),i=Et(),o=n+un,s=i.firstCreatePass?gj(o,i,r,e,t):i.data[o];zo(s,!0);let a=yj(i,r,s,n);return r[o]=a,Sh()&&Ph(i,r,a,s),ga(a,r),Ch(s)&&(xh(i,r,s),qv(i,s,r)),t!=null&&Zv(r,s),Qo}function Yo(){let n=zt(),e=Et();return Rv()?uT():(n=n.parent,zo(n,!1)),e.firstCreatePass&&(kv(e,n),Cv(n)&&e.queries.elementEnd(n)),Yo}var yj=(n,e,t,r)=>(Ah(!0),jL(e[it],""));function st(){return Te()}var To=void 0;function vj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var _j=["en",[["a","p"],["AM","PM"],To],[["AM","PM"],To,To],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],To,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],To,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",To,"{1} 'at' {0}",To],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vj],wy={};function tn(n){let e=Ej(n),t=ED(e);if(t)return t;let r=e.split("-")[0];if(t=ED(r),t)return t;if(r==="en")return _j;throw new q(701,!1)}function ED(n){return n in wy||(wy[n]=So.ng&&So.ng.common&&So.ng.common.locales&&So.ng.common.locales[n]),wy[n]}var Ze=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ze||{});function Ej(n){return n.toLowerCase().replace(/_/g,"-")}var vh="en-US",wj="USD";var Ij=vh;function bj(n){typeof n=="string"&&(Ij=n.toLowerCase().replace(/_/g,"-"))}function wD(n,e,t){return function r(i){if(i===Function)return t;let o=fa(n)?fr(n.index,e):e;i_(o,5);let s=e[Jt],a=ID(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=ID(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ID(n,e,t,r){let i=ve(null);try{return Pe(6,e,t),t(r)!==!1}catch(o){return Cj(n,o),!1}finally{Pe(7,e,t),ve(i)}}function Cj(n,e){let t=n[ia],r=t?t.get(pr,null):null;r&&r.handleError(e)}function bD(n,e,t,r,i,o){let s=e[t],a=e[me],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?Sv(a):null,m=Tv(e),g=h.subscribe(o),C=m.length;m.push(o,g),p&&p.push(i,n.index,C,-(C+1))}function te(n,e,t,r){let i=Te(),o=Et(),s=zt();return US(o,i,i[it],s,n,e,r),te}function Dj(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[nh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function US(n,e,t,r,i,o,s){let a=Ch(r),l=n.firstCreatePass?Sv(n):null,h=Tv(e),p=!0;if(r.type&3||s){let m=gr(r,e),g=s?s(m):m,C=h.length,N=s?j=>s(hr(j[r.index])):r.index,x=null;if(!s&&a&&(x=Dj(n,e,i,r.index)),x!==null){let j=x.__ngLastListenerFn__||x;j.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,p=!1}else{o=wD(r,e,o),pL(e,g,i,o);let j=t.listen(g,i,o);h.push(o,j),l&&l.push(i,N,C,C+1)}}else o=wD(r,e,o);if(p){let m=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let C=0;C<g.length;C+=2){let N=g[C],x=g[C+1];bD(r,e,N,x,i,o)}if(m&&m.length)for(let C of m)bD(r,e,C,i,i,o)}}function ne(n=1){return IF(n)}function BS(n,e,t){b2(n,e,t)}function u_(n){let e=Te(),t=Et(),r=hT();Mv(r+1);let i=s_(t,r);if(n.dirty&&tF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=T2(e,r);n.reset(o,YF),n.notifyOnChanges()}return!0}return!1}function l_(){return w2(Te(),hT())}function jh(n){let e=fF();return iT(e,un+n)}function R(n,e=""){let t=Te(),r=Et(),i=n+un,o=r.firstCreatePass?Fh(r,i,1,e,null):r.data[i],s=Tj(r,t,o,e,n);t[i]=s,Sh()&&Ph(r,t,s,o),zo(o,!1)}var Tj=(n,e,t,r,i)=>(Ah(!0),LL(e[it],r));function Ae(n){return Oi("",n,""),Ae}function Oi(n,e,t){let r=Te(),i=Z2(r,n,e,t);return i!==Yr&&$S(r,qo(),i),Oi}function d_(n,e,t,r,i){let o=Te(),s=J2(o,n,e,t,r,i);return s!==Yr&&$S(o,qo(),s),d_}function $S(n,e,t){let r=nT(e,n);VL(n[it],r,t)}function hn(n,e,t){LT(e)&&(e=e());let r=Te(),i=Th();if(Uo(r,i,e)){let o=Et(),s=Pv();cS(o,s,r,n,e,r[it],t,!1)}return hn}function Sn(n,e){let t=LT(n);return t&&n.set(e),t}function fn(n,e){let t=Te(),r=Et(),i=zt();return US(r,t,t[it],i,n,e),fn}function Sj(n,e,t){let r=Et();if(r.firstCreatePass){let i=dr(n);dv(t,r.data,r.blueprint,i,!0),dv(e,r.data,r.blueprint,i,!1)}}function dv(n,e,t,r,i){if(n=Ht(n),Array.isArray(n))for(let o=0;o<n.length;o++)dv(n[o],e,t,r,i);else{let o=Et(),s=Te(),a=zt(),u=ra(n)?n:Ht(n.provide),l=KD(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ra(n)||!n.multi){let g=new Lo(l,i,U),C=by(u,e,i?h:h+m,p);C===-1?(Oy(uh(a,s),o,u),Iy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[C]=g,s[C]=g)}else{let g=by(u,e,h+m,p),C=by(u,e,h,h+m),N=g>=0&&t[g],x=C>=0&&t[C];if(i&&!x||!i&&!N){Oy(uh(a,s),o,u);let j=Mj(i?Rj:Aj,t.length,i,r,l);!i&&x&&(t[C].providerFactory=j),Iy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=HS(t[i?C:g],l,!i&&r);Iy(o,n,g>-1?g:C,j)}!i&&r&&x&&t[C].componentProviders++}}}function Iy(n,e,t,r){let i=ra(e),o=$O(e);if(i||o){let u=(o?Ht(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function HS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function by(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Aj(n,e,t,r,i){return hv(this.multi,[])}function Rj(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=tu(r,r[me],this.providerFactory.index,i);s=u.slice(0,a),hv(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],hv(o,s);return s}function hv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Mj(n,e,t,r,i){let o=new Lo(n,t,U);return o.multi=[],o.index=e,o.componentProviders=0,HS(o,i,r&&!t),o}function yr(n,e=[]){return t=>{t.providersResolver=(r,i)=>Sj(r,i?i(n):n,e)}}function Nj(n,e){let t=n[e];return t===Yr?void 0:t}function xj(n,e,t,r,i,o,s){let a=e+t;return kS(n,a,i,o)?B2(n,a+2,s?r.call(s,i,o):r(i,o)):Nj(n,a+2)}function qt(n,e){let t=Et(),r,i=n+un;t.firstCreatePass?(r=Pj(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Mo(r.type,!0)),s,a=Yt(U);try{let u=ch(!1),l=o();return ch(u),eF(t,Te(),i,l),l}finally{Yt(a)}}function Pj(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Gt(n,e,t,r){let i=n+un,o=Te(),s=iT(o,i);return kj(o,i)?xj(o,pF(),e,s.transform,t,r,s):s.transform(t,r)}function kj(n,e){return n[me].data[e].pure}function zS(n,e){return Oh(n,e)}var Ho=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},qS=new Ho("19.2.15"),fv=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},GS=(()=>{class n{compileModuleSync(t){return new av(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=zD(t),o=XT(i.declarations).reduce((s,a)=>{let u=xo(a);return u&&s.push(new ua(u)),s},[]);return new fv(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Oj=(()=>{class n{zone=O(De);changeDetectionScheduler=O(Vo);applicationRef=O(Bo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fj=new H("",{factory:()=>!1});function WS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new De(oe(V({},QS()),{scheduleInRootZone:t})),[{provide:De,useFactory:n},{provide:Jc,multi:!0,useFactory:()=>{let r=O(Oj,{optional:!0});return()=>r.initialize()}},{provide:Jc,multi:!0,useFactory:()=>{let r=O(Lj);return()=>{r.initialize()}}},e===!0?{provide:xT,useValue:!0}:[],{provide:PT,useValue:t??NT}]}function KS(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=WS({ngZoneFactory:()=>{let i=QS(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&va("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Dn([{provide:Fj,useValue:!0},{provide:Lv,useValue:!1},r])}function QS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Lj=(()=>{class n{subscription=new Xe;initialized=!1;zone=O(De);pendingTasks=O(Qr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vj=(()=>{class n{appRef=O(Bo);taskService=O(Qr);ngZone=O(De);zonelessEnabled=O(Lv);tracing=O(ya,{optional:!0});disableScheduling=O(xT,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(dh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(PT,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?eD:kT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(dh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,eD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jj(){return typeof $localize<"u"&&$localize.locale||vh}var lu=new H("",{providedIn:"root",factory:()=>O(lu,he.Optional|he.SkipSelf)||jj()}),YS=new H("",{providedIn:"root",factory:()=>wj});var pv=new H(""),Uj=new H("");function Kc(n){return!n.moduleRef}function Bj(n){let e=Kc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(De);return t.run(()=>{Kc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(pr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Kc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(pv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(pv);s.add(o),n.moduleRef.onDestroy(()=>{Kd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Hj(r,t,()=>{let o=e.get(jS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(lu,vh);if(bj(s||vh),!e.get(Uj,!0))return Kc(n)?e.get(Bo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Kc(n)){let u=e.get(Bo);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return $j(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function $j(n,e){let t=n.injector.get(Bo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new q(-403,!1);e.push(n)}function Hj(n,e,t){try{let r=t();return Ko(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Qd=null;function zj(n=[],e){return ot.create({name:e,providers:[{provide:Ih,useValue:"platform"},{provide:pv,useValue:new Set([()=>Qd=null])},...n]})}function qj(n=[]){if(Qd)return Qd;let e=zj(n);return Qd=e,W2(),Gj(e),e}function Gj(n){let e=n.get(Bv,null);_t(n,()=>{e?.forEach(t=>t())})}function h_(){return!1}var Zo=(()=>{class n{static __NG_ELEMENT_ID__=Wj}return n})();function Wj(n){return Kj(zt(),Te(),(n&16)===16)}function Kj(n,e,t){if(fa(n)&&!t){let r=fr(n.index,e);return new nu(r,r)}else if(n.type&175){let r=e[lr];return new nu(r,e)}return null}var mv=class{constructor(){}supports(e){return PS(e)}create(e){return new gv(e)}},Qj=(n,e)=>e,gv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Qj}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<CD(r,i,o)?t:r,a=CD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,C=g+m;h<=C&&C<l&&(o[m]=g+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!PS(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,j2(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new yv(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new _h),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _h),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},yv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},vv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},_h=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new vv,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function CD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function DD(){return new f_([new mv])}var f_=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:DD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DD()),deps:[[n,new MO,new ln]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new q(901,!1)}}return n})();function ZS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Pe(8);try{let o=i?.injector??qj(r),s=[WS({}),{provide:Vo,useExisting:Vj},...t||[]],a=new gh({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Bj({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Pe(9)}}function Fi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Kn(n){return zg(n)}function Jr(n,e){return Ug(n,e?.equal)}var TD=class{[wn];constructor(e){this[wn]=e}destroy(){this[wn].destroy()}};function JS(n){let e=xo(n);if(!e)return null;let t=new ua(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var at=new H("");var tA=null;function An(){return tA}function p_(n){tA??=n}var du=class{},hu=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O(nA),providedIn:"platform"})}return n})(),m_=new H(""),nA=(()=>{class n extends hu{_location;_history;_doc=O(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(t){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Uh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function XS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Qn(n){return n&&n[0]!=="?"?`?${n}`:n}var Yn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O($h),providedIn:"root"})}return n})(),Bh=new H(""),$h=(()=>{class n extends Yn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Uh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(hu),Y(Bh,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Li=(()=>{class n{_subject=new Be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=Jj(XS(eA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qn(r))}normalize(t){return n.stripTrailingSlash(Zj(this._basePath,eA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Qn;static joinWithSlash=Uh;static stripTrailingSlash=XS;static \u0275fac=function(r){return new(r||n)(Y(Yn))};static \u0275prov=z({token:n,factory:()=>Yj(),providedIn:"root"})}return n})();function Yj(){return new Li(Y(Yn))}function Zj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function eA(n){return n.replace(/\/index.html$/,"")}function Jj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var w_=(()=>{class n extends Yn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Uh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Y(hu),Y(Bh,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),cA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},I_=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(I_||{});var Lt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Lt||{}),ke=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(ke||{}),nn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(nn||{}),rn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function uA(n){return tn(n)[Ze.LocaleId]}function lA(n,e,t){let r=tn(n),i=[r[Ze.DayPeriodsFormat],r[Ze.DayPeriodsStandalone]],o=Rn(i,e);return Rn(o,t)}function dA(n,e,t){let r=tn(n),i=[r[Ze.DaysFormat],r[Ze.DaysStandalone]],o=Rn(i,e);return Rn(o,t)}function hA(n,e,t){let r=tn(n),i=[r[Ze.MonthsFormat],r[Ze.MonthsStandalone]],o=Rn(i,e);return Rn(o,t)}function fA(n,e){let r=tn(n)[Ze.Eras];return Rn(r,e)}function fu(n,e){let t=tn(n);return Rn(t[Ze.DateFormat],e)}function pu(n,e){let t=tn(n);return Rn(t[Ze.TimeFormat],e)}function mu(n,e){let r=tn(n)[Ze.DateTimeFormat];return Rn(r,e)}function vr(n,e){let t=tn(n),r=t[Ze.NumberSymbols][e];if(typeof r>"u"){if(e===rn.CurrencyDecimal)return t[Ze.NumberSymbols][rn.Decimal];if(e===rn.CurrencyGroup)return t[Ze.NumberSymbols][rn.Group]}return r}function pA(n,e){return tn(n)[Ze.NumberFormats][e]}function Xj(n){return tn(n)[Ze.Currencies]}function mA(n){if(!n[Ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function gA(n){let e=tn(n);return mA(e),(e[Ze.ExtraData][2]||[]).map(r=>typeof r=="string"?g_(r):[g_(r[0]),g_(r[1])])}function yA(n,e,t){let r=tn(n);mA(r);let i=[r[Ze.ExtraData][0],r[Ze.ExtraData][1]],o=Rn(i,e)||[];return Rn(o,t)||[]}function Rn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function g_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function vA(n,e,t="en"){let r=Xj(t)[n]||cA[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var eU=2;function _A(n){let e,t=cA[n];return t&&(e=t[2]),typeof e=="number"?e:eU}var tU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Hh={},nU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function EA(n,e,t,r){let i=dU(n);e=Xr(t,e)||e;let s=[],a;for(;e;)if(a=nU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=IA(r,u),i=lU(i,r));let l="";return s.forEach(h=>{let p=cU(h);l+=p?p(i,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Kh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Xr(n,e){let t=uA(n);if(Hh[t]??={},Hh[t][e])return Hh[t][e];let r="";switch(e){case"shortDate":r=fu(n,nn.Short);break;case"mediumDate":r=fu(n,nn.Medium);break;case"longDate":r=fu(n,nn.Long);break;case"fullDate":r=fu(n,nn.Full);break;case"shortTime":r=pu(n,nn.Short);break;case"mediumTime":r=pu(n,nn.Medium);break;case"longTime":r=pu(n,nn.Long);break;case"fullTime":r=pu(n,nn.Full);break;case"short":let i=Xr(n,"shortTime"),o=Xr(n,"shortDate");r=zh(mu(n,nn.Short),[i,o]);break;case"medium":let s=Xr(n,"mediumTime"),a=Xr(n,"mediumDate");r=zh(mu(n,nn.Medium),[s,a]);break;case"long":let u=Xr(n,"longTime"),l=Xr(n,"longDate");r=zh(mu(n,nn.Long),[u,l]);break;case"full":let h=Xr(n,"fullTime"),p=Xr(n,"fullDate");r=zh(mu(n,nn.Full),[h,p]);break}return r&&(Hh[t][e]=r),r}function zh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Zn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function rU(n,e){return Zn(n,3).substring(0,e)}function ct(n,e,t=0,r=!1,i=!1){return function(o,s){let a=iU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return rU(a,e);let u=vr(s,rn.MinusSign);return Zn(a,e,u,r,i)}}function iU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function je(n,e,t=Lt.Format,r=!1){return function(i,o){return oU(i,o,n,e,t,r)}}function oU(n,e,t,r,i,o){switch(t){case 2:return hA(e,i,r)[n.getMonth()];case 1:return dA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let l=gA(e),h=yA(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[g,C]=m,N=s>=g.hours&&a>=g.minutes,x=s<C.hours||s===C.hours&&a<C.minutes;if(g.hours<C.hours){if(N&&x)return!0}else if(N||x)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return lA(e,i,r)[s<12?0:1];case 3:return fA(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function qh(n){return function(e,t,r){let i=-1*r,o=vr(t,rn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Zn(s,2,o)+Zn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Zn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Zn(s,2,o)+":"+Zn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Zn(s,2,o)+":"+Zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var sU=0,Wh=4;function aU(n){let e=Kh(n,sU,1).getDay();return Kh(n,0,1+(e<=Wh?Wh:Wh+7)-e)}function wA(n){let e=n.getDay(),t=e===0?-3:Wh-e;return Kh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function y_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=wA(t),s=aU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Zn(i,n,vr(r,rn.MinusSign))}}function Gh(n,e=!1){return function(t,r){let o=wA(t).getFullYear();return Zn(o,n,vr(r,rn.MinusSign),e)}}var v_={};function cU(n){if(v_[n])return v_[n];let e;switch(n){case"G":case"GG":case"GGG":e=je(3,ke.Abbreviated);break;case"GGGG":e=je(3,ke.Wide);break;case"GGGGG":e=je(3,ke.Narrow);break;case"y":e=ct(0,1,0,!1,!0);break;case"yy":e=ct(0,2,0,!0,!0);break;case"yyy":e=ct(0,3,0,!1,!0);break;case"yyyy":e=ct(0,4,0,!1,!0);break;case"Y":e=Gh(1);break;case"YY":e=Gh(2,!0);break;case"YYY":e=Gh(3);break;case"YYYY":e=Gh(4);break;case"M":case"L":e=ct(1,1,1);break;case"MM":case"LL":e=ct(1,2,1);break;case"MMM":e=je(2,ke.Abbreviated);break;case"MMMM":e=je(2,ke.Wide);break;case"MMMMM":e=je(2,ke.Narrow);break;case"LLL":e=je(2,ke.Abbreviated,Lt.Standalone);break;case"LLLL":e=je(2,ke.Wide,Lt.Standalone);break;case"LLLLL":e=je(2,ke.Narrow,Lt.Standalone);break;case"w":e=y_(1);break;case"ww":e=y_(2);break;case"W":e=y_(1,!0);break;case"d":e=ct(2,1);break;case"dd":e=ct(2,2);break;case"c":case"cc":e=ct(7,1);break;case"ccc":e=je(1,ke.Abbreviated,Lt.Standalone);break;case"cccc":e=je(1,ke.Wide,Lt.Standalone);break;case"ccccc":e=je(1,ke.Narrow,Lt.Standalone);break;case"cccccc":e=je(1,ke.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":e=je(1,ke.Abbreviated);break;case"EEEE":e=je(1,ke.Wide);break;case"EEEEE":e=je(1,ke.Narrow);break;case"EEEEEE":e=je(1,ke.Short);break;case"a":case"aa":case"aaa":e=je(0,ke.Abbreviated);break;case"aaaa":e=je(0,ke.Wide);break;case"aaaaa":e=je(0,ke.Narrow);break;case"b":case"bb":case"bbb":e=je(0,ke.Abbreviated,Lt.Standalone,!0);break;case"bbbb":e=je(0,ke.Wide,Lt.Standalone,!0);break;case"bbbbb":e=je(0,ke.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(0,ke.Abbreviated,Lt.Format,!0);break;case"BBBB":e=je(0,ke.Wide,Lt.Format,!0);break;case"BBBBB":e=je(0,ke.Narrow,Lt.Format,!0);break;case"h":e=ct(3,1,-12);break;case"hh":e=ct(3,2,-12);break;case"H":e=ct(3,1);break;case"HH":e=ct(3,2);break;case"m":e=ct(4,1);break;case"mm":e=ct(4,2);break;case"s":e=ct(5,1);break;case"ss":e=ct(5,2);break;case"S":e=ct(6,1);break;case"SS":e=ct(6,2);break;case"SSS":e=ct(6,3);break;case"Z":case"ZZ":case"ZZZ":e=qh(0);break;case"ZZZZZ":e=qh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=qh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=qh(2);break;default:return null}return v_[n]=e,e}function IA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function uU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function lU(n,e,t){let i=n.getTimezoneOffset(),o=IA(e,i);return uU(n,-1*(o-i))}function dU(n){if(rA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Kh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(tU))return hU(r)}let e=new Date(n);if(!rA(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function hU(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),l=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,l),e}function rA(n){return n instanceof Date&&!isNaN(n.valueOf())}var fU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,iA=22,Qh=".",gu="0",pU=";",mU=",",__="#",oA="\xA4";function gU(n,e,t,r,i,o,s=!1){let a="",u=!1;if(!isFinite(n))a=vr(t,rn.Infinity);else{let l=_U(n);s&&(l=vU(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let Q=o.match(fU);if(Q===null)throw new Error(`${o} is not a valid digit info`);let K=Q[1],Ie=Q[3],rt=Q[5];K!=null&&(h=E_(K)),Ie!=null&&(p=E_(Ie)),rt!=null?m=E_(rt):Ie!=null&&p>m&&(m=p)}EU(l,p,m);let g=l.digits,C=l.integerLen,N=l.exponent,x=[];for(u=g.every(Q=>!Q);C<h;C++)g.unshift(0);for(;C<0;C++)g.unshift(0);C>0?x=g.splice(C,g.length):(x=g,g=[0]);let j=[];for(g.length>=e.lgSize&&j.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)j.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&j.unshift(g.join("")),a=j.join(vr(t,r)),x.length&&(a+=vr(t,i)+x.join("")),N&&(a+=vr(t,rn.Exponential)+"+"+N)}return n<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function bA(n,e,t,r,i){let o=pA(e,I_.Currency),s=yU(o,vr(e,rn.MinusSign));return s.minFrac=_A(r),s.maxFrac=s.minFrac,gU(n,s,e,rn.CurrencyGroup,rn.CurrencyDecimal,i).replace(oA,t).replace(oA,"").trim()}function yU(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(pU),i=r[0],o=r[1],s=i.indexOf(Qh)!==-1?i.split(Qh):[i.substring(0,i.lastIndexOf(gu)+1),i.substring(i.lastIndexOf(gu)+1)],a=s[0],u=s[1]||"";t.posPre=a.substring(0,a.indexOf(__));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===gu?t.minFrac=t.maxFrac=h+1:p===__?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(mU);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(__);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function vU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function _U(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Qh))>-1&&(e=e.replace(Qh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===gu;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===gu;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>iA&&(r=r.splice(0,iA-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function EU(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,g,C){return m=m+p,C[g]=m<10?m:m-10,u&&(C[g]===0&&g>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function E_(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var Yh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Mn=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Yh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),sA(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);sA(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(Pi),U(jo),U(f_))};static \u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function sA(n,e){n.context.$implicit=e.item}var At=(()=>{class n{_viewContainer;_context=new Zh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(Pi),U(jo))};static \u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Zh=class{$implicit=null;ngIf=null};function aA(n,e){if(n&&!n.createEmbeddedView)throw new q(2020,!1)}function CA(n,e){return new q(2100,!1)}var wU="mediumDate",DA=new H(""),TA=new H(""),b_=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??wU,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return EA(t,s,o||this.locale,a)}catch(s){throw CA(n,s.message)}}static \u0275fac=function(r){return new(r||n)(U(lu,16),U(DA,24),U(TA,24))};static \u0275pipe=cu({name:"date",type:n,pure:!0})}return n})();var Jo=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!IU(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=vA(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=bU(t);return bA(u,s,a,r,o)}catch(u){throw CA(n,u.message)}}static \u0275fac=function(r){return new(r||n)(U(lu,16),U(YS,16))};static \u0275pipe=cu({name:"currency",type:n,pure:!0})}return n})();function IU(n){return!(n==null||n===""||n!==n)}function bU(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var ze=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wn({type:n});static \u0275inj=qn({})}return n})();function yu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var C_="browser",SA="server";function Jh(n){return n===SA}var Xo=class{};var AA=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new D_(O(at),window)})}return n})(),D_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=CU(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function CU(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var tf=new H(""),R_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Y(tf),Y(De))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),vu=class{_doc;constructor(e){this._doc=e}manager},Xh="ng-app-id";function RA(n){for(let e of n)e.remove()}function MA(n,e){let t=e.createElement("style");return t.textContent=n,t}function DU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Xh}="${e}"],link[${Xh}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xh),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function S_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var M_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Jh(o),DU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,MA);r?.forEach(i=>this.addUsage(i,this.external,S_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(RA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])RA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,MA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,S_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Xh,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Y(at),Y(Uv),Y($v,8),Y(xi))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),T_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},N_=/%COMP%/g;var xA="%COMP%",TU=`_nghost-${xA}`,SU=`_ngcontent-${xA}`,AU=!0,RU=new H("",{providedIn:"root",factory:()=>AU});function MU(n){return SU.replace(N_,n)}function NU(n){return TU.replace(N_,n)}function PA(n,e){return e.map(t=>t.replace(N_,n))}var x_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=Jh(a),this.defaultRenderer=new _u(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mr.ShadowDom&&(r=oe(V({},r),{encapsulation:mr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof ef?i.applyToHost(t):i instanceof Eu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case mr.Emulated:o=new ef(u,l,r,this.appId,h,s,a,p,m);break;case mr.ShadowDom:return new A_(u,l,t,r,s,a,this.nonce,p,m);default:o=new Eu(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Y(R_),Y(M_),Y(Uv),Y(RU),Y(at),Y(xi),Y(De),Y($v),Y(ya,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),_u=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(T_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(NA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=T_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=T_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(qr.DashCase|qr.Important)?e.style.setProperty(t,r,i&qr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&qr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function NA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var A_=class extends _u{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=PA(i.id,h);for(let m of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let m of p){let g=S_(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Eu=class extends _u{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?PA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ef=class extends Eu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=MU(h),this.hostAttr=NU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var nf=class n extends du{supportsDOMEvents=!0;static makeCurrent(){p_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=xU();return t==null?null:PU(t)}resetBaseElement(){wu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yu(document.cookie,e)}},wu=null;function xU(){return wu=wu||document.head.querySelector("base"),wu?wu.getAttribute("href"):null}function PU(n){return new URL(n,document.baseURI).pathname}var kU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),OA=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Y(at))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),kA=["alt","control","meta","shift"],OU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},FA=(()=>{class n extends vu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=OU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kA.forEach(s=>{if(s!==i){let a=FU[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Y(at))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function P_(n,e,t){return ZS(V({rootComponent:n,platformRef:t?.platformRef},LU(e)))}function LU(n){return{appProviders:[...$U,...n?.providers??[]],platformProviders:BU}}function VU(){nf.makeCurrent()}function jU(){return new pr}function UU(){return zT(document),document}var BU=[{provide:xi,useValue:C_},{provide:Bv,useValue:VU,multi:!0},{provide:at,useFactory:UU}];var $U=[{provide:Ih,useValue:"root"},{provide:pr,useFactory:jU},{provide:tf,useClass:OA,multi:!0,deps:[at]},{provide:tf,useClass:FA,multi:!0,deps:[at]},x_,M_,R_,{provide:ca,useExisting:x_},{provide:Xo,useClass:kU},[]];var Ea=class{},Iu=class{},Vi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var of=class{encodeKey(e){return LA(e)}encodeValue(e){return LA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function HU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var zU=/%(\d[a-f0-9])/gi,qU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function LA(n){return encodeURIComponent(n).replace(zU,(e,t)=>qU[t]??e)}function rf(n){return`${n}`}var ei=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new of,e.fromString){if(e.fromObject)throw new q(2805,!1);this.map=HU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(rf):[rf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(rf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(rf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var sf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function GU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function VA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jA(n){return typeof Blob<"u"&&n instanceof Blob}function UA(n){return typeof FormData<"u"&&n instanceof FormData}function WU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var BA="Content-Type",$A="Accept",HA="X-Request-URL",zA="text/plain",qA="application/json",KU=`${qA}, ${zA}, */*`,_a=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(GU(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Vi,this.context??=new sf,!this.params)this.params=new ei,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||VA(this.body)||jA(this.body)||UA(this.body)||WU(this.body)?this.body:this.body instanceof ei?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||UA(this.body)?null:jA(this.body)?this.body.type||null:VA(this.body)?null:typeof this.body=="string"?zA:this.body instanceof ei?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?qA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},es=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(es||{}),wa=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Vi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},af=class n extends wa{constructor(e={}){super(e)}type=es.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bu=class n extends wa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=es.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cu=class extends wa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},QU=200,YU=204;function k_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ji=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof _a)o=t;else{let u;i.headers instanceof Vi?u=i.headers:u=new Vi(i.headers);let l;i.params&&(i.params instanceof ei?l=i.params:l=new ei({fromObject:i.params})),o=new _a(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=J(o).pipe(cr(u=>this.handler.handle(u)));if(t instanceof _a||i.observe==="events")return s;let a=s.pipe(kt(u=>u instanceof bu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new q(2806,!1);return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new q(2807,!1);return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new q(2808,!1);return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new q(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ei().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,k_(i,r))}post(t,r,i={}){return this.request("POST",t,k_(i,r))}put(t,r,i={}){return this.request("PUT",t,k_(i,r))}static \u0275fac=function(r){return new(r||n)(Y(Ea))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var ZU=new H("");function JU(n,e){return e(n)}function XU(n,e,t){return(r,i)=>_t(t,()=>e(r,o=>n(o,i)))}var GA=new H(""),WA=new H(""),KA=new H("",{providedIn:"root",factory:()=>!0});var cf=(()=>{class n extends Ea{backend;injector;chain=null;pendingTasks=O(Qr);contributeToStability=O(KA);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(GA),...this.injector.get(WA,[])]));this.chain=r.reduceRight((i,o)=>XU(i,o,this.injector),JU)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Do(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(Y(Iu),Y(vt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var eB=/^\)\]\}',?\n/,tB=RegExp(`^${HA}:`,"m");function nB(n){return"responseURL"in n&&n.responseURL?n.responseURL:tB.test(n.getAllResponseHeaders())?n.getResponseHeader(HA):null}var O_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Fe(r.\u0275loadImpl()):J(null)).pipe(Ot(()=>new le(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,x)=>s.setRequestHeader(N,x.join(","))),t.headers.has($A)||s.setRequestHeader($A,KU),!t.headers.has(BA)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(BA,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",x=new Vi(s.getAllResponseHeaders()),j=nB(s)||t.url;return u=new af({headers:x,status:s.status,statusText:N,url:j}),u},h=()=>{let{headers:N,status:x,statusText:j,url:Q}=l(),K=null;x!==YU&&(K=typeof s.response>"u"?s.responseText:s.response),x===0&&(x=K?QU:0);let Ie=x>=200&&x<300;if(t.responseType==="json"&&typeof K=="string"){let rt=K;K=K.replace(eB,"");try{K=K!==""?JSON.parse(K):null}catch(Se){K=rt,Ie&&(Ie=!1,K={error:Se,text:K})}}Ie?(o.next(new bu({body:K,headers:N,status:x,statusText:j,url:Q||void 0})),o.complete()):o.error(new Cu({error:K,headers:N,status:x,statusText:j,url:Q||void 0}))},p=N=>{let{url:x}=l(),j=new Cu({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:x||void 0});o.error(j)},m=!1,g=N=>{m||(o.next(l()),m=!0);let x={type:es.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),t.responseType==="text"&&s.responseText&&(x.partialText=s.responseText),o.next(x)},C=N=>{let x={type:es.UploadProgress,loaded:N.loaded};N.lengthComputable&&(x.total=N.total),o.next(x)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:es.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(Y(Xo))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),QA=new H(""),rB="XSRF-TOKEN",iB=new H("",{providedIn:"root",factory:()=>rB}),oB="X-XSRF-TOKEN",sB=new H("",{providedIn:"root",factory:()=>oB}),Du=class{},aB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(Y(at),Y(iB))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function cB(n,e){let t=n.url.toLowerCase();if(!O(QA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=O(Du).getToken(),i=O(sB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function F_(...n){let e=[ji,O_,cf,{provide:Ea,useExisting:cf},{provide:Iu,useFactory:()=>O(ZU,{optional:!0})??O(O_)},{provide:GA,useValue:cB,multi:!0},{provide:QA,useValue:!0},{provide:Du,useClass:aB}];for(let t of n)e.push(...t.\u0275providers);return Dn(e)}var YA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Y(at))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var de="primary",Vu=Symbol("RouteTitle"),$_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function rs(n){return new $_(n)}function iR(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function lB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!_r(n[t],e[t]))return!1;return!0}function _r(n,e){let t=n?H_(n):void 0,r=e?H_(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!oR(n[i],e[i]))return!1;return!0}function H_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function sR(n){return n.length>0?n[n.length-1]:null}function zi(n){return ry(n)?n:Ko(n)?Fe(Promise.resolve(n)):J(n)}var dB={exact:cR,subset:uR},aR={exact:hB,subset:fB,ignored:()=>!0};function ZA(n,e,t){return dB[t.paths](n.root,e.root,t.matrixParams)&&aR[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function hB(n,e){return _r(n,e)}function cR(n,e,t){if(!ts(n.segments,e.segments)||!df(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!cR(n.children[r],e.children[r],t))return!1;return!0}function fB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oR(n[t],e[t]))}function uR(n,e,t){return lR(n,e,e.segments,t)}function lR(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ts(i,t)||e.hasChildren()||!df(i,t,r))}else if(n.segments.length===t.length){if(!ts(n.segments,t)||!df(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!uR(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ts(n.segments,i)||!df(n.segments,i,r)||!n.children[de]?!1:lR(n.children[de],e,o,r)}}function df(n,e,t){return e.every((r,i)=>aR[t](n[i].parameters,r.parameters))}var wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Re([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){return gB.serialize(this)}},Re=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hf(this)}},Ui=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=rs(this.parameters),this._parameterMap}toString(){return hR(this)}};function pB(n,e){return ts(n,e)&&n.every((t,r)=>_r(t.parameters,e[r].parameters))}function ts(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function mB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}var is=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new Bi,providedIn:"root"})}return n})(),Bi=class{parse(e){let t=new q_(e);return new wr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Tu(e.root,!0)}`,r=_B(e.queryParams),i=typeof e.fragment=="string"?`#${yB(e.fragment)}`:"";return`${t}${r}${i}`}},gB=new Bi;function hf(n){return n.segments.map(e=>hR(e)).join("/")}function Tu(n,e){if(!n.hasChildren())return hf(n);if(e){let t=n.children[de]?Tu(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${Tu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=mB(n,(r,i)=>i===de?[Tu(n.children[de],!1)]:[`${i}:${Tu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[de]!=null?`${hf(n)}/${t[0]}`:`${hf(n)}/(${t.join("//")})`}}function dR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uf(n){return dR(n).replace(/%3B/gi,";")}function yB(n){return encodeURI(n)}function z_(n){return dR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ff(n){return decodeURIComponent(n)}function JA(n){return ff(n.replace(/\+/g,"%20"))}function hR(n){return`${z_(n.path)}${vB(n.parameters)}`}function vB(n){return Object.entries(n).map(([e,t])=>`;${z_(e)}=${z_(t)}`).join("")}function _B(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${uf(t)}=${uf(i)}`).join("&"):`${uf(t)}=${uf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var EB=/^[^\/()?;#]+/;function V_(n){let e=n.match(EB);return e?e[0]:""}var wB=/^[^\/()?;=#]+/;function IB(n){let e=n.match(wB);return e?e[0]:""}var bB=/^[^=?&#]+/;function CB(n){let e=n.match(bB);return e?e[0]:""}var DB=/^[^&#]+/;function TB(n){let e=n.match(DB);return e?e[0]:""}var q_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Re(e,t)),r}parseSegment(){let e=V_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Ui(ff(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=IB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=V_(this.remaining);i&&(r=i,this.capture(r))}e[ff(t)]=ff(r)}parseQueryParam(e){let t=CB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=TB(this.remaining);s&&(r=s,this.capture(r))}let i=JA(t),o=JA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=V_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=de);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[de]:new Re([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function fR(n){return n.segments.length>0?new Re([],{[de]:n}):n}function pR(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=pR(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Re(n.segments,e);return SB(t)}function SB(n){if(n.numberOfChildren===1&&n.children[de]){let e=n.children[de];return new Re(n.segments.concat(e.segments),e.children)}return n}function $i(n){return n instanceof wr}function mR(n,e,t=null,r=null){let i=gR(n);return yR(i,e,t,r)}function gR(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Re(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=fR(r);return e??i}function yR(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return j_(i,i,i,t,r);let o=AB(e);if(o.toRoot())return j_(i,i,new Re([],{}),t,r);let s=RB(o,i,n),a=s.processChildren?Au(s.segmentGroup,s.index,o.commands):_R(s.segmentGroup,s.index,o.commands);return j_(i,s.segmentGroup,a,t,r)}function mf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mu(n){return typeof n=="object"&&n!=null&&n.outlets}function j_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=vR(n,e,t);let a=fR(pR(s));return new wr(a,o,i)}function vR(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=vR(o,e,t)}),new Re(n.segments,r)}var gf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&mf(r[0]))throw new q(4003,!1);let i=r.find(Mu);if(i&&i!==sR(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new gf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gf(t,e,r)}var Ca=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function RB(n,e,t){if(n.isAbsolute)return new Ca(e,!0,0);if(!t)return new Ca(e,!1,NaN);if(t.parent===null)return new Ca(t,!0,0);let r=mf(n.commands[0])?0:1,i=t.segments.length-1+r;return MB(t,i,n.numberOfDoubleDots)}function MB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Ca(r,!1,i-o)}function NB(n){return Mu(n[0])?n[0].outlets:{[de]:n}}function _R(n,e,t){if(n??=new Re([],{}),n.segments.length===0&&n.hasChildren())return Au(n,e,t);let r=xB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Re(n.segments.slice(0,r.pathIndex),{});return o.children[de]=new Re(n.segments.slice(r.pathIndex),n.children),Au(o,0,i)}else return r.match&&i.length===0?new Re(n.segments,{}):r.match&&!n.hasChildren()?G_(n,e,t):r.match?Au(n,0,i):G_(n,e,t)}function Au(n,e,t){if(t.length===0)return new Re(n.segments,{});{let r=NB(t),i={};if(Object.keys(r).some(o=>o!==de)&&n.children[de]&&n.numberOfChildren===1&&n.children[de].segments.length===0){let o=Au(n.children[de],e,t);return new Re(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=_R(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Re(n.segments,i)}}function xB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mu(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!eR(u,l,s))return o;r+=2}else{if(!eR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function G_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mu(o)){let u=PB(o.outlets);return new Re(r,u)}if(i===0&&mf(t[0])){let u=n.segments[e];r.push(new Ui(u.path,XA(t[0]))),i++;continue}let s=Mu(o)?o.outlets[de]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&mf(a)?(r.push(new Ui(s,XA(a))),i+=2):(r.push(new Ui(s,{})),i++)}return new Re(r,{})}function PB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=G_(new Re([],{}),0,r))}),e}function XA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function eR(n,e,t){return n==t.path&&_r(e,t.parameters)}var pf="imperative",mt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(mt||{}),mn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Hi=class extends mn{type=mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nn=class extends mn{urlAfterRedirects;type=mt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},on=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(on||{}),Ta=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ta||{}),Er=class extends mn{reason;code;type=mt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ir=class extends mn{reason;code;type=mt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Sa=class extends mn{error;target;type=mt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nu=class extends mn{urlAfterRedirects;state;type=mt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends mn{urlAfterRedirects;state;type=mt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends mn{urlAfterRedirects;state;shouldActivate;type=mt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_f=class extends mn{urlAfterRedirects;state;type=mt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends mn{urlAfterRedirects;state;type=mt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class{route;type=mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},If=class{route;type=mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bf=class{snapshot;type=mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{snapshot;type=mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Df=class{snapshot;type=mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tf=class{snapshot;type=mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Aa=class{routerEvent;position;anchor;type=mt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xu=class{},Ra=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function kB(n,e){return n.providers&&!n._injector&&(n._injector=au(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Xn(n){return n.outlet||de}function OB(n,e){let t=n.filter(r=>Xn(r)===e);return t.push(...n.filter(r=>Xn(r)!==e)),t}function ju(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ju(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new os(this.rootInjector)}},os=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Y(vt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Af=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=W_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=W_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=K_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return K_(e,this._root).map(t=>t.value)}};function W_(n,e){if(n===e.value)return e;for(let t of e.children){let r=W_(n,t);if(r)return r}return null}function K_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=K_(n,t);if(r.length)return r.unshift(e),r}return[]}var pn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ba(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Pu=class extends Af{snapshot;constructor(e,t){super(e),this.snapshot=t,nE(this,e)}toString(){return this.snapshot.toString()}};function ER(n){let e=FB(n),t=new Tt([new Ui("",{})]),r=new Tt({}),i=new Tt({}),o=new Tt({}),s=new Tt(""),a=new xn(t,r,o,s,i,de,n,e.root);return a.snapshot=e.root,new Pu(new pn(a,[]),e)}function FB(n){let e={},t={},r={},i="",o=new ns([],e,r,i,t,de,n,null,{});return new ku("",new pn(o,[]))}var xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Vu]))??J(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&IR(i)&&(r.resolve[Vu]=i.title),r}var ns=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vu]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ku=class extends Af{url;constructor(e,t){super(t),this.url=e,nE(this,t)}toString(){return wR(this._root)}};function nE(n,e){e.value._routerState=n,e.children.forEach(t=>nE(n,t))}function wR(n){let e=n.children.length>0?` { ${n.children.map(wR).join(", ")} } `:"";return`${n.value}${e}`}function U_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,_r(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),_r(e.params,t.params)||n.paramsSubject.next(t.params),lB(e.url,t.url)||n.urlSubject.next(t.url),_r(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Q_(n,e){let t=_r(n.params,e.params)&&pB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Q_(n.parent,e.parent))}function IR(n){return typeof n.title=="string"||n.title===null}var bR=new H(""),Uu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=de;activateEvents=new $e;deactivateEvents=new $e;attachEvents=new $e;detachEvents=new $e;routerOutletData=FT(void 0);parentContexts=O(os);location=O(Pi);changeDetector=O(Zo);inputBinder=O(Bu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Y_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tn]})}return n})(),Y_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===xn?this.route:e===os?this.childContexts:e===bR?this.outletData:this.parent.get(e,t)}},Bu=new H(""),rE=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Wc([r.queryParams,r.params,r.data]).pipe(Ot(([o,s,a],u)=>(a=V(V(V({},o),s),a),u===0?J(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=JS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),iE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Me({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[Uu],encapsulation:2})}return n})();function oE(n){let e=n.children&&n.children.map(oE),t=e?oe(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=iE),t}function LB(n,e,t){let r=Ou(n,e._root,t?t._root:void 0);return new Pu(r,e)}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=VB(n,e,t);return new pn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ou(n,a)),s}}let r=jB(e.value),i=e.children.map(o=>Ou(n,o));return new pn(r,i)}}function VB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ou(n,r,i);return Ou(n,r)})}function jB(n){return new xn(new Tt(n.url),new Tt(n.params),new Tt(n.queryParams),new Tt(n.fragment),new Tt(n.data),n.outlet,n.component,n)}var Ma=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CR="ngNavigationCancelingError";function Mf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=$i(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DR(!1,on.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function DR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CR]=!0,t.cancellationCode=e,t}function UB(n){return TR(n)&&$i(n.url)}function TR(n){return!!n&&n[CR]}var BB=(n,e,t,r)=>ie(i=>(new Z_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Z_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),U_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ba(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ba(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Cf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(U_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),U_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Nf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Da=class{component;route;constructor(e,t){this.component=e,this.route=t}};function $B(n,e,t){let r=n._root,i=e?e._root:null;return Su(r,i,t,[r.value])}function HB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function xa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!PD(n)?n:e.get(n):r}function Su(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ba(e);return n.children.forEach(s=>{zB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ru(a,t.getContext(s),i)),i}function zB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=qB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Nf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Su(n,e,a?a.children:null,r,i):Su(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Da(a.outlet.component,s))}else s&&Ru(e,a,i),i.canActivateChecks.push(new Nf(r)),o.component?Su(n,null,a?a.children:null,r,i):Su(n,null,t,r,i);return i}function qB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ts(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ts(n.url,e.url)||!_r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Q_(n,e)||!_r(n.queryParams,e.queryParams);case"paramsChange":default:return!Q_(n,e)}}function Ru(n,e,t){let r=ba(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ru(s,e.children.getContext(o),t):Ru(s,null,t):Ru(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Da(e.outlet.component,i)):t.canDeactivateChecks.push(new Da(null,i)):t.canDeactivateChecks.push(new Da(null,i))}function $u(n){return typeof n=="function"}function GB(n){return typeof n=="boolean"}function WB(n){return n&&$u(n.canLoad)}function KB(n){return n&&$u(n.canActivate)}function QB(n){return n&&$u(n.canActivateChild)}function YB(n){return n&&$u(n.canDeactivate)}function ZB(n){return n&&$u(n.canMatch)}function SR(n){return n instanceof Ur||n?.name==="EmptyError"}var lf=Symbol("INITIAL_VALUE");function Na(){return Ot(n=>Wc(n.map(e=>e.pipe(Br(1),Ud(lf)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===lf)return lf;if(t===!1||JB(t))return t}return!0}),kt(e=>e!==lf),Br(1)))}function JB(n){return $i(n)||n instanceof Ma}function XB(n,e){return nt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(oe(V({},t),{guardsResult:!0})):e$(s,r,i,n).pipe(nt(a=>a&&GB(a)?t$(r,o,n,e):J(a)),ie(a=>oe(V({},t),{guardsResult:a})))})}function e$(n,e,t,r){return Fe(n).pipe(nt(i=>s$(i.component,i.route,t,e,r)),$r(i=>i!==!0,!0))}function t$(n,e,t,r){return Fe(e).pipe(cr(i=>Ks(r$(i.route.parent,r),n$(i.route,r),o$(n,i.path,t),i$(n,i.route,t))),$r(i=>i!==!0,!0))}function n$(n,e){return n!==null&&e&&e(new Df(n)),J(!0)}function r$(n,e){return n!==null&&e&&e(new bf(n)),J(!0)}function i$(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(o=>Ld(()=>{let s=ju(e)??t,a=xa(o,s),u=KB(a)?a.canActivate(e,n):_t(s,()=>a(e,n));return zi(u).pipe($r())}));return J(i).pipe(Na())}function o$(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>HB(s)).filter(s=>s!==null).map(s=>Ld(()=>{let a=s.guards.map(u=>{let l=ju(s.node)??t,h=xa(u,l),p=QB(h)?h.canActivateChild(r,n):_t(l,()=>h(r,n));return zi(p).pipe($r())});return J(a).pipe(Na())}));return J(o).pipe(Na())}function s$(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(a=>{let u=ju(e)??i,l=xa(a,u),h=YB(l)?l.canDeactivate(n,e,t,r):_t(u,()=>l(n,e,t,r));return zi(h).pipe($r())});return J(s).pipe(Na())}function a$(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let o=i.map(s=>{let a=xa(s,n),u=WB(a)?a.canLoad(e,t):_t(n,()=>a(e,t));return zi(u)});return J(o).pipe(Na(),AR(r))}function AR(n){return gd(St(e=>{if(typeof e!="boolean")throw Mf(n,e)}),ie(e=>e===!0))}function c$(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let o=i.map(s=>{let a=xa(s,n),u=ZB(a)?a.canMatch(e,t):_t(n,()=>a(e,t));return zi(u)});return J(o).pipe(Na(),AR(r))}var Fu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ia(n){return Gs(new Fu(n))}function u$(n){return Gs(new q(4e3,!1))}function l$(n){return Gs(DR(!1,on.GuardRejected))}var J_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[de])return u$(`${e.redirectTo}`);i=i.children[de]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:g,data:C,title:N}=i,x=_t(o,()=>a({params:g,data:C,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(x instanceof wr)throw new Lu(x);t=x}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Lu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Re(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},X_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d$(n,e,t,r,i){let o=RR(n,e,t);return o.matched?(r=kB(e,r),c$(r,e,t,i).pipe(ie(s=>s===!0?o:V({},X_)))):J(o)}function RR(n,e,t){if(e.path==="**")return h$(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},X_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||iR)(t,n,e);if(!i)return V({},X_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function h$(n){return{matched:!0,parameters:n.length>0?sR(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function tR(n,e,t,r){return t.length>0&&m$(n,t,r)?{segmentGroup:new Re(e,p$(r,new Re(t,n.children))),slicedSegments:[]}:t.length===0&&g$(n,t,r)?{segmentGroup:new Re(n.segments,f$(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:t}}function f$(n,e,t,r){let i={};for(let o of t)if(Pf(n,e,o)&&!r[Xn(o)]){let s=new Re([],{});i[Xn(o)]=s}return V(V({},r),i)}function p$(n,e){let t={};t[de]=e;for(let r of n)if(r.path===""&&Xn(r)!==de){let i=new Re([],{});t[Xn(r)]=i}return t}function m$(n,e,t){return t.some(r=>Pf(n,e,r)&&Xn(r)!==de)}function g$(n,e,t){return t.some(r=>Pf(n,e,r))}function Pf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function y$(n,e,t){return e.length===0&&!n.children[t]}var eE=class{};function v$(n,e,t,r,i,o,s="emptyOnly"){return new tE(n,e,t,r,i,s,o).recognize()}var _$=31,tE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new J_(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=tR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new pn(r,t),o=new ku("",i),s=mR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ns([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,de,t).pipe(ie(r=>({children:r,rootSnapshot:t})),$n(r=>{if(r instanceof Lu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof pn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Fe(o).pipe(cr(s=>{let a=r.children[s],u=OB(t,s);return this.processSegmentGroup(e,u,a,s,i)}),jd((s,a)=>(s.push(...a),s)),Ri(null),sy(),nt(s=>{if(s===null)return Ia(r);let a=MR(s);return E$(a),J(a)}))}processSegment(e,t,r,i,o,s,a){return Fe(t).pipe(cr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe($n(l=>{if(l instanceof Fu)return J(null);throw l}))),$r(u=>!!u),$n(u=>{if(SR(u))return y$(r,i,o)?J(new eE):Ia(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return Xn(r)!==s&&(s===de||!Pf(i,o,r))?Ia(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Ia(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=RR(t,i,o);if(!u)return Ia(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_$&&(this.allowRedirects=!1));let g=new ns(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,nR(i),Xn(i),i.component??i._loadedComponent??null,i,rR(i)),C=Rf(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(nt(x=>this.processSegment(e,r,t,x.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=d$(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ot(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ot(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:g}=u,C=new ns(m,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,nR(r),Xn(r),r.component??r._loadedComponent??null,r,rR(r)),N=Rf(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:x,slicedSegments:j}=tR(t,m,g,l);if(j.length===0&&x.hasChildren())return this.processChildren(h,l,x,C).pipe(ie(K=>new pn(C,K)));if(l.length===0&&j.length===0)return J(new pn(C,[]));let Q=Xn(r)===o;return this.processSegment(h,l,x,j,Q?de:o,!0,C).pipe(ie(K=>new pn(C,K instanceof pn?[K]:[])))}))):Ia(t)))}getChildConfig(e,t,r){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):a$(e,t,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,t).pipe(St(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):l$(t))):J({routes:[],injector:e})}};function E$(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}function w$(n){let e=n.value.routeConfig;return e&&e.path===""}function MR(n){let e=[],t=new Set;for(let r of n){if(!w$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=MR(r.children);e.push(new pn(r.value,i))}return e.filter(r=>!t.has(r))}function nR(n){return n.data||{}}function rR(n){return n.resolve||{}}function I$(n,e,t,r,i,o){return nt(s=>v$(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>oe(V({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function b$(n,e){return nt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return J(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of NR(u))s.add(l);let a=0;return Fe(s).pipe(cr(u=>o.has(u)?C$(u,r,n,e):(u.data=Rf(u,u.parent,n).resolve,J(void 0))),St(()=>a++),Qs(1),nt(u=>a===s.size?J(t):Kt))})}function NR(n){let e=n.children.map(t=>NR(t)).flat();return[n,...e]}function C$(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!IR(i)&&(o[Vu]=i.title),D$(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=Rf(n,n.parent,t).resolve,null)))}function D$(n,e,t,r){let i=H_(n);if(i.length===0)return J({});let o={};return Fe(i).pipe(nt(s=>T$(n[s],e,t,r).pipe($r(),St(a=>{if(a instanceof Ma)throw Mf(new Bi,a);o[s]=a}))),Qs(1),ie(()=>o),$n(s=>SR(s)?Kt:Gs(s)))}function T$(n,e,t,r){let i=ju(e)??r,o=xa(n,i),s=o.resolve?o.resolve(e,t):_t(i,()=>o(e,t));return zi(s)}function B_(n){return Ot(e=>{let t=n(e);return t?Fe(t).pipe(ie(()=>e)):J(e)})}var sE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[Vu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O(xR),providedIn:"root"})}return n})(),xR=(()=>{class n extends sE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Y(YA))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ss=new H("",{providedIn:"root",factory:()=>({})}),as=new H(""),kf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(GS);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=zi(t.loadComponent()).pipe(ie(kR),St(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Do(()=>{this.componentLoaders.delete(t)})),i=new $s(r,()=>new Be).pipe(Bs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PR(r,this.compiler,t,this.onLoadEndListener).pipe(Do(()=>{this.childrenLoaders.delete(r)})),s=new $s(o,()=>new Be).pipe(Bs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PR(n,e,t,r){return zi(n.loadChildren()).pipe(ie(kR),nt(i=>i instanceof a_||Array.isArray(i)?J(i):Fe(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(as,[],{optional:!0,self:!0}).flat()),{routes:s.map(oE),injector:o}}))}function S$(n){return n&&typeof n=="object"&&"default"in n}function kR(n){return S$(n)?n.default:n}var Of=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O(A$),providedIn:"root"})}return n})(),A$=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aE=new H(""),cE=new H("");function OR(n,e,t){let r=n.get(cE),i=n.get(at);return n.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),R$(n))),{onViewTransitionCreated:u}=r;return u&&_t(n,()=>u({transition:a,from:e,to:t})),s})}function R$(n){return new Promise(e=>{zv({read:()=>setTimeout(e)},{injector:n})})}var uE=new H(""),Ff=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Be;transitionAbortSubject=new Be;configLoader=O(kf);environmentInjector=O(vt);destroyRef=O(Go);urlSerializer=O(is);rootContexts=O(os);location=O(Li);inputBindingEnabled=O(Bu,{optional:!0})!==null;titleStrategy=O(sE);options=O(ss,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(Of);createViewTransition=O(aE,{optional:!0});navigationErrorHandler=O(uE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new wf(i)),r=i=>this.events.next(new If(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(oe(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Tt(null),this.transitions.pipe(kt(r=>r!==null),Ot(r=>{let i=!1,o=!1;return J(r).pipe(Ot(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",on.SupersededByNewNavigation),Kt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?oe(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new Ir(s.id,this.urlSerializer.serialize(s.rawUrl),l,Ta.IgnoredSameUrlNavigation)),s.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return J(s).pipe(Ot(l=>(this.events.next(new Hi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Kt:Promise.resolve(l))),I$(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),St(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=oe(V({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Nu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:g}=s,C=new Hi(l,this.urlSerializer.serialize(h),p,m);this.events.next(C);let N=ER(this.rootComponentType).snapshot;return this.currentTransition=r=oe(V({},s),{targetSnapshot:N,urlAfterRedirects:h,extras:oe(V({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(r)}else{let l="";return this.events.next(new Ir(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Ta.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Kt}}),St(s=>{let a=new yf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>(this.currentTransition=r=oe(V({},s),{guards:$B(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),XB(this.environmentInjector,s=>this.events.next(s)),St(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Mf(this.urlSerializer,s.guardsResult);let a=new vf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),kt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",on.GuardRejected),!1)),B_(s=>{if(s.guards.canActivateChecks.length!==0)return J(s).pipe(St(a=>{let u=new _f(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Ot(a=>{let u=!1;return J(a).pipe(b$(this.paramsInheritanceStrategy,this.environmentInjector),St({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",on.NoDataFromResolver)}}))}),St(a=>{let u=new Ef(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),B_(s=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(St(h=>{u.component=h}),ie(()=>{})));for(let h of u.children)l.push(...a(h));return l};return Wc(a(s.targetSnapshot.root)).pipe(Ri(null),Br(1))}),B_(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return u?Fe(u).pipe(ie(()=>r)):J(r)}),ie(s=>{let a=LB(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=oe(V({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),St(()=>{this.events.next(new xu)}),BB(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Br(1),St({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),uy(this.transitionAbortSubject.pipe(St(s=>{throw s}))),Do(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",on.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),$n(s=>{if(this.destroyed)return r.resolve(!1),Kt;if(o=!0,TR(s))this.events.next(new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),UB(s)?this.events.next(new Ra(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Sa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=_t(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Ma){let{message:l,cancellationCode:h}=Mf(this.urlSerializer,u);this.events.next(new Er(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Ra(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new Er(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M$(n){return n!==pf}var FR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O(N$),providedIn:"root"})}return n})(),xf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},N$=(()=>{class n extends xf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LR=(()=>{class n{urlSerializer=O(is);options=O(ss,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Li);urlHandlingStrategy=O(Of);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ER(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>O(x$),providedIn:"root"})}return n})(),x$=(()=>{class n extends LR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Hi?this.updateStateMemento():t instanceof Ir?this.commitTransition(r):t instanceof Nu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Er&&(t.code===on.GuardRejected||t.code===on.NoDataFromResolver)?this.restoreHistory(r):t instanceof Sa?this.restoreHistory(r,!0):t instanceof Nn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lf(n,e){n.events.pipe(kt(t=>t instanceof Nn||t instanceof Er||t instanceof Sa||t instanceof Ir),ie(t=>t instanceof Nn||t instanceof Ir?0:(t instanceof Er?t.code===on.Redirect||t.code===on.SupersededByNewNavigation:!1)?2:1),kt(t=>t!==2),Br(1)).subscribe(()=>{e()})}var P$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},k$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(OS);stateManager=O(LR);options=O(ss,{optional:!0})||{};pendingTasks=O(Qr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(Ff);urlSerializer=O(is);location=O(Li);urlHandlingStrategy=O(Of);_events=new Be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(FR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(as,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(Bu,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Xe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Er&&r.code!==on.Redirect&&r.code!==on.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nn)this.navigated=!0;else if(r instanceof Ra){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||M$(i.source)},s);this.scheduleNavigation(a,pf,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}F$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),pf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=gR(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return yR(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=$i(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,pf,null,r)}navigate(t,r={skipLocationChange:!1}){return O$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},P$):r===!1?i=V({},k$):i=r,$i(t))return ZA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ZA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Lf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new q(4008,!1)}function F$(n){return!(n instanceof xu)&&!(n instanceof Ra)}var Pa=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Be;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Nn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):($i(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:ZT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:$i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(U(qe),U(xn),Fv("tabindex"),U(Zr),U(dn),U(Yn))};static \u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&te("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&uu("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Fi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Fi],replaceUrl:[2,"replaceUrl","replaceUrl",Fi],routerLink:"routerLink"},features:[Tn]})}return n})();var Hu=class{};var VR=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(kt(t=>t instanceof Nn),cr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=au(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Fe(i).pipe(Ws())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=J(null);let o=i.pipe(nt(s=>s===null?J(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Fe([o,s]).pipe(Ws())}else return o})}static \u0275fac=function(r){return new(r||n)(Y(qe),Y(vt),Y(Hu),Y(kf))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jR=new H(""),L$=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ir&&t.code===Ta.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Aa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Aa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){CS()};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function Vf(n,...e){return Dn([{provide:as,multi:!0,useValue:n},[],{provide:xn,useFactory:UR,deps:[qe]},{provide:Vh,multi:!0,useFactory:BR},e.map(t=>t.\u0275providers)])}function UR(n){return n.routerState.root}function zu(n,e){return{\u0275kind:n,\u0275providers:e}}function BR(){let n=O(ot);return e=>{let t=n.get(Bo);if(e!==t.components[0])return;let r=n.get(qe),i=n.get($R);n.get(dE)===1&&r.initialNavigation(),n.get(qR,null,he.Optional)?.setUpPreloading(),n.get(jR,null,he.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $R=new H("",{factory:()=>new Be}),dE=new H("",{providedIn:"root",factory:()=>1});function HR(){let n=[{provide:dE,useValue:0},c_(()=>{let e=O(ot);return e.get(m_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(qe),o=e.get($R);Lf(i,()=>{r(!0)}),e.get(Ff).afterPreactivation=()=>(r(!0),o.closed?J(void 0):o),i.initialNavigation()}))})];return zu(2,n)}function zR(){let n=[c_(()=>{O(qe).setUpLocationChangeListener()}),{provide:dE,useValue:2}];return zu(3,n)}var qR=new H("");function GR(n){return zu(0,[{provide:qR,useExisting:VR},{provide:Hu,useExisting:n}])}function WR(){return zu(8,[rE,{provide:Bu,useExisting:rE}])}function KR(n){va("NgRouterViewTransitions");let e=[{provide:aE,useValue:OR},{provide:cE,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return zu(9,e)}var QR=[Li,{provide:is,useClass:Bi},qe,os,{provide:xn,useFactory:UR,deps:[qe]},kf,[]],er=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[QR,[],{provide:as,multi:!0,useValue:t},[],r?.errorHandler?{provide:uE,useValue:r.errorHandler}:[],{provide:ss,useValue:r||{}},r?.useHash?j$():U$(),V$(),r?.preloadingStrategy?GR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?B$(r):[],r?.bindToComponentInputs?WR().\u0275providers:[],r?.enableViewTransitions?KR().\u0275providers:[],$$()]}}static forChild(t){return{ngModule:n,providers:[{provide:as,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wn({type:n});static \u0275inj=qn({})}return n})();function V$(){return{provide:jR,useFactory:()=>{let n=O(AA),e=O(De),t=O(ss),r=O(Ff),i=O(is);return t.scrollOffset&&n.setOffset(t.scrollOffset),new L$(i,r,n,e,t)}}}function j$(){return{provide:Yn,useClass:w_}}function U$(){return{provide:Yn,useClass:$h}}function B$(n){return[n.initialNavigation==="disabled"?zR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?HR().\u0275providers:[]]}var lE=new H("");function $$(){return[{provide:lE,useFactory:BR},{provide:Vh,multi:!0,useExisting:lE}]}var jf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,r){t&1&&(b(0,"p"),R(1,"error works!"),E())},encapsulation:2})};var oM=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(U(Zr),U(dn))};static \u0275dir=He({type:n})}return n})(),Zf=(()=>{class n extends oM{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275dir=He({type:n,features:[en]})}return n})(),Va=new H("");var H$={provide:Va,useExisting:Cn(()=>wt),multi:!0};function z$(){let n=An()?An().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var q$=new H(""),wt=(()=>{class n extends oM{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!z$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(U(Zr),U(dn),U(q$,8))};static \u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yr([H$]),en]})}return n})();function mE(n){return n==null||gE(n)===0}function gE(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Zu=new H(""),Jf=new H(""),G$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ve=class{static min(e){return W$(e)}static max(e){return K$(e)}static required(e){return sM(e)}static requiredTrue(e){return Q$(e)}static email(e){return Y$(e)}static minLength(e){return Z$(e)}static maxLength(e){return J$(e)}static pattern(e){return X$(e)}static nullValidator(e){return Bf()}static compose(e){return hM(e)}static composeAsync(e){return fM(e)}};function W$(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function K$(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function sM(n){return mE(n.value)?{required:!0}:null}function Q$(n){return n.value===!0?null:{required:!0}}function Y$(n){return mE(n.value)||G$.test(n.value)?null:{email:!0}}function Z$(n){return e=>{let t=e.value?.length??gE(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function J$(n){return e=>{let t=e.value?.length??gE(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function X$(n){if(!n)return Bf;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(mE(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Bf(n){return null}function aM(n){return n!=null}function cM(n){return Ko(n)?Fe(n):n}function uM(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function lM(n,e){return e.map(t=>t(n))}function e4(n){return!n.validate}function dM(n){return n.map(e=>e4(e)?e:t=>e.validate(t))}function hM(n){if(!n)return null;let e=n.filter(aM);return e.length==0?null:function(t){return uM(lM(t,e))}}function yE(n){return n!=null?hM(dM(n)):null}function fM(n){if(!n)return null;let e=n.filter(aM);return e.length==0?null:function(t){let r=lM(t,e).map(cM);return iy(r).pipe(ie(uM))}}function vE(n){return n!=null?fM(dM(n)):null}function YR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function pM(n){return n._rawValidators}function mM(n){return n._rawAsyncValidators}function hE(n){return n?Array.isArray(n)?n:[n]:[]}function $f(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZR(n,e){let t=hE(e);return hE(n).forEach(i=>{$f(t,i)||t.push(i)}),t}function JR(n,e){return hE(e).filter(t=>!$f(n,t))}var Hf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ti=class extends Hf{name;get formDirective(){return null}get path(){return null}},cs=class extends Hf{_parent=null;name=null;valueAccessor=null},zf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},t4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fee=oe(V({},t4),{"[class.ng-submitted]":"isSubmitted"}),Vt=(()=>{class n extends zf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(cs,2))};static \u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ki("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[en]})}return n})(),Pn=(()=>{class n extends zf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(ti,10))};static \u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ki("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[en]})}return n})();var qu="VALID",Uf="INVALID",ka="PENDING",Gu="DISABLED",Gi=class{},qf=class extends Gi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Ku=class extends Gi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Qu=class extends Gi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Oa=class extends Gi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Gf=class extends Gi{source;constructor(e){super(),this.source=e}},Wf=class extends Gi{source;constructor(e){super(),this.source=e}};function _E(n){return(Xf(n)?n.validators:n)||null}function n4(n){return Array.isArray(n)?yE(n):n||null}function EE(n,e){return(Xf(e)?e.asyncValidators:n)||null}function r4(n){return Array.isArray(n)?vE(n):n||null}function Xf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gM(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")}function yM(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new q(1002,"")})}var Fa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Kn(this.statusReactive)}set status(e){Kn(()=>this.statusReactive.set(e))}_status=Jr(()=>this.statusReactive());statusReactive=Xt(void 0);get valid(){return this.status===qu}get invalid(){return this.status===Uf}get pending(){return this.status==ka}get disabled(){return this.status===Gu}get enabled(){return this.status!==Gu}errors;get pristine(){return Kn(this.pristineReactive)}set pristine(e){Kn(()=>this.pristineReactive.set(e))}_pristine=Jr(()=>this.pristineReactive());pristineReactive=Xt(!0);get dirty(){return!this.pristine}get touched(){return Kn(this.touchedReactive)}set touched(e){Kn(()=>this.touchedReactive.set(e))}_touched=Jr(()=>this.touchedReactive());touchedReactive=Xt(!1);get untouched(){return!this.touched}_events=new Be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JR(e,this._rawAsyncValidators))}hasValidator(e){return $f(this._rawValidators,e)}hasAsyncValidator(e){return $f(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Qu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Qu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ku(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ku(!0,r))}markAsPending(e={}){this.status=ka;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Oa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gu,this.errors=null,this._forEachChild(i=>{i.disable(oe(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qf(this.value,r)),this._events.next(new Oa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qu,this._forEachChild(r=>{r.enable(oe(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qu||this.status===ka)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new qf(this.value,t)),this._events.next(new Oa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gu:qu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=cM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Oa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?Gu:this.errors?Uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(Uf)?Uf:qu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ku(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=n4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=r4(this._rawAsyncValidators)}},La=class extends Fa{constructor(e,t,r){super(_E(t),EE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){yM(this,!0,e),Object.keys(e).forEach(r=>{gM(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fE=class extends La{};var Ju=new H("",{providedIn:"root",factory:()=>ep}),ep="always";function vM(n,e){return[...e.path,n]}function Kf(n,e,t=ep){wE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),o4(n,e),a4(n,e),s4(n,e),i4(n,e)}function XR(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function i4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function wE(n,e){let t=pM(n);e.validator!==null?n.setValidators(YR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=mM(n);e.asyncValidator!==null?n.setAsyncValidators(YR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Qf(e._rawValidators,i),Qf(e._rawAsyncValidators,i)}function Yf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=pM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=mM(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Qf(e._rawValidators,r),Qf(e._rawAsyncValidators,r),t}function o4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&_M(n,e)})}function s4(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&_M(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function _M(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a4(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function EM(n,e){n==null,wE(n,e)}function c4(n,e){return Yf(n,e)}function wM(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function u4(n){return Object.getPrototypeOf(n.constructor)===Zf}function IM(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bM(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===wt?t=o:u4(o)?r=o:i=o}),i||r||t||null}function l4(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var d4={provide:ti,useExisting:Cn(()=>Xu)},Wu=Promise.resolve(),Xu=(()=>{class n extends ti{callSetDisabledState;get submitted(){return Kn(this.submittedReactive)}_submitted=Jr(()=>this.submittedReactive());submittedReactive=Xt(!1);_directives=new Set;form;ngSubmit=new $e;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new La({},yE(t),vE(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Kf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Wu.then(()=>{let r=this._findContainer(t.path),i=new La({});EM(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),IM(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Gf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Wf(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(U(Zu,10),U(Jf,10),U(Ju,8))};static \u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yr([d4]),en]})}return n})();function eM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function tM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Yu=class extends Fa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(_E(t),EE(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(tM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){eM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){eM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var h4=n=>n instanceof Yu;var f4={provide:cs,useExisting:Cn(()=>ni)},nM=Promise.resolve(),ni=(()=>{class n extends cs{_changeDetectorRef;callSetDisabledState;control=new Yu;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new $e;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bM(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),wM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Kf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){nM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Fi(r);nM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?vM(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(U(ti,9),U(Zu,10),U(Jf,10),U(Va,10),U(Zo,8),U(Ju,8))};static \u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yr([f4]),en,Tn]})}return n})();var kn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),p4={provide:Va,useExisting:Cn(()=>el),multi:!0},el=(()=>{class n extends Zf{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275dir=He({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&te("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[yr([p4]),en]})}return n})();var CM=new H("");var m4={provide:ti,useExisting:Cn(()=>ri)},ri=(()=>{class n extends ti{callSetDisabledState;get submitted(){return Kn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Jr(()=>this._submittedReactive());_submittedReactive=Xt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new $e;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Kf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){XR(t.control||null,t,!1),l4(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),IM(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Gf(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Wf(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(XR(r||null,t),h4(i)&&(Kf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);EM(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&c4(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wE(this.form,this),this._oldForm&&Yf(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(U(Zu,10),U(Jf,10),U(Ju,8))};static \u0275dir=He({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&te("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yr([m4]),en,Tn]})}return n})();var g4={provide:cs,useExisting:Cn(()=>ii)},ii=(()=>{class n extends cs{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new $e;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bM(this,o)}ngOnChanges(t){this._added||this._setUpControl(),wM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return vM(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(U(ti,13),U(Zu,10),U(Jf,10),U(Va,10),U(CM,8))};static \u0275dir=He({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[yr([g4]),en,Tn]})}return n})();var y4={provide:Va,useExisting:Cn(()=>ja),multi:!0};function DM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function v4(n){return n.split(":")[0]}var ja=(()=>{class n extends Zf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=DM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=v4(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275dir=He({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([y4]),en]})}return n})(),tp=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(DM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(U(dn),U(Zr),U(ja,9))};static \u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_4={provide:Va,useExisting:Cn(()=>TM),multi:!0};function rM(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function E4(n){return n.split(":")[0]}var TM=(()=>{class n extends Zf{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=E4(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275dir=He({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&te("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[yr([_4]),en]})}return n})(),np=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(rM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(rM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(U(dn),U(Zr),U(TM,9))};static \u0275dir=He({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var w4=(()=>{class n{_validator=Bf;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Bf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,features:[Tn]})}return n})();var I4={provide:Zu,useExisting:Cn(()=>IE),multi:!0};var IE=(()=>{class n extends w4{required;inputName="required";normalizeInput=Fi;createValidator=t=>sM;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Kr(n)))(i||n)}})();static \u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&uu("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[yr([I4]),en]})}return n})();var SM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wn({type:n});static \u0275inj=qn({})}return n})(),pE=class extends Fa{constructor(e,t,r){super(_E(t),EE(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){yM(this,!1,e),e.forEach((r,i)=>{gM(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function iM(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Wi=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return iM(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new La(i,o)}record(t,r=null){let i=this._reduceControls(t);return new fE(i,r)}control(t,r,i){let o={};return this.useNonNullable?(iM(r)?o=r:(o.validators=r,o.asyncValidators=i),new Yu(t,oe(V({},o),{nonNullable:!0}))):new Yu(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new pE(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Yu)return t;if(t instanceof Fa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var On=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ju,useValue:t.callSetDisabledState??ep}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wn({type:n});static \u0275inj=qn({imports:[SM]})}return n})(),br=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ju,useValue:t.callSetDisabledState??ep}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Wn({type:n});static \u0275inj=qn({imports:[SM]})}return n})();var rp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-principal"]],decls:38,vars:0,consts:[[1,"container-fluid","bg-light-rose","text-center","py-5"],[1,"display-4","text-rose"],[1,"lead"],[1,"container","py-5"],[1,"text-center","text-rose","mb-4"],[1,"row","g-4","justify-content-center"],[1,"col-6","col-md-4","col-lg-3"],[1,"producto-img"],["src","https://i.pinimg.com/736x/68/c8/1c/68c81c5b986cf8cb260d761d2915d90c.jpg","alt","Producto 1",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/5d/da/76/5dda76d41ba13028210e928a01a4c04e.jpg","alt","Producto 2",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/bf/16/a9/bf16a95037699ef09d79a7c013f5d836.jpg","alt","Producto 3",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e1/71/19/e17119801163ebbe303acd151bb3c10c.jpg","alt","Producto 4",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/27/00/2a/27002a7bc5273a281f9fdd8fd217353d.jpg","alt","Producto 5",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e9/ee/33/e9ee33c1b9ce1fb8a0b1418caeb904a4.jpg","alt","Producto 6 ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/e3/60/c8/e360c8ca550829d50eedf54c8c2ada2e.jpg","alt","Producto 7 ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/91/29/a6/9129a6920f9505c265a71f4dbc5dcfec.jpg","alt","Producto 8  ",1,"img-fluid","rounded","shadow-sm","border","border-rose"],["src","https://i.pinimg.com/736x/72/35/49/7235494fbbf3d71f792051fb89724d2d.jpg","alt","Producto 9  ",1,"img-fluid","rounded","shadow-sm","border","border-rose"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"h1",1),R(2,"\xA1Bienvenidos!"),E(),b(3,"p",2),R(4,"Descubr\xED productos incre\xEDbles seleccionados para vos."),E()(),b(5,"div",3)(6,"h2",4),R(7,"Productos destacados"),E(),b(8,"div",5)(9,"div",3)(10,"div",5)(11,"div",6)(12,"div",7),fe(13,"img",8),E()(),b(14,"div",6)(15,"div",7),fe(16,"img",9),E()(),b(17,"div",6)(18,"div",7),fe(19,"img",10),E()(),b(20,"div",6)(21,"div",7),fe(22,"img",11),E()(),b(23,"div",6)(24,"div",7),fe(25,"img",12),E()(),b(26,"div",6)(27,"div",7),fe(28,"img",13),E()(),b(29,"div",6)(30,"div",7),fe(31,"img",14),E()(),b(32,"div",6)(33,"div",7),fe(34,"img",15),E()(),b(35,"div",6)(36,"div",7),fe(37,"img",16),E()()()()()())},dependencies:[er,On],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-light-rose[_ngcontent-%COMP%]{background-color:#f8d7e4}.border-rose[_ngcontent-%COMP%]{border:2px solid #d63384!important}.producto-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:transform .3s ease}.producto-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var AM=()=>{};var NM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},b4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ip={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(m=64)),r.push(t[h],t[p],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(NM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):b4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new CE;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},CE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},C4=function(n){let e=NM(n);return ip.encodeByteArray(e,!0)},nl=function(n){return C4(n).replace(/\./g,"")},op=function(n){try{return ip.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function TE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var D4=()=>TE().__FIREBASE_DEFAULTS__,T4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},S4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&op(n[1]);return e&&JSON.parse(e)},sp=()=>{try{return AM()||D4()||T4()||S4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SE=n=>{var e,t;return(t=(e=sp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},xM=n=>{let e=SE(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},AE=()=>{var n;return(n=sp())===null||n===void 0?void 0:n.config},RE=n=>{var e;return(e=sp())===null||e===void 0?void 0:e[`_${n}`]};var us=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Qi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function ap(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function PM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nl(JSON.stringify(t)),nl(JSON.stringify(s)),""].join(".")}var tl={};function A4(){let n={prod:[],emulator:[]};for(let e of Object.keys(tl))tl[e]?n.emulator.push(e):n.prod.push(e);return n}function R4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var RM=!1;function cp(n,e){if(typeof window>"u"||typeof document>"u"||!Qi(window.location.host)||tl[n]===e||tl[n]||RM)return;tl[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=A4().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{RM=!0,s()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=R4(r),g=t("text"),C=document.getElementById(g)||document.createElement("span"),N=t("learnmore"),x=document.getElementById(N)||document.createElement("a"),j=t("preprendIcon"),Q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(x,N);let Ie=l();u(Q,j),K.append(Q,C,x,Ie),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function M4(){var n;let e=(n=sp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VM(){let n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jM(){return!M4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rl(){try{return typeof indexedDB=="object"}catch{return!1}}function UM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var N4="FirebaseError",yn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=N4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}},tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?x4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new yn(i,a,r)}};function x4(n,e){return n.replace(P4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var P4=/\{\$([^}]+)}/g;function BM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(MM(o)&&MM(s)){if(!nr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function MM(n){return n!==null&&typeof n=="object"}function il(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $M(n,e){let t=new DE(n,e);return t.subscribe.bind(t)}var DE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=bE),i.error===void 0&&(i.error=bE),i.complete===void 0&&(i.complete=bE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function k4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function bE(){}var zee=4*60*60*1e3;function gt(n){return n&&n._delegate?n._delegate:n}var Wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ls="[DEFAULT]";var ME=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new us;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F4(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:O4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function O4(n){return n===ls?void 0:n}function F4(n){return n.instantiationMode==="EAGER"}var up=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new ME(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var L4=[],ye=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ye||{}),V4={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},j4=ye.INFO,U4={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},B4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=U4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cr=class{constructor(e){this.name=e,this._logLevel=j4,this._logHandler=B4,this._userLogHandler=null,L4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var $4=(n,e)=>e.some(t=>n instanceof t),HM,zM;function H4(){return HM||(HM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return zM||(zM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qM=new WeakMap,xE=new WeakMap,GM=new WeakMap,NE=new WeakMap,kE=new WeakMap;function q4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Dr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&qM.set(t,n)}).catch(()=>{}),kE.set(e,n),e}function G4(n){if(xE.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});xE.set(n,e)}var PE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xE.get(n);if(e==="objectStoreNames")return n.objectStoreNames||GM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WM(n){PE=n(PE)}function W4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(lp(this),e,...t);return GM.set(r,e.sort?e.sort():[e]),Dr(r)}:z4().includes(n)?function(...e){return n.apply(lp(this),e),Dr(qM.get(this))}:function(...e){return Dr(n.apply(lp(this),e))}}function K4(n){return typeof n=="function"?W4(n):(n instanceof IDBTransaction&&G4(n),$4(n,H4())?new Proxy(n,PE):n)}function Dr(n){if(n instanceof IDBRequest)return q4(n);if(NE.has(n))return NE.get(n);let e=K4(n);return e!==n&&(NE.set(n,e),kE.set(e,n)),e}var lp=n=>kE.get(n);function QM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Dr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Dr(s.result),u.oldVersion,u.newVersion,Dr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Q4=["get","getKey","getAll","getAllKeys","count"],Y4=["put","add","delete","clear"],OE=new Map;function KM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(OE.get(e))return OE.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Y4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q4.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return OE.set(e,o),o}WM(n=>oe(V({},n),{get:(e,t,r)=>KM(e,t)||n.get(e,t,r),has:(e,t)=>!!KM(e,t)||n.has(e,t)}));var LE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Z4(n){let e=n.getComponent();return e?.type==="VERSION"}var VE="@firebase/app",YM="0.13.2";var oi=new Cr("@firebase/app"),J4="@firebase/app-compat",X4="@firebase/analytics-compat",e3="@firebase/analytics",t3="@firebase/app-check-compat",n3="@firebase/app-check",r3="@firebase/auth",i3="@firebase/auth-compat",o3="@firebase/database",s3="@firebase/data-connect",a3="@firebase/database-compat",c3="@firebase/functions",u3="@firebase/functions-compat",l3="@firebase/installations",d3="@firebase/installations-compat",h3="@firebase/messaging",f3="@firebase/messaging-compat",p3="@firebase/performance",m3="@firebase/performance-compat",g3="@firebase/remote-config",y3="@firebase/remote-config-compat",v3="@firebase/storage",_3="@firebase/storage-compat",E3="@firebase/firestore",w3="@firebase/ai",I3="@firebase/firestore-compat",b3="firebase",C3="11.10.0";var jE="[DEFAULT]",D3={[VE]:"fire-core",[J4]:"fire-core-compat",[e3]:"fire-analytics",[X4]:"fire-analytics-compat",[n3]:"fire-app-check",[t3]:"fire-app-check-compat",[r3]:"fire-auth",[i3]:"fire-auth-compat",[o3]:"fire-rtdb",[s3]:"fire-data-connect",[a3]:"fire-rtdb-compat",[c3]:"fire-fn",[u3]:"fire-fn-compat",[l3]:"fire-iid",[d3]:"fire-iid-compat",[h3]:"fire-fcm",[f3]:"fire-fcm-compat",[p3]:"fire-perf",[m3]:"fire-perf-compat",[g3]:"fire-rc",[y3]:"fire-rc-compat",[v3]:"fire-gcs",[_3]:"fire-gcs-compat",[E3]:"fire-fst",[I3]:"fire-fst-compat",[w3]:"fire-vertex","fire-js":"fire-js",[b3]:"fire-js-all"};var ol=new Map,T3=new Map,UE=new Map;function ZM(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function rr(n){let e=n.name;if(UE.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;UE.set(e,n);for(let t of ol.values())ZM(t,n);for(let t of T3.values())ZM(t,n);return!0}function Ua(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}var S3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new tr("app","Firebase",S3);var BE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}};var Zi=C3;function dp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:jE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(t||(t=AE()),!t)throw Yi.create("no-options");let o=ol.get(i);if(o){if(nr(t,o.options)&&nr(r,o.config))return o;throw Yi.create("duplicate-app",{appName:i})}let s=new up(i);for(let u of UE.values())s.addComponent(u);let a=new BE(t,r,s);return ol.set(i,a),a}function ds(n=jE){let e=ol.get(n);if(!e&&n===jE&&AE())return dp();if(!e)throw Yi.create("no-app",{appName:n});return e}function hp(){return Array.from(ol.values())}function et(n,e,t){var r;let i=(r=D3[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}rr(new Wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var A3="firebase-heartbeat-database",R3=1,sl="firebase-heartbeat-store",FE=null;function tN(){return FE||(FE=QM(A3,R3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),FE}function M3(n){return _(this,null,function*(){try{let t=(yield tN()).transaction(sl),r=yield t.objectStore(sl).get(nN(n));return yield t.done,r}catch(e){if(e instanceof yn)oi.warn(e.message);else{let t=Yi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}})}function JM(n,e){return _(this,null,function*(){try{let r=(yield tN()).transaction(sl,"readwrite");yield r.objectStore(sl).put(e,nN(n)),yield r.done}catch(t){if(t instanceof yn)oi.warn(t.message);else{let r=Yi.create("idb-set",{originalErrorMessage:t?.message});oi.warn(r.message)}}})}function nN(n){return`${n.name}!${n.options.appId}`}var N3=1024,x3=30,$E=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new HE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=XM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>x3){let s=k3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oi.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=XM(),{heartbeatsToSend:r,unsentEntries:i}=P3(this._heartbeatsCache.heartbeats),o=nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return oi.warn(t),""}})}};function XM(){return new Date().toISOString().substring(0,10)}function P3(n,e=N3){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),eN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var HE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return rl()?UM().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield M3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function eN(n){return nl(JSON.stringify({version:2,heartbeats:n})).length}function k3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function O3(n){rr(new Wt("platform-logger",e=>new LE(e),"PRIVATE")),rr(new Wt("heartbeat",e=>new $E(e),"PRIVATE")),et(VE,YM,n),et(VE,YM,"esm2017"),et("fire-js","")}O3("");var F3="firebase",L3="11.10.0";et(F3,L3,"app");function zE(n){n===void 0&&(bv(zE),n=O(ot));let e=n.get(Rh);return t=>new le(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ji=new Ho("ANGULARFIRE2_VERSION");function al(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var $a=(n,e)=>{let t=e?[e]:hp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ba=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ba||{}),rN=h_()&&typeof Zone<"u"?Ba.WARN:Ba.SILENT;var fp=class{zone;delegate;constructor(e,t=ty){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Xi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=O(De);this.outsideAngular=t.runOutsideAngular(()=>new fp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new fp(typeof Zone>"u"?void 0:Zone.current,_d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iN=!1;function V3(n,e){!iN&&(rN>Ba.SILENT||h_())&&(iN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),rN>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function j3(n){let e=O(De,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function hs(n){let e=O(De,{optional:!0});return e?e.run(()=>n()):n()}var U3=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),_t(t,()=>hs(()=>n.apply(void 0,r)))),Rt=(n,e,t)=>(t||=e?Ba.WARN:Ba.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=O(Xi),s=O(Rh),a=O(vt)}catch{return V3(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=hs(()=>s.add())),i[l]=U3(i[l],r,a));let u=j3(()=>n.apply(this,i));return e?u instanceof le?u.pipe(Ai(o.outsideAngular),Si(o.insideAngular),zE(a)):u instanceof Promise?hs(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>_t(a,()=>hs(()=>l(p))),p=>_t(a,()=>hs(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:hs(()=>u):u instanceof le?u.pipe(Ai(o.outsideAngular),Si(o.insideAngular)):hs(()=>u)});var si=class{constructor(e){return e}},fs=class{constructor(){return hp()}};function B3(n){return n&&n.length===1?n[0]:new si(ds())}var qE=new H("angularfire2._apps"),$3={provide:si,useFactory:B3,deps:[[new ln,qE]]},H3={provide:fs,deps:[[new ln,qE]]};function z3(n){return(e,t)=>{let r=t.get(xi);et("angularfire",Ji.full,"core"),et("angularfire",Ji.full,"app"),et("angular",qS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new si(i)}}function oN(n,...e){return Dn([$3,H3,{provide:qE,useFactory:z3(n),multi:!0,deps:[De,ot,Xi,...e]}])}var q3=new Map,G3={activated:!1,tokenObservers:[]},W3={initialized:!1,enabled:!1};function ir(n){return q3.get(n)||Object.assign({},G3)}function uN(){return W3}var K3="https://content-firebaseappcheck.googleapis.com/v1";var Q3="exchangeDebugToken",sN={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Qte=24*60*60*1e3;var KE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new us,this.pending.promise.catch(t=>{}),yield Y3(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new us,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Y3(n){return new Promise(e=>{setTimeout(e,n)})}var Z3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},eo=new tr("appCheck","AppCheck",Z3);function lN(n){if(!ir(n).activated)throw eo.create("use-before-activation",{appName:n.name})}function dN(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(g){throw eo.create("fetch-network-error",{originalErrorMessage:g?.message})}if(u.status!==200)throw eo.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(g){throw eo.create("fetch-parse-error",{originalErrorMessage:g?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function hN(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${K3}/projects/${t}/apps/${r}:${Q3}?key=${i}`,body:{debug_token:e}}}var J3="firebase-app-check-database",X3=1,QE="firebase-app-check-store";var pp=null;function eH(){return pp||(pp=new Promise((n,e)=>{try{let t=indexedDB.open(J3,X3);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(eo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(QE,{keyPath:"compositeKey"})}}}catch(t){e(eo.create("storage-open",{originalErrorMessage:t?.message}))}}),pp)}function tH(n,e){return nH(rH(n),e)}function nH(n,e){return _(this,null,function*(){let r=(yield eH()).transaction(QE,"readwrite"),o=r.objectStore(QE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(eo.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function rH(n){return`${n.options.appId}-${n.name}`}var cl=new Cr("@firebase/app-check");function GE(n,e){return rl()?tH(n,e).catch(t=>{cl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fN(){return uN().enabled}function pN(){return _(this,null,function*(){let n=uN();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var iH={error:"UNKNOWN_ERROR"};function oH(n){return ip.encodeString(JSON.stringify(n),!1)}function YE(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;lN(r);let i=ir(r),o=i.token,s;if(o&&!ul(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ul(l)?o=l:yield GE(r,void 0))}if(!e&&o&&ul(o))return{token:o.token};let a=!1;if(fN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=dN(hN(r,yield pN()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield GE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cl.warn(l.message):t&&cl.error(l),WE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield ir(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cl.warn(l.message):t&&cl.error(l),s=l}let u;return o?s?ul(o)?u={token:o.token,internalError:s}:u=WE(s):(u={token:o.token},i.token=o,yield GE(r,o)):u=WE(s),a&&uH(r,u),u})}function sH(n){return _(this,null,function*(){let e=n.app;lN(e);let{provider:t}=ir(e);if(fN()){let r=yield pN(),{token:i}=yield dN(hN(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function aH(n,e,t,r){let{app:i}=n,o=ir(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ul(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),aN(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>aN(n))}function mN(n,e){let t=ir(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function aN(n){let{app:e}=n,t=ir(e),r=t.tokenRefresher;r||(r=cH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function cH(n){let{app:e}=n;return new KE(()=>_(null,null,function*(){let t=ir(e),r;if(t.token?r=yield YE(n,!0):r=yield YE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=ir(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},sN.RETRIAL_MIN_WAIT,sN.RETRIAL_MAX_WAIT)}function uH(n,e){let t=ir(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ul(n){return n.expireTimeMillis-Date.now()>0}function WE(n){return{token:oH(iH),error:n}}var ZE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=ir(this.app);for(let t of e)mN(this.app,t.next);return Promise.resolve()}};function lH(n,e){return new ZE(n,e)}function dH(n){return{getToken:e=>YE(n,e),getLimitedUseToken:()=>sH(n),addTokenListener:e=>aH(n,"INTERNAL",e),removeTokenListener:e=>mN(n.app,e)}}var hH="@firebase/app-check",fH="0.10.1";var pH="app-check",cN="app-check-internal";function mH(){rr(new Wt(pH,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return lH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cN).initialize()})),rr(new Wt(cN,n=>{let e=n.getProvider("app-check").getImmediate();return dH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),et(hH,fH)}mH();var gH="app-check";var Ha=class{constructor(){return $a(gH)}};var yH=["localhost","0.0.0.0","127.0.0.1"],cne=typeof window<"u"&&yH.includes(window.location.hostname);function MN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NN=MN,xN=new tr("auth","Firebase",MN());var Ep=new Cr("@firebase/auth");function vH(n,...e){Ep.logLevel<=ye.WARN&&Ep.warn(`Auth (${Zi}): ${n}`,...e)}function gp(n,...e){Ep.logLevel<=ye.ERROR&&Ep.error(`Auth (${Zi}): ${n}`,...e)}function ro(n,...e){throw yw(n,...e)}function ms(n,...e){return yw(n,...e)}function PN(n,e,t){let r=Object.assign(Object.assign({},NN()),{[e]:t});return new tr("auth","Firebase",r).create(e,{appName:n.name})}function ps(n){return PN(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xN.create(n,...e)}function re(n,e,...t){if(!n)throw yw(e,...t)}function ai(n){let e="INTERNAL ASSERTION FAILED: "+n;throw gp(e),new Error(e)}function io(n,e){n||ai(e)}function tw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _H(){return gN()==="http:"||gN()==="https:"}function gN(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function EH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_H()||FM()||"connection"in navigator)?navigator.onLine:!0}function wH(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var gs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile=kM()||LM()}get(){return EH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vw(n,e){io(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var wp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var IH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bH=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CH=new gs(3e4,6e4);function _w(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function za(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return kN(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=il(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},l);return OM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Qi(n.emulatorConfig.host)&&(g.credentials="include"),wp.fetch()(yield ON(n,n.config.apiHost,t,p),g)}))})}function kN(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},IH),e);try{let i=new nw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw mp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw mp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw mp(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PN(n,h,l);ro(n,h)}}catch(i){if(i instanceof yn)throw i;ro(n,"network-request-failed",{message:String(i)})}})}function DH(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield za(n,e,t,r,i);return"mfaPendingCredential"in l&&ro(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function ON(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?vw(n.config,i):`${n.config.apiScheme}://${i}`;return bH.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var nw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),CH.get())})}};function mp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ms(n,e,r);return i.customData._tokenResponse=t,i}function TH(n,e){return _(this,null,function*(){return za(n,"POST","/v1/accounts:delete",e)})}function Ip(n,e){return _(this,null,function*(){return za(n,"POST","/v1/accounts:lookup",e)})}function ll(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ew(n,e=!1){return _(this,null,function*(){let t=gt(n),r=yield t.getIdToken(e),i=ww(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ll(JE(i.auth_time)),issuedAtTime:ll(JE(i.iat)),expirationTime:ll(JE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function JE(n){return Number(n)*1e3}function ww(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return gp("JWT malformed, contained fewer than 3 sections"),null;try{let i=op(t);return i?JSON.parse(i):(gp("Failed to decode base64 JWT payload"),null)}catch(i){return gp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yN(n){let e=ww(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hl(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof yn&&SH(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function SH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var rw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ll(this.lastLoginAt),this.creationTime=ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bp(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield hl(n,Ip(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FN(o.providerUserInfo):[],a=AH(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fl(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Iw(n){return _(this,null,function*(){let e=gt(n);yield bp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FN(n){return n.map(e=>{var{providerId:t}=e,r=ny(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RH(n,e){return _(this,null,function*(){let t=yield kN(n,{},()=>_(null,null,function*(){let r=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ON(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Qi(n.emulatorConfig.host)&&(u.credentials="include"),wp.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function MH(n,e){return _(this,null,function*(){return za(n,"POST","/v2/accounts:revokeToken",_w(n,e))})}var dl=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=yN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RH(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ai("not implemented")}};function to(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var no=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fl(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield hl(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Ew(this,e)}reload(){return Iw(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield bp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Fn(this.auth.app))return Promise.reject(ps(this.auth));let e=yield this.getIdToken();return yield hl(this,TH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:Ie,isAnonymous:rt,providerData:Se,stsTokenManager:T}=t;re(K&&T,e,"internal-error");let v=dl.fromJSON(this.name,T);re(typeof K=="string",e,"internal-error"),to(p,e.name),to(m,e.name),re(typeof Ie=="boolean",e,"internal-error"),re(typeof rt=="boolean",e,"internal-error"),to(g,e.name),to(C,e.name),to(N,e.name),to(x,e.name),to(j,e.name),to(Q,e.name);let I=new n({uid:K,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:rt,photoURL:C,phoneNumber:g,tenantId:N,stsTokenManager:v,createdAt:j,lastLoginAt:Q});return Se&&Array.isArray(Se)&&(I.providerData=Se.map(D=>Object.assign({},D))),x&&(I._redirectEventId=x),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new dl;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?FN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new dl;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fl(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var vN=new Map;function ci(n){io(n instanceof Function,"Expected a class definition");let e=vN.get(n);return e?(io(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vN.set(n,e),e)}var NH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),iw=NH;function yp(n,e,t){return`firebase:${n}:${e}:${t}`}var Cp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=yp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Ip(this.auth,{idToken:e}).catch(()=>{});return t?no._fromGetAccountInfoResponse(this.auth,t,e):null}return no._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(ci(iw),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ci(iw),s=yp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Ip(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield no._fromGetAccountInfoResponse(e,m,h)}else p=no._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function _N(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(HN(e))return"Webos";if(VN(e))return"Safari";if((e.includes("chrome/")||jN(e))&&!e.includes("edge/"))return"Chrome";if(BN(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function LN(n=It()){return/firefox\//i.test(n)}function VN(n=It()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jN(n=It()){return/crios\//i.test(n)}function UN(n=It()){return/iemobile/i.test(n)}function BN(n=It()){return/android/i.test(n)}function $N(n=It()){return/blackberry/i.test(n)}function HN(n=It()){return/webos/i.test(n)}function bw(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xH(n=It()){var e;return bw(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PH(){return VM()&&document.documentMode===10}function zN(n=It()){return bw(n)||BN(n)||HN(n)||$N(n)||/windows phone/i.test(n)||UN(n)}function qN(n,e=[]){let t;switch(n){case"Browser":t=_N(It());break;case"Worker":t=`${_N(It())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zi}/${r}`}var ow=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kH(t){return _(this,arguments,function*(n,e={}){return za(n,"GET","/v2/passwordPolicy",_w(n,e))})}var OH=6,sw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:OH,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var aw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ci(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Cp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Ip(this,{idToken:e}),r=yield no._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(Fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield bp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wH()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Fn(this.app))return Promise.reject(ps(this));let t=e?gt(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Fn(this.app)?Promise.reject(ps(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject(ps(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ci(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield kH(this),t=new sw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MH(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ci(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Cp.create(this,[ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&vH(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Cw(n){return gt(n)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=$M(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dw={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FH(n){Dw=n}function LH(n){return Dw.loadJS(n)}function VH(){return Dw.gapiScript}function GN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Tw(n,e){let t=Ua(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(nr(o,e??{}))return i;ro(i,"already-initialized")}return t.initialize({options:e})}function jH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ci);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Sw(n,e,t){let r=Cw(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=WN(e),{host:s,port:a}=UH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(nr(l,r.config.emulator)&&nr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qi(s)?(ap(`${o}//${s}${u}`),cp("Auth",!0)):i||BH()}function WN(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UH(n){let e=WN(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:EN(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:EN(s)}}}function EN(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function BH(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Tp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}};function XE(n,e){return _(this,null,function*(){return DH(n,"POST","/v1/accounts:signInWithIdp",_w(n,e))})}var Sp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var cw=class extends Sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pl=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield no._fromIdTokenResponse(e,r,i),s=wN(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=wN(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function wN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var uw=class n extends yn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function KN(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uw._fromErrorAndOperation(n,o,e,r):o})}function $H(n,e,t=!1){return _(this,null,function*(){let r=yield hl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return pl._forOperation(n,"link",r)})}function HH(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(Fn(r.app))return Promise.reject(ps(r));let i="reauthenticate";try{let o=yield hl(n,KN(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=ww(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),pl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ro(r,"user-mismatch"),o}})}function zH(n,e,t=!1){return _(this,null,function*(){if(Fn(n.app))return Promise.reject(ps(n));let r="signIn",i=yield KN(n,r,e),o=yield pl._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Aw(n,e,t,r){return gt(n).onIdTokenChanged(e,t,r)}function Rw(n,e,t){return gt(n).beforeAuthStateChanged(e,t)}var Ap="__sak";var Rp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var qH=1e3,GH=10,WH=(()=>{class n extends Rp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);PH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},qH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Di(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Di(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Di(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),QN=WH;var KH=(()=>{class n extends Rp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Mw=KH;function QH(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var YH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield QH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function YN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var lw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=YN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Tr(){return window}function ZH(n){Tr().location.href=n}function ZN(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}function JH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XH(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function e6(){return ZN()?self:null}var JN="firebaseLocalStorageDb",t6=1,Mp="firebaseLocalStorage",XN="fbase_key",ys=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function xp(n,e){return n.transaction([Mp],e?"readwrite":"readonly").objectStore(Mp)}function n6(){let n=indexedDB.deleteDatabase(JN);return new ys(n).toPromise()}function dw(){let n=indexedDB.open(JN,t6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Mp,{keyPath:XN})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Mp)?e(r):(r.close(),yield n6(),e(yield dw()))}))})}function IN(n,e,t){return _(this,null,function*(){let r=xp(n,!0).put({[XN]:e,value:t});return new ys(r).toPromise()})}function r6(n,e){return _(this,null,function*(){let t=xp(n,!1).get(e),r=yield new ys(t).toPromise();return r===void 0?null:r.value})}function bN(n,e){let t=xp(n,!0).delete(e);return new ys(t).toPromise()}var i6=800,o6=3,s6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield dw(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>o6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return ZN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=YH._getInstance(e6()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield JH(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield dw();return yield IN(t,Ap,"1"),yield bN(t,Ap),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>IN(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>r6(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>bN(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=xp(o,!1).getAll();return new ys(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),i6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),ex=s6;var vne=GN("rcb"),_ne=new gs(3e4,6e4);function a6(n,e){return e?ci(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ml=class extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return XE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return XE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return XE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function c6(n){return zH(n.auth,new ml(n),n.bypassAuthState)}function u6(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),HH(t,new ml(n),n.bypassAuthState)}function l6(n){return _(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),$H(t,new ml(n),n.bypassAuthState)})}var hw=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c6;case"linkViaPopup":case"linkViaRedirect":return l6;case"reauthViaPopup":case"reauthViaRedirect":return u6;default:ro(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ene=new gs(2e3,1e4);var d6="pendingRedirect",vp=new Map,fw=class n extends hw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=vp.get(this.auth._key());if(!e){try{let r=(yield h6(this.resolver,this.auth))?yield Di(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Di(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Di(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function h6(n,e){return _(this,null,function*(){let t=m6(e),r=p6(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function f6(n,e){vp.set(n._key(),e)}function p6(n){return ci(n._redirectPersistence)}function m6(n){return yp(d6,n.config.apiKey,n.name)}function g6(n,e,t=!1){return _(this,null,function*(){if(Fn(n.app))return Promise.reject(ps(n));let r=Cw(n),i=a6(r,e),s=yield new fw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var y6=10*60*1e3,pw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ms(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y6&&this.cachedEventUids.clear(),this.cachedEventUids.has(CN(e))}saveEventToCache(e){this.cachedEventUids.add(CN(e)),this.lastProcessedEventTime=Date.now()}};function CN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function tx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function v6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tx(n);default:return!1}}function _6(t){return _(this,arguments,function*(n,e={}){return za(n,"GET","/v1/projects",e)})}var E6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w6=/^https?/;function I6(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield _6(n);for(let t of e)try{if(b6(t))return}catch{}ro(n,"unauthorized-domain")})}function b6(n){let e=tw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!w6.test(t))return!1;if(E6.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var C6=new gs(3e4,6e4);function DN(){let n=Tr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function D6(n){return new Promise((e,t)=>{var r,i,o;function s(){DN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DN(),t(ms(n,"network-request-failed"))},timeout:C6.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tr().gapi)===null||o===void 0)&&o.load)s();else{let a=GN("iframefcb");return Tr()[a]=()=>{gapi.load?s():t(ms(n,"network-request-failed"))},LH(`${VH()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw _p=null,e})}var _p=null;function T6(n){return _p=_p||D6(n),_p}var S6=new gs(5e3,15e3),A6="__/auth/iframe",R6="emulator/auth/iframe",M6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x6(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?vw(e,R6):`https://${n.config.authDomain}/${A6}`,r={apiKey:e.apiKey,appName:n.name,v:Zi},i=N6.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${il(r).slice(1)}`}function P6(n){return _(this,null,function*(){let e=yield T6(n),t=Tr().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:x6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M6,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ms(n,"network-request-failed"),a=Tr().setTimeout(()=>{o(s)},S6.get());function u(){Tr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var k6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O6=500,F6=600,L6="_blank",V6="http://localhost",Np=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function j6(n,e,t,r=O6,i=F6){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},k6),{width:r.toString(),height:i.toString(),top:o,left:s}),l=It().toLowerCase();t&&(a=jN(l)?L6:t),LN(l)&&(e=e||V6,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[g,C])=>`${m}${g}=${C},`,"");if(xH(l)&&a!=="_self")return U6(e||"",a),new Np(null);let p=window.open(e||"",a,h);re(p,n,"popup-blocked");try{p.focus()}catch{}return new Np(p)}function U6(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var B6="__/auth/handler",$6="emulator/auth/handler",H6=encodeURIComponent("fac");function TN(n,e,t,r,i,o){return _(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zi,eventId:i};if(e instanceof Sp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",BM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof cw){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${H6}=${encodeURIComponent(u)}`:"";return`${z6(n)}?${il(a).slice(1)}${l}`})}function z6({config:n}){return n.emulator?vw(n,$6):`https://${n.authDomain}/${B6}`}var ew="webStorageSupport",mw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=g6,this._overrideRedirectResult=f6}_openPopup(e,t,r,i){return _(this,null,function*(){var o;io((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield TN(e,t,r,tw(),i);return j6(e,s,YN())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield TN(e,t,r,tw(),i);return ZH(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield P6(e),r=new pw(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ew,{type:ew},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ew];s!==void 0&&t(!!s),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zN()||VN()||bw()}},nx=mw;var SN="@firebase/auth",AN="1.10.8";var gw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function q6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G6(n){rr(new Wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qN(n)},l=new aw(r,i,o,u);return jH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),rr(new Wt("auth-internal",e=>{let t=Cw(e.getProvider("auth").getImmediate());return(r=>new gw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(SN,AN,q6(n)),et(SN,AN,"esm2017")}var W6=5*60,K6=RE("authIdTokenMaxAge")||W6,RN=null,Q6=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>K6)return;let i=t?.token;RN!==i&&(RN=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Nw(n=ds()){let e=Ua(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Tw(n,{popupRedirectResolver:nx,persistence:[ex,QN,Mw]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=Q6(o.toString());Rw(t,s,()=>s(t.currentUser)),Aw(t,a=>s(a))}}let i=SE("auth");return i&&Sw(t,`http://${i}`),t}function Y6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}FH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ms("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Y6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G6("Browser");var rx="auth",gl=class{constructor(e){return e}},yl=class{constructor(){return $a(rx)}};var xw=new H("angularfire2.auth-instances");function Hz(n,e){let t=al(rx,n,e);return t&&new gl(t)}function zz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new gl(r)}}var qz={provide:yl,deps:[[new ln,xw]]},Gz={provide:gl,useFactory:Hz,deps:[[new ln,xw],si]};function ix(n,...e){return et("angularfire",Ji.full,"auth"),Dn([Gz,qz,{provide:xw,useFactory:zz(n),multi:!0,deps:[De,ot,Xi,fs,[new ln,Ha],...e]}])}var ox=Rt(Nw,!0);var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ax={};var ui,Pw;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(D,S,M){for(var w=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)w[Or-2]=arguments[Or];return v.prototype[S].apply(D,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var D=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)D[S]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(S=0;16>S;++S)D[S]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],S=T.g[2];var M=T.g[3],w=v+(M^I&(S^M))+D[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=M+(S^v&(I^S))+D[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=S+(I^M&(v^I))+D[2]+606105819&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(v^S&(M^v))+D[3]+3250441966&4294967295,I=S+(w<<22&4294967295|w>>>10),w=v+(M^I&(S^M))+D[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=M+(S^v&(I^S))+D[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=S+(I^M&(v^I))+D[6]+2821735955&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(v^S&(M^v))+D[7]+4249261313&4294967295,I=S+(w<<22&4294967295|w>>>10),w=v+(M^I&(S^M))+D[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=M+(S^v&(I^S))+D[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=S+(I^M&(v^I))+D[10]+4294925233&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(v^S&(M^v))+D[11]+2304563134&4294967295,I=S+(w<<22&4294967295|w>>>10),w=v+(M^I&(S^M))+D[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=M+(S^v&(I^S))+D[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=S+(I^M&(v^I))+D[14]+2792965006&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(v^S&(M^v))+D[15]+1236535329&4294967295,I=S+(w<<22&4294967295|w>>>10),w=v+(S^M&(I^S))+D[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(v^I))+D[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=S+(v^I&(M^v))+D[11]+643717713&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^v&(S^M))+D[0]+3921069994&4294967295,I=S+(w<<20&4294967295|w>>>12),w=v+(S^M&(I^S))+D[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(v^I))+D[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=S+(v^I&(M^v))+D[15]+3634488961&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^v&(S^M))+D[4]+3889429448&4294967295,I=S+(w<<20&4294967295|w>>>12),w=v+(S^M&(I^S))+D[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(v^I))+D[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=S+(v^I&(M^v))+D[3]+4107603335&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^v&(S^M))+D[8]+1163531501&4294967295,I=S+(w<<20&4294967295|w>>>12),w=v+(S^M&(I^S))+D[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(v^I))+D[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=S+(v^I&(M^v))+D[7]+1735328473&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^v&(S^M))+D[12]+2368359562&4294967295,I=S+(w<<20&4294967295|w>>>12),w=v+(I^S^M)+D[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=M+(v^I^S)+D[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=S+(M^v^I)+D[11]+1839030562&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^v)+D[14]+4259657740&4294967295,I=S+(w<<23&4294967295|w>>>9),w=v+(I^S^M)+D[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=M+(v^I^S)+D[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=S+(M^v^I)+D[7]+4139469664&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^v)+D[10]+3200236656&4294967295,I=S+(w<<23&4294967295|w>>>9),w=v+(I^S^M)+D[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=M+(v^I^S)+D[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=S+(M^v^I)+D[3]+3572445317&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^v)+D[6]+76029189&4294967295,I=S+(w<<23&4294967295|w>>>9),w=v+(I^S^M)+D[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=M+(v^I^S)+D[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=S+(M^v^I)+D[15]+530742520&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^v)+D[2]+3299628645&4294967295,I=S+(w<<23&4294967295|w>>>9),w=v+(S^(I|~M))+D[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=M+(I^(v|~S))+D[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=S+(v^(M|~I))+D[14]+2878612391&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~v))+D[5]+4237533241&4294967295,I=S+(w<<21&4294967295|w>>>11),w=v+(S^(I|~M))+D[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=M+(I^(v|~S))+D[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=S+(v^(M|~I))+D[10]+4293915773&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~v))+D[1]+2240044497&4294967295,I=S+(w<<21&4294967295|w>>>11),w=v+(S^(I|~M))+D[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=M+(I^(v|~S))+D[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=S+(v^(M|~I))+D[6]+2734768916&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~v))+D[13]+1309151649&4294967295,I=S+(w<<21&4294967295|w>>>11),w=v+(S^(I|~M))+D[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=M+(I^(v|~S))+D[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=S+(v^(M|~I))+D[2]+718787259&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~v))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,D=this.B,S=this.h,M=0;M<v;){if(S==0)for(;M<=I;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<v;)if(D[S++]=T.charCodeAt(M++),S==this.blockSize){i(this,D),S=0;break}}else for(;M<v;)if(D[S++]=T[M++],S==this.blockSize){i(this,D),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var D=0;32>D;D+=8)T[I++]=this.g[v]>>>D&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],D=!0,S=T.length-1;0<=S;S--){var M=T[S]|0;D&&M==v||(I[S]=M,D=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return x(l(-T));for(var v=[],I=1,D=0;T>=I;D++)v[D]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return x(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),D=p,S=0;S<T.length;S+=8){var M=Math.min(8,T.length-S),w=parseInt(T.substring(S,S+M),v);8>M?(M=l(Math.pow(v,M)),D=D.j(M).add(l(w))):(D=D.j(I),D=D.add(l(w)))}return D}var p=u(0),m=u(1),g=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-x(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var D=this.i(I);T+=(0<=D?D:4294967296+D)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+x(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,D="";;){var S=Ie(I,v).g;I=j(I,S.j(v));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=S,C(I))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}n.l=function(T){return T=j(this,T),N(T)?-1:C(T)?0:1};function x(T){for(var v=T.g.length,I=[],D=0;D<v;D++)I[D]=~T.g[D];return new s(I,~T.h).add(m)}n.abs=function(){return N(this)?x(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],D=0,S=0;S<=v;S++){var M=D+(this.i(S)&65535)+(T.i(S)&65535),w=(M>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);D=w>>>16,M&=65535,w&=65535,I[S]=w<<16|M}return new s(I,I[I.length-1]&-2147483648?-1:0)};function j(T,v){return T.add(x(v))}n.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?x(this).j(x(T)):x(x(this).j(T));if(N(T))return x(this.j(x(T)));if(0>this.l(g)&&0>T.l(g))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],D=0;D<2*v;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var S=0;S<T.g.length;S++){var M=this.i(D)>>>16,w=this.i(D)&65535,Or=T.i(S)>>>16,_c=T.i(S)&65535;I[2*D+2*S]+=w*_c,Q(I,2*D+2*S),I[2*D+2*S+1]+=M*_c,Q(I,2*D+2*S+1),I[2*D+2*S+1]+=w*Or,Q(I,2*D+2*S+1),I[2*D+2*S+2]+=M*Or,Q(I,2*D+2*S+2)}for(D=0;D<v;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=v;D<2*v;D++)I[D]=0;return new s(I,0)};function Q(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function K(T,v){this.g=T,this.h=v}function Ie(T,v){if(C(v))throw Error("division by zero");if(C(T))return new K(p,p);if(N(T))return v=Ie(x(T),v),new K(x(v.g),x(v.h));if(N(v))return v=Ie(T,x(v)),new K(x(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,D=v;0>=D.l(T);)I=rt(I),D=rt(D);var S=Se(I,1),M=Se(D,1);for(D=Se(D,2),I=Se(I,2);!C(D);){var w=M.add(D);0>=w.l(T)&&(S=S.add(I),M=w),D=Se(D,1),I=Se(I,1)}return v=j(T,S.j(v)),new K(S,v)}for(S=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=l(I),w=M.j(v);N(w)||0<w.l(T);)I-=D,M=l(I),w=M.j(v);C(M)&&(M=m),S=S.add(M),T=j(T,w)}return new K(S,T)}n.A=function(T){return Ie(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)&T.i(D);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)|T.i(D);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],D=0;D<v;D++)I[D]=this.i(D)^T.i(D);return new s(I,this.h^T.h)};function rt(T){for(var v=T.g.length+1,I=[],D=0;D<v;D++)I[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(I,T.h)}function Se(T,v){var I=v>>5;v%=32;for(var D=T.g.length-I,S=[],M=0;M<D;M++)S[M]=0<v?T.i(M+I)>>>v|T.i(M+I+1)<<32-v:T.i(M+I);return new s(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Pw=ax.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ui=ax.Integer=s}).apply(typeof sx<"u"?sx:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},li={};var kw,Wz,qa,Ow,vl,kp,Fw,Lw,Vw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in f))break e;f=f[A]}c=c[c.length-1],y=f[c],d=d(y),d!=y&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,y=!1,A={next:function(){if(!y&&f<c.length){var P=f++;return{value:d(P,c[P]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(y,A,P){for(var B=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)B[Oe-2]=arguments[Oe];return d.prototype[A].apply(y,B)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=c[y];return f}return[]}function x(c,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(u(y)){let A=c.length||0,P=y.length||0;c.length=A+P;for(let B=0;B<P;B++)c[A+B]=y[B]}else c.push(y)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var rt=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function Se(c,d,f){for(let y in c)d.call(f,c[y],y,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(f in y)c[f]=y[f];for(let P=0;P<I.length;P++)f=I[P],Object.prototype.hasOwnProperty.call(y,f)&&(c[f]=y[f])}}function S(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=rg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Or{constructor(){this.h=this.g=null}add(d,f){let y=_c.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var _c=new j(()=>new K1,c=>c.reset());class K1{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ec,wc=!1,rg=new Or,o0=()=>{let c=a.Promise.resolve(void 0);Ec=()=>{c.then(Q1)}};var Q1=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var d=_c;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}wc=!1};function wi(){this.s=this.s,this.C=this.C}wi.prototype.s=!1,wi.prototype.ma=function(){this.s||(this.s=!0,this.N())},wi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Mt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var Y1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ic(c,d){if(Mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(rt){e:{try{Ie(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Z1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ic.aa.h.call(this)}}C(Ic,Mt);var Z1={2:"touch",3:"pen",4:"mouse"};Ic.prototype.h=function(){Ic.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bc="closure_listenable_"+(1e6*Math.random()|0),J1=0;function X1(c,d,f,y,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=A,this.key=++J1,this.da=this.fa=!1}function $l(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hl(c){this.src=c,this.g={},this.h=0}Hl.prototype.add=function(c,d,f,y,A){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var B=og(c,d,y,A);return-1<B?(d=c[B],f||(d.fa=!1)):(d=new X1(d,this.src,P,!!y,A),d.fa=f,c.push(d)),d};function ig(c,d){var f=d.type;if(f in c.g){var y=c.g[f],A=Array.prototype.indexOf.call(y,d,void 0),P;(P=0<=A)&&Array.prototype.splice.call(y,A,1),P&&($l(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function og(c,d,f,y){for(var A=0;A<c.length;++A){var P=c[A];if(!P.da&&P.listener==d&&P.capture==!!f&&P.ha==y)return A}return-1}var sg="closure_lm_"+(1e6*Math.random()|0),ag={};function s0(c,d,f,y,A){if(y&&y.once)return c0(c,d,f,y,A);if(Array.isArray(d)){for(var P=0;P<d.length;P++)s0(c,d[P],f,y,A);return null}return f=dg(f),c&&c[bc]?c.K(d,f,l(y)?!!y.capture:!!y,A):a0(c,d,f,!1,y,A)}function a0(c,d,f,y,A,P){if(!d)throw Error("Invalid event type");var B=l(A)?!!A.capture:!!A,Oe=ug(c);if(Oe||(c[sg]=Oe=new Hl(c)),f=Oe.add(d,f,y,B,P),f.proxy)return f;if(y=ek(),f.proxy=y,y.src=c,y.listener=f,c.addEventListener)Y1||(A=B),A===void 0&&(A=!1),c.addEventListener(d.toString(),y,A);else if(c.attachEvent)c.attachEvent(l0(d.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ek(){function c(f){return d.call(c.src,c.listener,f)}let d=tk;return c}function c0(c,d,f,y,A){if(Array.isArray(d)){for(var P=0;P<d.length;P++)c0(c,d[P],f,y,A);return null}return f=dg(f),c&&c[bc]?c.L(d,f,l(y)?!!y.capture:!!y,A):a0(c,d,f,!0,y,A)}function u0(c,d,f,y,A){if(Array.isArray(d))for(var P=0;P<d.length;P++)u0(c,d[P],f,y,A);else y=l(y)?!!y.capture:!!y,f=dg(f),c&&c[bc]?(c=c.i,d=String(d).toString(),d in c.g&&(P=c.g[d],f=og(P,f,y,A),-1<f&&($l(P[f]),Array.prototype.splice.call(P,f,1),P.length==0&&(delete c.g[d],c.h--)))):c&&(c=ug(c))&&(d=c.g[d.toString()],c=-1,d&&(c=og(d,f,y,A)),(f=-1<c?d[c]:null)&&cg(f))}function cg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[bc])ig(d.i,c);else{var f=c.type,y=c.proxy;d.removeEventListener?d.removeEventListener(f,y,c.capture):d.detachEvent?d.detachEvent(l0(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=ug(d))?(ig(f,c),f.h==0&&(f.src=null,d[sg]=null)):$l(c)}}}function l0(c){return c in ag?ag[c]:ag[c]="on"+c}function tk(c,d){if(c.da)c=!0;else{d=new Ic(d,this);var f=c.listener,y=c.ha||c.src;c.fa&&cg(c),c=f.call(y,d)}return c}function ug(c){return c=c[sg],c instanceof Hl?c:null}var lg="__closure_events_fn_"+(1e9*Math.random()>>>0);function dg(c){return typeof c=="function"?c:(c[lg]||(c[lg]=function(d){return c.handleEvent(d)}),c[lg])}function Nt(){wi.call(this),this.i=new Hl(this),this.M=this,this.F=null}C(Nt,wi),Nt.prototype[bc]=!0,Nt.prototype.removeEventListener=function(c,d,f,y){u0(this,c,d,f,y)};function Bt(c,d){var f,y=c.F;if(y)for(f=[];y;y=y.F)f.push(y);if(c=c.M,y=d.type||d,typeof d=="string")d=new Mt(d,c);else if(d instanceof Mt)d.target=d.target||c;else{var A=d;d=new Mt(y,c),D(d,A)}if(A=!0,f)for(var P=f.length-1;0<=P;P--){var B=d.g=f[P];A=zl(B,y,!0,d)&&A}if(B=d.g=c,A=zl(B,y,!0,d)&&A,A=zl(B,y,!1,d)&&A,f)for(P=0;P<f.length;P++)B=d.g=f[P],A=zl(B,y,!1,d)&&A}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],y=0;y<f.length;y++)$l(f[y]);delete c.g[d],c.h--}}this.F=null},Nt.prototype.K=function(c,d,f,y){return this.i.add(String(c),d,!1,f,y)},Nt.prototype.L=function(c,d,f,y){return this.i.add(String(c),d,!0,f,y)};function zl(c,d,f,y){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,P=0;P<d.length;++P){var B=d[P];if(B&&!B.da&&B.capture==f){var Oe=B.listener,Dt=B.ha||B.src;B.fa&&ig(c.i,B),A=Oe.call(Dt,y)!==!1&&A}}return A&&!y.defaultPrevented}function d0(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function h0(c){c.g=d0(()=>{c.g=null,c.i&&(c.i=!1,h0(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class nk extends wi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:h0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(c){wi.call(this),this.h=c,this.g={}}C(Cc,wi);var f0=[];function p0(c){Se(c.g,function(d,f){this.g.hasOwnProperty(f)&&cg(d)},c),c.g={}}Cc.prototype.N=function(){Cc.aa.N.call(this),p0(this)},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hg=a.JSON.stringify,rk=a.JSON.parse,ik=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function fg(){}fg.prototype.h=null;function m0(c){return c.h||(c.h=c.i())}function g0(){}var Dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pg(){Mt.call(this,"d")}C(pg,Mt);function mg(){Mt.call(this,"c")}C(mg,Mt);var yo={},y0=null;function ql(){return y0=y0||new Nt}yo.La="serverreachability";function v0(c){Mt.call(this,yo.La,c)}C(v0,Mt);function Tc(c){let d=ql();Bt(d,new v0(d))}yo.STAT_EVENT="statevent";function _0(c,d){Mt.call(this,yo.STAT_EVENT,c),this.stat=d}C(_0,Mt);function $t(c){let d=ql();Bt(d,new _0(d,c))}yo.Ma="timingevent";function E0(c,d){Mt.call(this,yo.Ma,c),this.size=d}C(E0,Mt);function Sc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ac(){this.g=!0}Ac.prototype.xa=function(){this.g=!1};function ok(c,d,f,y,A,P){c.info(function(){if(c.g)if(P)for(var B="",Oe=P.split("&"),Dt=0;Dt<Oe.length;Dt++){var Ce=Oe[Dt].split("=");if(1<Ce.length){var xt=Ce[0];Ce=Ce[1];var Pt=xt.split("_");B=2<=Pt.length&&Pt[1]=="type"?B+(xt+"="+Ce+"&"):B+(xt+"=redacted&")}}else B=null;else B=P;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+d+`
`+f+`
`+B})}function sk(c,d,f,y,A,P,B){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+d+`
`+f+`
`+P+" "+B})}function Ps(c,d,f,y){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ck(c,f)+(y?" "+y:"")})}function ak(c,d){c.info(function(){return"TIMEOUT: "+d})}Ac.prototype.info=function(){};function ck(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var y=f[c];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(var B=1;B<A.length;B++)A[B]=""}}}}return hg(f)}catch{return d}}var Gl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gg;function Wl(){}C(Wl,fg),Wl.prototype.g=function(){return new XMLHttpRequest},Wl.prototype.i=function(){return{}},gg=new Wl;function Ii(c,d,f,y){this.j=c,this.i=d,this.l=f,this.R=y||1,this.U=new Cc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I0}function I0(){this.i=null,this.g="",this.h=!1}var b0={},yg={};function vg(c,d,f){c.L=1,c.v=Zl(Fr(d)),c.m=f,c.P=!0,C0(c,null)}function C0(c,d){c.F=Date.now(),Kl(c),c.A=Fr(c.v);var f=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),V0(f.i,"t",y),c.C=0,f=c.j.J,c.h=new I0,c.g=nC(c.j,f?d:null,!c.m),0<c.O&&(c.M=new nk(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,y=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(f0[0]=A.toString()),A=f0);for(var P=0;P<A.length;P++){var B=s0(f,A[P],y||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Tc(),ok(c.i,c.u,c.A,c.l,c.R,c.m)}Ii.prototype.ca=function(c){c=c.target;let d=this.M;d&&Lr(c)==3?d.j():this.Y(c)},Ii.prototype.Y=function(c){try{if(c==this.g)e:{let Pt=Lr(this.g);var d=this.g.Ba();let Fs=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||q0(this.g)))){this.J||Pt!=4||d==7||(d==8||0>=Fs?Tc(3):Tc(2)),_g(this);var f=this.g.Z();this.X=f;t:if(D0(this)){var y=q0(this.g);c="";var A=y.length,P=Lr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),Rc(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(y[d],{stream:!(P&&d==A-1)});y.length=0,this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,sk(this.i,this.u,this.A,this.l,this.R,Pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,Dt=this.g;if((Oe=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Oe)){var Ce=Oe;break t}}Ce=null}if(f=Ce)Ps(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Eg(this,f);else{this.o=!1,this.s=3,$t(12),vo(this),Rc(this);break e}}if(this.P){f=!0;let Un;for(;!this.J&&this.C<B.length;)if(Un=uk(this,B),Un==yg){Pt==4&&(this.s=4,$t(14),f=!1),Ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==b0){this.s=4,$t(15),Ps(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else Ps(this.i,this.l,Un,null),Eg(this,Un);if(D0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||B.length!=0||this.h.h||(this.s=1,$t(16),f=!1),this.o=this.o&&f,!f)Ps(this.i,this.l,B,"[Invalid Chunked Response]"),vo(this),Rc(this);else if(0<B.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Tg(xt),xt.M=!0,$t(11))}}else Ps(this.i,this.l,B,null),Eg(this,B);Pt==4&&vo(this),this.o&&!this.J&&(Pt==4?J0(this.j,this):(this.o=!1,Kl(this)))}else Tk(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),vo(this),Rc(this)}}}catch{}finally{}};function D0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uk(c,d){var f=c.C,y=d.indexOf(`
`,f);return y==-1?yg:(f=Number(d.substring(f,y)),isNaN(f)?b0:(y+=1,y+f>d.length?yg:(d=d.slice(y,y+f),c.C=y+f,d)))}Ii.prototype.cancel=function(){this.J=!0,vo(this)};function Kl(c){c.S=Date.now()+c.I,T0(c,c.I)}function T0(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Sc(m(c.ba,c),d)}function _g(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ii.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ak(this.i,this.A),this.L!=2&&(Tc(),$t(17)),vo(this),this.s=2,Rc(this)):T0(this,this.S-c)};function Rc(c){c.j.G==0||c.J||J0(c.j,c)}function vo(c){_g(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,p0(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Eg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||wg(f.h,c))){if(!c.K&&wg(f.h,c)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)nd(f),ed(f);else break e;Dg(f),$t(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=Sc(m(f.Za,f),6e3));if(1>=R0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Eo(f,11)}else if((c.K||f.g==c)&&nd(f),!Q(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let Ce=A[d];if(f.T=Ce[0],Ce=Ce[1],f.G==2)if(Ce[0]=="c"){f.K=Ce[1],f.ia=Ce[2];let xt=Ce[3];xt!=null&&(f.la=xt,f.j.info("VER="+f.la));let Pt=Ce[4];Pt!=null&&(f.Aa=Pt,f.j.info("SVER="+f.Aa));let Fs=Ce[5];Fs!=null&&typeof Fs=="number"&&0<Fs&&(y=1.5*Fs,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let Un=c.g;if(Un){let id=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(id){var P=y.h;P.g||id.indexOf("spdy")==-1&&id.indexOf("quic")==-1&&id.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Ig(P,P.h),P.h=null))}if(y.D){let Sg=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Sg&&(y.ya=Sg,Ue(y.I,y.D,Sg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var B=c;if(y.qa=tC(y,y.J?y.ia:null,y.W),B.K){M0(y.h,B);var Oe=B,Dt=y.L;Dt&&(Oe.I=Dt),Oe.B&&(_g(Oe),Kl(Oe)),y.g=B}else Y0(y);0<f.i.length&&td(f)}else Ce[0]!="stop"&&Ce[0]!="close"||Eo(f,7);else f.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Eo(f,7):Cg(f):Ce[0]!="noop"&&f.l&&f.l.ta(Ce),f.v=0)}}Tc(4)}catch{}}var lk=class{constructor(c,d){this.g=c,this.map=d}};function S0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function A0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R0(c){return c.h?1:c.g?c.g.size:0}function wg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ig(c,d){c.g?c.g.add(d):c.h=d}function M0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}S0.prototype.cancel=function(){if(this.i=N0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function N0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function dk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,y=0;y<f;y++)d.push(c[y]);return d}d=[],f=0;for(y in c)d[f++]=c[y];return d}function hk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let y in c)d[f++]=y;return d}}}function x0(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=hk(c),y=dk(c),A=y.length,P=0;P<A;P++)d.call(void 0,y[P],f&&f[P],c)}var P0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var y=c[f].indexOf("="),A=null;if(0<=y){var P=c[f].substring(0,y);A=c[f].substring(y+1)}else P=c[f];d(P,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function _o(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _o){this.h=c.h,Ql(this,c.j),this.o=c.o,this.g=c.g,Yl(this,c.s),this.l=c.l;var d=c.i,f=new xc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),k0(this,f),this.m=c.m}else c&&(d=String(c).match(P0))?(this.h=!1,Ql(this,d[1]||"",!0),this.o=Mc(d[2]||""),this.g=Mc(d[3]||"",!0),Yl(this,d[4]),this.l=Mc(d[5]||"",!0),k0(this,d[6]||"",!0),this.m=Mc(d[7]||"")):(this.h=!1,this.i=new xc(null,this.h))}_o.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Nc(d,O0,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Nc(d,O0,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Nc(f,f.charAt(0)=="/"?gk:mk,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Nc(f,vk)),c.join("")};function Fr(c){return new _o(c)}function Ql(c,d,f){c.j=f?Mc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Yl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function k0(c,d,f){d instanceof xc?(c.i=d,_k(c.i,c.h)):(f||(d=Nc(d,yk)),c.i=new xc(d,c.h))}function Ue(c,d,f){c.i.set(d,f)}function Zl(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,pk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function pk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var O0=/[#\/\?@]/g,mk=/[#\?:]/g,gk=/[#\?]/g,yk=/[#\?@]/g,vk=/#/g;function xc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function bi(c){c.g||(c.g=new Map,c.h=0,c.i&&fk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=xc.prototype,n.add=function(c,d){bi(this),this.i=null,c=ks(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function F0(c,d){bi(c),d=ks(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function L0(c,d){return bi(c),d=ks(c,d),c.g.has(d)}n.forEach=function(c,d){bi(this),this.g.forEach(function(f,y){f.forEach(function(A){c.call(d,A,y,this)},this)},this)},n.na=function(){bi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let A=c[y];for(let P=0;P<A.length;P++)f.push(d[y])}return f},n.V=function(c){bi(this);let d=[];if(typeof c=="string")L0(this,c)&&(d=d.concat(this.g.get(ks(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return bi(this),this.i=null,c=ks(this,c),L0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function V0(c,d,f){F0(c,d),0<f.length&&(c.i=null,c.g.set(ks(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let P=encodeURIComponent(String(y)),B=this.V(y);for(y=0;y<B.length;y++){var A=P;B[y]!==""&&(A+="="+encodeURIComponent(String(B[y]))),c.push(A)}}return this.i=c.join("&")};function ks(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function _k(c,d){d&&!c.j&&(bi(c),c.i=null,c.g.forEach(function(f,y){var A=y.toLowerCase();y!=A&&(F0(this,y),V0(this,A,f))},c)),c.j=d}function Ek(c,d){let f=new Ac;if(a.Image){let y=new Image;y.onload=g(Ci,f,"TestLoadImage: loaded",!0,d,y),y.onerror=g(Ci,f,"TestLoadImage: error",!1,d,y),y.onabort=g(Ci,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=g(Ci,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else d(!1)}function wk(c,d){let f=new Ac,y=new AbortController,A=setTimeout(()=>{y.abort(),Ci(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:y.signal}).then(P=>{clearTimeout(A),P.ok?Ci(f,"TestPingServer: ok",!0,d):Ci(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),Ci(f,"TestPingServer: error",!1,d)})}function Ci(c,d,f,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(f)}catch{}}function Ik(){this.g=new ik}function bk(c,d,f){let y=f||"";try{x0(c,function(A,P){let B=A;l(A)&&(B=hg(A)),d.push(y+P+"="+encodeURIComponent(B))})}catch(A){throw d.push(y+"type="+encodeURIComponent("_badmap")),A}}function Pc(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Pc,fg),Pc.prototype.g=function(){return new Jl(this.l,this.j)},Pc.prototype.i=function(c){return function(){return c}}({});function Jl(c,d){Nt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Jl,Nt),n=Jl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Oc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;j0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function j0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?kc(this):Oc(this),this.readyState==3&&j0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,kc(this))},n.Qa=function(c){this.g&&(this.response=c,kc(this))},n.ga=function(){this.g&&kc(this)};function kc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Oc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Oc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function U0(c){let d="";return Se(c,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function bg(c,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=U0(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ue(c,d,f))}function Je(c){Nt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Je,Nt);var Ck=/^https?$/i,Dk=["POST","PUT"];n=Je.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gg.g(),this.v=this.o?m0(this.o):m0(gg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(P){B0(this,P);return}if(c=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)f.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let P of y.keys())f.set(P,y.get(P));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(P=>P.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Dk,d,void 0))||y||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,B]of f)this.g.setRequestHeader(P,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z0(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){B0(this,P)}};function B0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$0(c),Xl(c)}function $0(c){c.A||(c.A=!0,Bt(c,"complete"),Bt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Bt(this,"complete"),Bt(this,"abort"),Xl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),Je.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?H0(this):this.bb())},n.bb=function(){H0(this)};function H0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Lr(c)!=4||c.Z()!=2)){if(c.u&&Lr(c)==4)d0(c.Ea,0,c);else if(Bt(c,"readystatechange"),Lr(c)==4){c.h=!1;try{let B=c.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=B===0){var A=String(c.D).match(P0)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!Ck.test(A?A.toLowerCase():"")}f=y}if(f)Bt(c,"complete"),Bt(c,"success");else{c.m=6;try{var P=2<Lr(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",$0(c)}}finally{Xl(c)}}}}function Xl(c,d){if(c.g){z0(c);let f=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Bt(c,"ready");try{f.onreadystatechange=y}catch{}}}function z0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Lr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),rk(d)}};function q0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Tk(c){let d={};c=(c.g&&2<=Lr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(Q(c[y]))continue;var f=S(c[y]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let P=d[A]||[];d[A]=P,P.push(f)}T(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fc(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function G0(c){this.Aa=0,this.i=[],this.j=new Ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fc("baseRetryDelayMs",5e3,c),this.cb=Fc("retryDelaySeedMs",1e4,c),this.Wa=Fc("forwardChannelMaxRetries",2,c),this.wa=Fc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new S0(c&&c.concurrentRequestLimit),this.Da=new Ik,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=G0.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,y){$t(0),this.W=c,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=tC(this,null,this.W),td(this)};function Cg(c){if(W0(c),c.G==3){var d=c.U++,f=Fr(c.I);if(Ue(f,"SID",c.K),Ue(f,"RID",d),Ue(f,"TYPE","terminate"),Lc(c,f),d=new Ii(c,c.j,d),d.L=2,d.v=Zl(Fr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=nC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kl(d)}eC(c)}function ed(c){c.g&&(Tg(c),c.g.cancel(),c.g=null)}function W0(c){ed(c),c.u&&(a.clearTimeout(c.u),c.u=null),nd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function td(c){if(!A0(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ec||o0(),wc||(Ec(),wc=!0),rg.add(d,c),c.B=0}}function Sk(c,d){return R0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Sc(m(c.Ga,c,d),X0(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Ii(this,this.j,c),P=this.o;if(this.S&&(P?(P=v(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(A.H=P,P=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Q0(this,A,d),f=Fr(this.I),Ue(f,"RID",c),Ue(f,"CVER",22),this.D&&Ue(f,"X-HTTP-Session-Id",this.D),Lc(this,f),P&&(this.O?d="headers="+encodeURIComponent(String(U0(P)))+"&"+d:this.m&&bg(f,this.m,P)),Ig(this.h,A),this.Ua&&Ue(f,"TYPE","init"),this.P?(Ue(f,"$req",d),Ue(f,"SID","null"),A.T=!0,vg(A,f,null)):vg(A,f,d),this.G=2}}else this.G==3&&(c?K0(this,c):this.i.length==0||A0(this.h)||K0(this))};function K0(c,d){var f;d?f=d.l:f=c.U++;let y=Fr(c.I);Ue(y,"SID",c.K),Ue(y,"RID",f),Ue(y,"AID",c.T),Lc(c,y),c.m&&c.o&&bg(y,c.m,c.o),f=new Ii(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Q0(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ig(c.h,f),vg(f,y,d)}function Lc(c,d){c.H&&Se(c.H,function(f,y){Ue(d,y,f)}),c.l&&x0({},function(f,y){Ue(d,y,f)})}function Q0(c,d,f){f=Math.min(c.i.length,f);var y=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let P=-1;for(;;){let B=["count="+f];P==-1?0<f?(P=A[0].g,B.push("ofs="+P)):P=0:B.push("ofs="+P);let Oe=!0;for(let Dt=0;Dt<f;Dt++){let Ce=A[Dt].g,xt=A[Dt].map;if(Ce-=P,0>Ce)P=Math.max(0,A[Dt].g-100),Oe=!1;else try{bk(xt,B,"req"+Ce+"_")}catch{y&&y(xt)}}if(Oe){y=B.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,y}function Y0(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ec||o0(),wc||(Ec(),wc=!0),rg.add(d,c),c.v=0}}function Dg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Sc(m(c.Fa,c),X0(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Z0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Sc(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),ed(this),Z0(this))};function Tg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Z0(c){c.g=new Ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Fr(c.qa);Ue(d,"RID","rpc"),Ue(d,"SID",c.K),Ue(d,"AID",c.T),Ue(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(d,"TO",c.ja),Ue(d,"TYPE","xmlhttp"),Lc(c,d),c.m&&c.o&&bg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Zl(Fr(d)),f.m=null,f.P=!0,C0(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ed(this),Dg(this),$t(19))};function nd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function J0(c,d){var f=null;if(c.g==d){nd(c),Tg(c),c.g=null;var y=2}else if(wg(c.h,d))f=d.D,M0(c.h,d),y=1;else return;if(c.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;y=ql(),Bt(y,new E0(y,f)),td(c)}else Y0(c);else if(A=d.s,A==3||A==0&&0<d.X||!(y==1&&Sk(c,d)||y==2&&Dg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:Eo(c,5);break;case 4:Eo(c,10);break;case 3:Eo(c,6);break;default:Eo(c,2)}}}function X0(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Eo(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),y=c.Xa;let A=!y;y=new _o(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ql(y,"https"),Zl(y),A?Ek(y.toString(),f):wk(y.toString(),f)}else $t(2);c.G=0,c.l&&c.l.sa(d),eC(c),W0(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function eC(c){if(c.G=0,c.ka=[],c.l){let d=N0(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function tC(c,d,f){var y=f instanceof _o?Fr(f):new _o(f);if(y.g!="")d&&(y.g=d+"."+y.g),Yl(y,y.s);else{var A=a.location;y=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var P=new _o(null);y&&Ql(P,y),d&&(P.g=d),A&&Yl(P,A),f&&(P.l=f),y=P}return f=c.D,d=c.ya,f&&d&&Ue(y,f,d),Ue(y,"VER",c.la),Lc(c,y),y}function nC(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Je(new Pc({eb:f})):new Je(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rC(){}n=rC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function rd(){}rd.prototype.g=function(c,d){return new sn(c,d)};function sn(c,d){Nt.call(this),this.g=new G0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Os(this)}C(sn,Nt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Cg(this.g)},sn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=hg(c),c=f);d.i.push(new lk(d.Ya++,c)),d.G==3&&td(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,Cg(this.g),delete this.g,sn.aa.N.call(this)};function iC(c){pg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(iC,pg);function oC(){mg.call(this),this.status=1}C(oC,mg);function Os(c){this.g=c}C(Os,rC),Os.prototype.ua=function(){Bt(this.g,"a")},Os.prototype.ta=function(c){Bt(this.g,new iC(c))},Os.prototype.sa=function(c){Bt(this.g,new oC)},Os.prototype.ra=function(){Bt(this.g,"b")},rd.prototype.createWebChannel=rd.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Vw=li.createWebChannelTransport=function(){return new rd},Lw=li.getStatEventTarget=function(){return ql()},Fw=li.Event=yo,kp=li.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gl.NO_ERROR=0,Gl.TIMEOUT=8,Gl.HTTP_ERROR=6,vl=li.ErrorCode=Gl,w0.COMPLETE="complete",Ow=li.EventType=w0,g0.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,qa=li.WebChannel=g0,Wz=li.FetchXmlHttpFactory=Pc,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,kw=li.XhrIo=Je}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var cx="@firebase/firestore",ux="4.8.0";var bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");var lc="11.10.0";var bs=new Cr("@firebase/firestore");function Ga(){return bs.logLevel}function G(n,...e){if(bs.logLevel<=ye.DEBUG){let t=e.map(Sb);bs.debug(`Firestore (${lc}): ${n}`,...t)}}function hi(n,...e){if(bs.logLevel<=ye.ERROR){let t=e.map(Sb);bs.error(`Firestore (${lc}): ${n}`,...t)}}function uo(n,...e){if(bs.logLevel<=ye.WARN){let t=e.map(Sb);bs.warn(`Firestore (${lc}): ${n}`,...t)}}function Sb(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function X(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,tP(n,r,t)}function tP(n,e,t){let r=`FIRESTORE (${lc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw hi(r),new Error(r)}function Ne(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||tP(e,i,r)}function ae(n,e){return n}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var or=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Bp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hw=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bt.UNAUTHENTICATED))}shutdown(){}},zw=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},qw=class{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ne(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new or,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new or)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string",31837,{l:r}),new Bp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string",2055,{h:e}),new bt(e)}},Gw=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ww=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Gw(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},$p=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kw=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ne(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $p(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $p(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Kz(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function nP(){return new TextEncoder}var Cl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Kz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function Qw(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ge(r,i);{let o=nP(),s=Qz(o.encode(lx(n,t)),o.encode(lx(e,t)));return s!==0?s:ge(r,i)}}t+=r>65535?2:1}return ge(n.length,e.length)}function lx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Qz(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ge(n[t],e[t]);return ge(n.length,e.length)}function Xa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var dx="__name__",Hp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&X(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&X(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ge(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Qw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ui.fromString(e.substring(4,e.length-2))}},We=class n extends Hp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_n=class n extends Hp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Yz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new n([dx])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Z=class n{constructor(e){this.path=e}static fromPath(e){return new n(We.fromString(e))}static fromName(e){return new n(We.fromString(e).popFirst(5))}static empty(){return new n(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return We.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new We(e.slice()))}};function rP(n,e,t){if(!t)throw new $(k.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Zz(n,e,t,r){if(e===!0&&r===!0)throw new $(k.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hx(n){if(!Z.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fx(n){if(Z.isDocumentKey(n))throw new $(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":X(12329,{type:typeof n})}function En(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Cm(n);throw new $(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Jz(n,e){if(e<=0)throw new $(k.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function ht(n,e){let t={typeString:n};return e&&(t.value=e),t}function Vl(n,e){if(!iP(n))throw new $(k.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new $(k.INVALID_ARGUMENT,t);return!0}var px=-62135596800,mx=1e6,ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*mx);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<px)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mx}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vl(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-px;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:ht("string",ft._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};var ue=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Dl=-1,Yw=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Yw.UNKNOWN_ID=-1;function Xz(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new ft(t+1,0):new ft(t,r));return new Cs(i,Z.empty(),e)}function eq(n){return new Cs(n.readTime,n.key,Dl)}var Cs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ue.min(),Z.empty(),Dl)}static max(){return new n(ue.max(),Z.empty(),Dl)}};function tq(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Z.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zw=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function dc(n){return _(this,null,function*(){if(n.code!==k.FAILED_PRECONDITION||n.message!==nq)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hc(n){return n.name==="IndexedDbTransactionError"}var Ab=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Rb=-1;function Dm(n){return n==null}function Tl(n){return n===0&&1/n==-1/0}function iq(n){return typeof n=="number"&&Number.isInteger(n)&&!Tl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oP="";function oq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gx(e)),e=sq(n.get(t),e);return gx(e)}function sq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case oP:t+="";break;default:t+=o}}return t}function gx(n){return n+oP+""}var aq="remoteDocuments",sP="owner";var aP="mutationQueues";var cP="mutations";var uP="documentMutations",cq="remoteDocumentsV14";var lP="remoteDocumentGlobal";var dP="targets";var hP="targetDocuments";var fP="targetGlobal",pP="collectionParents";var mP="clientMetadata";var gP="bundles";var yP="namedQueries";var uq="indexConfiguration";var lq="indexState";var dq="indexEntries";var vP="documentOverlays";var hq="globals";var fq=[aP,cP,uP,aq,dP,sP,fP,hP,mP,lP,pP,gP,yP],bre=[...fq,vP],pq=[aP,cP,uP,cq,dP,sP,fP,hP,mP,lP,pP,gP,yP,vP],mq=pq,gq=[...mq,uq,lq,dq];var Cre=[...gq,hq];function yx(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function go(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _P(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var tt=class n{constructor(e,t){this.comparator=e,this.root=t||Sr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ya(this.root,e,this.comparator,!0)}},Ya=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Sr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}};Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Sr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class n{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zp(this.data.getIterator())}getIteratorFrom(e){return new zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},zp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Vn=class n{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ct(_n.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var qp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ut=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ut.EMPTY_BYTE_STRING=new Ut("");var yq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(n){if(Ne(!!n,39018),typeof n=="string"){let e=0,t=yq.exec(n);if(Ne(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(n.seconds),nanos:Ge(n.nanos)}}function Ge(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}var EP="server_timestamp",wP="__type__",IP="__previous_value__",bP="__local_write_time__";function Mb(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[wP])===null||t===void 0?void 0:t.stringValue)===EP}function Tm(n){let e=n.mapValue.fields[IP];return Mb(e)?Tm(e):e}function Sl(n){let e=fi(n.mapValue.fields[bP].timestampValue);return new ft(e.seconds,e.nanos)}var Jw=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Gp="(default)",Wp=class n{constructor(e,t){this.projectId=e,this.database=t||Gp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Nb="__type__",CP="__max__",Op={mapValue:{fields:{__type__:{stringValue:CP}}}},xb="__vector__",ec="value";function lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mb(n)?4:TP(n)?9007199254740991:DP(n)?10:11:X(28295,{value:n})}function Mr(n,e){if(n===e)return!0;let t=lo(n);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sl(n).isEqual(Sl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=fi(i.timestampValue),a=fi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return pi(i.bytesValue).isEqual(pi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?Tl(s)===Tl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Xa(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(yx(s)!==yx(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Mr(s[u],a[u])))return!1;return!0}(n,e);default:return X(52216,{left:n})}}function Al(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function tc(n,e){if(n===e)return 0;let t=lo(n),r=lo(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),u=Ge(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return vx(n.timestampValue,e.timestampValue);case 4:return vx(Sl(n),Sl(e));case 5:return Qw(n.stringValue,e.stringValue);case 6:return function(o,s){let a=pi(o),u=pi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ge(Ge(o.latitude),Ge(s.latitude));return a!==0?a:ge(Ge(o.longitude),Ge(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return _x(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},g=(a=p[ec])===null||a===void 0?void 0:a.arrayValue,C=(u=m[ec])===null||u===void 0?void 0:u.arrayValue,N=ge(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:_x(g,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Op.mapValue&&s===Op.mapValue)return 0;if(o===Op.mapValue)return 1;if(s===Op.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Qw(u[p],h[p]);if(m!==0)return m;let g=tc(a[u[p]],l[h[p]]);if(g!==0)return g}return ge(u.length,h.length)}(n.mapValue,e.mapValue);default:throw X(23264,{le:t})}}function vx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=fi(n),r=fi(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function _x(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=tc(t[i],r[i]);if(o)return o}return ge(t.length,r.length)}function nc(n){return Xw(n)}function Xw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Z.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Xw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Xw(t.fields[s])}`;return i+"}"}(n.mapValue):X(61005,{value:n})}function Vp(n){switch(lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Tm(n);return e?16+Vp(e):16;case 5:return 2*n.stringValue.length;case 6:return pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Vp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return go(r.fields,(o,s)=>{i+=o.length+Vp(s)}),i}(n.mapValue);default:throw X(13486,{value:n})}}function Ex(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function eI(n){return!!n&&"integerValue"in n}function Pb(n){return!!n&&"arrayValue"in n}function wx(n){return!!n&&"nullValue"in n}function Ix(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function jp(n){return!!n&&"mapValue"in n}function DP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nb])===null||t===void 0?void 0:t.stringValue)===xb}function El(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=El(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=El(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CP}var Tre={mapValue:{fields:{[Nb]:{stringValue:xb},[ec]:{arrayValue:{}}}}};var vn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(t)}setAll(e){let t=_n.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=El(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){go(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(El(this.value))}};function SP(n){let e=[];return go(n.fields,(t,r)=>{let i=new _n([t]);if(jp(r)){let o=SP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Vn(e)}var sr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ue.min(),ue.min(),ue.min(),vn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ue.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ue.min(),ue.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ue.min(),ue.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var rc=class{constructor(e,t){this.position=e,this.inclusive=t}};function bx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),t.key):r=tc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}var Ds=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function vq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Kp=class{},dt=class n extends Kp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nI(e,t,r):t==="array-contains"?new oI(e,r):t==="in"?new sI(e,r):t==="not-in"?new aI(e,r):t==="array-contains-any"?new cI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rI(e,r):new iI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(tc(t,this.value)):t!==null&&lo(this.value)===lo(t)&&this.matchesComparison(tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ar=class n extends Kp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return AP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function AP(n){return n.op==="and"}function RP(n){return _q(n)&&AP(n)}function _q(n){for(let e of n.filters)if(e instanceof ar)return!1;return!0}function tI(n){if(n instanceof dt)return n.field.canonicalString()+n.op.toString()+nc(n.value);if(RP(n))return n.filters.map(e=>tI(e)).join(",");{let e=n.filters.map(t=>tI(t)).join(",");return`${n.op}(${e})`}}function MP(n,e){return n instanceof dt?function(r,i){return i instanceof dt&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)}(n,e):n instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&MP(s,i.filters[a]),!0):!1}(n,e):void X(19439)}function NP(n){return n instanceof dt?function(t){return`${t.field.canonicalString()} ${t.op} ${nc(t.value)}`}(n):n instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(NP).join(" ,")+"}"}(n):"Filter"}var nI=class extends dt{constructor(e,t,r){super(e,t,r),this.key=Z.fromName(r.referenceValue)}matches(e){let t=Z.comparator(e.key,this.key);return this.matchesComparison(t)}},rI=class extends dt{constructor(e,t){super(e,"in",t),this.keys=xP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iI=class extends dt{constructor(e,t){super(e,"not-in",t),this.keys=xP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function xP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Z.fromName(r.referenceValue))}var oI=class extends dt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Pb(t)&&Al(t.arrayValue,this.value)}},sI=class extends dt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Al(this.value.arrayValue,t)}},aI=class extends dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Al(this.value.arrayValue,t)}},cI=class extends dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Pb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}};var uI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function Dx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new uI(n,e,t,r,i,o,s)}function kb(n){let e=ae(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>nc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>nc(r)).join(",")),e.Pe=t}return e.Pe}function Ob(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!vq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!MP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Cx(n.startAt,e.startAt)&&Cx(n.endAt,e.endAt)}function lI(n){return Z.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var ho=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Eq(n,e,t,r,i,o,s,a){return new ho(n,e,t,r,i,o,s,a)}function Sm(n){return new ho(n)}function Tx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function PP(n){return n.collectionGroup!==null}function wl(n){let e=ae(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ct(_n.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ds(o,r))}),t.has(_n.keyField().canonicalString())||e.Te.push(new Ds(_n.keyField(),r))}return e.Te}function Ar(n){let e=ae(n);return e.Ie||(e.Ie=wq(e,wl(n))),e.Ie}function wq(n,e){if(n.limitType==="F")return Dx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let t=n.endAt?new rc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new rc(n.startAt.position,n.startAt.inclusive):null;return Dx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dI(n,e){let t=n.filters.concat([e]);return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qp(n,e,t){return new ho(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Am(n,e){return Ob(Ar(n),Ar(e))&&n.limitType===e.limitType}function kP(n){return`${kb(Ar(n))}|lt:${n.limitType}`}function Wa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>NP(i)).join(", ")}]`),Dm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>nc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>nc(i)).join(",")),`Target(${r})`}(Ar(n))}; limitType=${n.limitType})`}function Rm(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of wl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=bx(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,wl(r),i)||r.endAt&&!function(s,a,u){let l=bx(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,wl(r),i))}(n,e)}function Iq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OP(n){return(e,t)=>{let r=!1;for(let i of wl(n)){let o=bq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bq(n,e,t){let r=n.field.isKeyField()?Z.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?tc(u,l):X(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:n.dir})}}var mi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return _P(this.inner)}size(){return this.innerSize}};var Cq=new tt(Z.comparator);function gi(){return Cq}var FP=new tt(Z.comparator);function _l(...n){let e=FP;for(let t of n)e=e.insert(t.key,t);return e}function LP(n){let e=FP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vs(){return Il()}function VP(){return Il()}function Il(){return new mi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Dq=new tt(Z.comparator),Tq=new Ct(Z.comparator);function we(...n){let e=Tq;for(let t of n)e=e.add(t);return e}var Sq=new Ct(ge);function Aq(){return Sq}function Fb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function jP(n){return{integerValue:""+n}}function Rq(n,e){return iq(e)?jP(e):Fb(n,e)}var ic=class{constructor(){this._=void 0}};function Mq(n,e,t){return n instanceof Ts?function(i,o){let s={fields:{[wP]:{stringValue:EP},[bP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Mb(o)&&(o=Tm(o)),o&&(s.fields[IP]=o),{mapValue:s}}(t,e):n instanceof fo?BP(n,e):n instanceof Ss?$P(n,e):function(i,o){let s=UP(i,o),a=Sx(s)+Sx(i.Ee);return eI(s)&&eI(i.Ee)?jP(a):Fb(i.serializer,a)}(n,e)}function Nq(n,e,t){return n instanceof fo?BP(n,e):n instanceof Ss?$P(n,e):t}function UP(n,e){return n instanceof oc?function(r){return eI(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Ts=class extends ic{},fo=class extends ic{constructor(e){super(),this.elements=e}};function BP(n,e){let t=HP(e);for(let r of n.elements)t.some(i=>Mr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ss=class extends ic{constructor(e){super(),this.elements=e}};function $P(n,e){let t=HP(e);for(let r of n.elements)t=t.filter(i=>!Mr(i,r));return{arrayValue:{values:t}}}var oc=class extends ic{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function Sx(n){return Ge(n.integerValue||n.doubleValue)}function HP(n){return Pb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var Yp=class{constructor(e,t){this.field=e,this.transform=t}};function xq(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fo&&i instanceof fo||r instanceof Ss&&i instanceof Ss?Xa(r.elements,i.elements,Mr):r instanceof oc&&i instanceof oc?Mr(r.Ee,i.Ee):r instanceof Ts&&i instanceof Ts}(n.transform,e.transform)}var hI=class{constructor(e,t){this.version=e,this.transformResults=t}},di=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Up(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var sc=class{};function zP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zp(n.key,di.none()):new As(n.key,n.data,di.none());{let t=n.data,r=vn.empty(),i=new Ct(_n.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Nr(n.key,r,new Vn(i.toArray()),di.none())}}function Pq(n,e,t){n instanceof As?function(i,o,s){let a=i.value.clone(),u=Rx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Nr?function(i,o,s){if(!Up(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Rx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(qP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function bl(n,e,t,r){return n instanceof As?function(o,s,a,u){if(!Up(o.precondition,s))return a;let l=o.value.clone(),h=Mx(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Nr?function(o,s,a,u){if(!Up(o.precondition,s))return a;let l=Mx(o.fieldTransforms,u,s),h=s.data;return h.setAll(qP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Up(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function kq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=UP(r.transform,i||null);o!=null&&(t===null&&(t=vn.empty()),t.set(r.field,o))}return t||null}function Ax(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xa(r,i,(o,s)=>xq(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var As=class extends sc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Nr=class extends sc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Rx(n,e,t){let r=new Map;Ne(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Nq(s,a,t[i]))}return r}function Mx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Mq(o,s,e))}return r}var Zp=class extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fI=class extends sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Pq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=VP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=zP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&Xa(this.mutations,e.mutations,(t,r)=>Ax(t,r))&&Xa(this.baseMutations,e.baseMutations,(t,r)=>Ax(t,r))}},mI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ne(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Dq}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var gI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ut,be;function Oq(n){switch(n){case k.OK:return X(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return X(15467,{code:n})}}function GP(n){if(n===void 0)return hi("GRPC error has no .code"),k.UNKNOWN;switch(n){case ut.OK:return k.OK;case ut.CANCELLED:return k.CANCELLED;case ut.UNKNOWN:return k.UNKNOWN;case ut.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ut.INTERNAL:return k.INTERNAL;case ut.UNAVAILABLE:return k.UNAVAILABLE;case ut.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ut.NOT_FOUND:return k.NOT_FOUND;case ut.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ut.ABORTED:return k.ABORTED;case ut.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ut.DATA_LOSS:return k.DATA_LOSS;default:return X(39323,{code:n})}}(be=ut||(ut={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var Nx=null;var Fq=new ui([4294967295,4294967295],0);function xx(n){let e=nP().encode(n),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function Px(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ui([t,r],0),new ui([i,o],0)]}var vI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ui.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(ui.fromNumber(r)));return i.compare(Fq)===1&&(i=new ui([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=xx(e),[r,i]=Px(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=xx(e),[r,i]=Px(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ue.min(),i,new tt(ge),gi(),we())}},Rl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var Za=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Xp=class{constructor(e,t){this.targetId=e,this.De=t}},em=class{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},tm=class{constructor(){this.ve=0,this.Ce=kx(),this.Fe=Ut.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=we(),t=we(),r=we();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new Rl(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=kx()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ne(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},_I=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=gi(),this.je=Fp(),this.Je=Fp(),this.He=new tt(ge)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(lI(o))if(r===0){let s=new Z(o.path);this.Xe(t,s,sr.newNoDocument(s,ue.min()))}else Ne(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}Nx?.ct(function(h,p,m,g,C){var N,x,j,Q,K,Ie;let rt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Se=p.unchangedNames;return Se&&(rt.bloomFilter={applied:C===0,hashCount:(N=Se?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(Q=(j=(x=Se?.bits)===null||x===void 0?void 0:x.bitmap)===null||j===void 0?void 0:j.length)!==null&&Q!==void 0?Q:0,padding:(Ie=(K=Se?.bits)===null||K===void 0?void 0:K.padding)!==null&&Ie!==void 0?Ie:0,mightContain:T=>{var v;return(v=g?.mightContain(T))!==null&&v!==void 0&&v}}),rt}(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=pi(r).toUint8Array()}catch(u){if(u instanceof qp)return uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vI(s,i,o)}catch(u){return uo(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&lI(a.target)){let u=new Z(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,sr.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=we();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Jp(e,t,this.He,this.ze,r);return this.ze=gi(),this.je=Fp(),this.Je=Fp(),this.He=new tt(ge),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new tm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ct(ge),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ct(ge),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new tm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Fp(){return new tt(Z.comparator)}function kx(){return new tt(Z.comparator)}var Lq={asc:"ASCENDING",desc:"DESCENDING"},Vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jq={and:"AND",or:"OR"},EI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function wI(n,e){return n.useProto3Json||Dm(e)?e:{value:e}}function nm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Uq(n,e){return nm(n,e.toTimestamp())}function Rr(n){return Ne(!!n,49232),ue.fromTimestamp(function(t){let r=fi(t);return new ft(r.seconds,r.nanos)}(n))}function Lb(n,e){return II(n,e).canonicalString()}function II(n,e){let t=function(i){return new We(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function KP(n){let e=We.fromString(n);return Ne(XP(e),10190,{key:e.toString()}),e}function bI(n,e){return Lb(n.databaseId,e.path)}function jw(n,e){let t=KP(e);if(t.get(1)!==n.databaseId.projectId)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Z(YP(t))}function QP(n,e){return Lb(n.databaseId,e)}function Bq(n){let e=KP(n);return e.length===4?We.emptyPath():YP(e)}function CI(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YP(n){return Ne(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ox(n,e,t){return{name:bI(n,e),fields:t.value.mapValue.fields}}function $q(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:X(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ne(h===void 0||typeof h=="string",58123),Ut.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ut.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:GP(l.code);return new $(h,l.message||"")}(s);t=new em(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jw(n,r.document.name),o=Rr(r.document.updateTime),s=r.document.createTime?Rr(r.document.createTime):ue.min(),a=new vn({mapValue:{fields:r.document.fields}}),u=sr.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Za(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jw(n,r.document),o=r.readTime?Rr(r.readTime):ue.min(),s=sr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Za([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jw(n,r.document),o=r.removedTargetIds||[];t=new Za([],o,i,null)}else{if(!("filter"in e))return X(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yI(i,o),a=r.targetId;t=new Xp(a,s)}}return t}function Hq(n,e){let t;if(e instanceof As)t={update:Ox(n,e.key,e.value)};else if(e instanceof Zp)t={delete:bI(n,e.key)};else if(e instanceof Nr)t={update:Ox(n,e.key,e.data),updateMask:Jq(e.fieldMask)};else{if(!(e instanceof fI))return X(16599,{Rt:e.type});t={verify:bI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Uq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(n,e.precondition)),t}function zq(n,e){return n&&n.length>0?(Ne(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Rr(i.updateTime):Rr(o);return s.isEqual(ue.min())&&(s=Rr(o)),new hI(s,i.transformResults||[])}(t,e))):[]}function qq(n,e){return{documents:[QP(n,e.path)]}}function Gq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QP(n,i);let o=function(l){if(l.length!==0)return JP(ar.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ka(m.field),direction:Qq(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=wI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{Vt:t,parent:i}}function Wq(n){let e=Bq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ne(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=ZP(p);return m instanceof ar&&RP(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(C){return new Ds(Qa(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Dm(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,g=p.values||[];return new rc(g,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,g=p.values||[];return new rc(g,m)}(t.endAt)),Eq(e,i,s,o,a,"F",u,l)}function Kq(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Qa(t.unaryFilter.field);return dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qa(t.unaryFilter.field);return dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qa(t.unaryFilter.field);return dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qa(t.unaryFilter.field);return dt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(n):n.fieldFilter!==void 0?function(t){return dt.create(Qa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(r=>ZP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(t.compositeFilter.op))}(n):X(30097,{filter:n})}function Qq(n){return Lq[n]}function Yq(n){return Vq[n]}function Zq(n){return jq[n]}function Ka(n){return{fieldPath:n.canonicalString()}}function Qa(n){return _n.fromServerFormat(n.fieldPath)}function JP(n){return n instanceof dt?function(t){if(t.op==="=="){if(Ix(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NAN"}};if(wx(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ix(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NAN"}};if(wx(t.value))return{unaryFilter:{field:Ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(t.field),op:Yq(t.op),value:t.value}}}(n):n instanceof ar?function(t){let r=t.getFilters().map(i=>JP(i));return r.length===1?r[0]:{compositeFilter:{op:Zq(t.op),filters:r}}}(n):X(54877,{filter:n})}function Jq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function XP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ml=class n{constructor(e,t,r,i,o=ue.min(),s=ue.min(),a=Ut.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var DI=class{constructor(e){this.gt=e}};function Xq(n){let e=Wq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qp(e,e.limit,"L"):e}var rm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Tl(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=fi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(pi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?TP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):DP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):X(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ec,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ge(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),Z.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};rm.Ut=new rm;var TI=class{constructor(){this.Dn=new SI}addToCollectionParentIndex(e,t){return this.Dn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Cs.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},SI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ct(We.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(We.comparator)).toArray()}};var Sre=new Uint8Array(0);var Fx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e1=41943040,Ln=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(e1,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);var Nl=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var Lx="LruGarbageCollector",e5=1048576;function Vx([n,e],[t,r]){let i=ge(n,t);return i===0?ge(e,r):i}var AI=class{constructor(e){this.Tr=e,this.buffer=new Ct(Vx),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Vx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},RI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(Lx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){hc(t)?G(Lx,"Ignoring IndexedDB error during garbage collection: ",t):yield dc(t)}yield this.Rr(3e5)}))}},MI=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(Ab.ue);let r=new AI(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Fx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fx):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ga()<=ye.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function t5(n,e){return new MI(n,e)}var NI=class{constructor(){this.changes=new mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var PI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&bl(r.mutation,i,Vn.empty(),ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=vs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=_l();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=gi(),s=Il(),a=function(){return Il()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Nr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),bl(h.mutation,l,h.mutation.getFieldMask(),ft.now())):s.set(l.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new xI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Il(),i=new tt((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Vn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=VP();h.forEach(m=>{if(!o.has(m)){let g=zP(t.get(m),r.get(m));g!==null&&p.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):PP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(vs()),a=Dl,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,we())).next(h=>({batchId:a,changes:LP(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Z(t)).next(r=>{let i=_l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=_l();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,m){return new ho(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,sr.newInvalidDocument(h)))});let a=_l();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&bl(h.mutation,l,Vn.empty(),ft.now()),Rm(t,l)&&(a=a.insert(u,l))}),a})}};var kI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return L.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:Xq(i.bundledQuery),readTime:Rr(i.readTime)}}(t)),L.resolve()}};var OI=class{constructor(){this.overlays=new tt(Z.comparator),this.kr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vs();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=vs(),o=t.length+1,s=new Z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new tt((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=vs(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=vs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gI(t,r));let o=this.kr.get(t);o===void 0&&(o=we(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var FI=class{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var xl=class{constructor(){this.qr=new Ct(lt.Qr),this.$r=new Ct(lt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new lt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new lt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new Z(new We([])),r=new lt(t,e),i=new lt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new Z(new We([])),r=new lt(t,e),i=new lt(t,e+1),o=we();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new lt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},lt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Z.comparator(e.key,t.key)||ge(e.Hr,t.Hr)}static Ur(e,t){return ge(e.Hr,t.Hr)||Z.comparator(e.key,t.key)}};var LI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ct(lt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new lt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Rb:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new lt(t,0),i=new lt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ct(ge);return t.forEach(i=>{let o=new lt(i,0),s=new lt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Z.isDocumentKey(o)||(o=o.child(""));let s=new lt(new Z(o),0),a=new Ct(ge);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ne(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(t.mutations,i=>{let o=new lt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new lt(t,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var VI=class{constructor(e){this.ni=e,this.docs=function(){return new tt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=gi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sr.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gi(),s=t.path,a=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tq(eq(h),r)<=0||(i.has(h.key)||Rm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){X(9500)}ri(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jI(this)}getSize(e){return L.resolve(this.size)}},jI=class extends NI{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var UI=class{constructor(e){this.persistence=e,this.ii=new mi(t=>kb(t),Ob),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new xl,this.targetCount=0,this._i=Nl.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),L.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.hr(t),L.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.oi.containsKey(t))}};var im=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Ab(0),this.ci=!1,this.ci=!0,this.li=new FI,this.referenceDelegate=e(this),this.hi=new UI(this),this.indexManager=new TI,this.remoteDocumentCache=function(i){return new VI(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new DI(t),this.Ti=new kI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new LI(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new BI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},BI=class extends Zw{constructor(e){super(),this.currentSequenceNumber=e}},$I=class n{constructor(e){this.persistence=e,this.Ai=new xl,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw X(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{let i=Z.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ue.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return L.or([()=>L.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},om=class n{constructor(e,t){this.persistence=e,this.gi=new mi(r=>oq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=t5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ue.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),L.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vp(e.data.value)),t}Sr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var HI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=we(),i=we();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var zI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var qI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return jM()?8:rq(It())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new zI;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ga()<=ye.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ga()<=ye.DEBUG&&G("QueryEngine","Query:",Wa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ga()<=ye.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ar(t))):L.resolve())}ps(e,t){if(Tx(t))return L.resolve(null);let r=Ar(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qp(t,null,"F"),r=Ar(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,Qp(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return Tx(t)||i.isEqual(ue.min())?L.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?L.resolve(null):(Ga()<=ye.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(t)),this.vs(e,s,t,Xz(i,Dl)).next(a=>a))})}bs(e,t){let r=new Ct(OP(e));return t.forEach((i,o)=>{Rm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ga()<=ye.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Wa(t)),this.gs.getDocumentsMatchingQuery(e,t,Cs.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Vb="LocalStore",n5=3e8,GI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new tt(ge),this.Ms=new mi(o=>kb(o),Ob),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function r5(n,e,t,r){return new GI(n,e,t,r)}function t1(n,e){return _(this,null,function*(){let t=ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function i5(n,e){let t=ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),g=L.resolve();return m.forEach(C=>{g=g.next(()=>h.getEntry(u,C)).next(N=>{let x=l.docVersions.get(C);Ne(x!==null,48541),N.version.compareTo(x)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function n1(n){let e=ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function o5(n,e){let t=ae(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ut.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(N,x,j){return N.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=n5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,g,h)&&a.push(t.hi.updateTargetData(o,g))});let u=gi(),l=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(s5(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ue.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function s5(n,e,t){let r=we(),i=we();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=gi();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):G(Vb,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function a5(n,e){let t=ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c5(n,e){let t=ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ml(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function WI(n,e,t){return _(this,null,function*(){let r=ae(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!hc(s))throw s;G(Vb,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function jx(n,e,t){let r=ae(n),i=ue.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=ae(u),m=p.Ms.get(h);return m!==void 0?L.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)}(r,s,Ar(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ue.min(),t?o:we())).next(a=>(u5(r,Iq(e),a),{documents:a,qs:o})))}function u5(n,e,t){let r=n.xs.get(e)||ue.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var sm=class{constructor(){this.activeTargetIds=Aq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var KI=class{constructor(){this.Fo=new sm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new sm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var QI=class{xo(e){}shutdown(){}};var Ux="ConnectivityMonitor",am=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(Ux,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(Ux,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Lp=null;function YI(){return Lp===null?Lp=function(){return 268435456+Math.round(2147483648*Math.random())}():Lp++,"0x"+Lp.toString(16)}var Uw="RestConnection",l5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ZI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Gp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=YI(),a=this.Go(e,t.toUriEncodedString());G(Uw,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=Qi(l);return this.jo(e,a,u,r,h).then(p=>(G(Uw,`Received RPC '${e}' ${s}: `,p),p),p=>{throw uo(Uw,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+lc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=l5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var JI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var jt="WebChannelConnection",XI=class extends ZI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=YI();return new Promise((a,u)=>{let l=new kw;l.setWithCredentials(!0),l.listenOnce(Ow.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vl.NO_ERROR:let p=l.getResponseJson();G(jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case vl.TIMEOUT:G(jt,`RPC '${e}' ${s} timed out`),u(new $(k.DEADLINE_EXCEEDED,"Request time out"));break;case vl.HTTP_ERROR:let m=l.getStatus();if(G(jt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let C=g?.error;if(C&&C.status&&C.message){let N=function(j){let Q=j.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(Q)>=0?Q:k.UNKNOWN}(C.status);u(new $(N,C.message))}else u(new $(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(k.UNAVAILABLE,"Connection failed."));break;default:X(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{G(jt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);G(jt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=YI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Vw(),a=Lw(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");G(jt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,g=!1,C=new JI({Ho:x=>{g?G(jt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(G(jt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),G(jt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},Yo:()=>p.close()}),N=(x,j,Q)=>{x.listen(j,K=>{try{Q(K)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return N(p,qa.EventType.OPEN,()=>{g||(G(jt,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),N(p,qa.EventType.CLOSE,()=>{g||(g=!0,G(jt,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),N(p,qa.EventType.ERROR,x=>{g||(g=!0,uo(jt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),C.__(new $(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,qa.EventType.MESSAGE,x=>{var j;if(!g){let Q=x.data[0];Ne(!!Q,16349);let K=Q,Ie=K?.error||((j=K[0])===null||j===void 0?void 0:j.error);if(Ie){G(jt,`RPC '${e}' stream ${i} received error:`,Ie);let rt=Ie.status,Se=function(I){let D=ut[I];if(D!==void 0)return GP(D)}(rt),T=Ie.message;Se===void 0&&(Se=k.INTERNAL,T="Unknown error status: "+rt+" with message "+Ie.message),g=!0,C.__(new $(Se,T)),p.close()}else G(jt,`RPC '${e}' stream ${i} received:`,Q),C.a_(Q)}}),N(a,Fw.STAT_EVENT,x=>{x.stat===kp.PROXY?G(jt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===kp.NOPROXY&&G(jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Bw(){return typeof document<"u"?document:null}function Mm(n){return new EI(n,!0)}var cm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Bx="PersistentStream",um=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new cm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return _(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return _(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return _(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===k.RESOURCE_EXHAUSTED?(hi(t.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new $(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>_(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(Bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(Bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},eb=class extends um{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=$q(this.serializer,e),r=function(o){if(!("targetChange"in o))return ue.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?Rr(s.readTime):ue.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=CI(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=lI(u)?{documents:qq(o,u)}:{query:Gq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=WP(o,s.resumeToken);let l=wI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ue.min())>0){a.readTime=nm(o,s.snapshotVersion.toTimestamp());let l=wI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Kq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=CI(this.serializer),t.removeTarget=e,this.k_(t)}},tb=class extends um{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ne(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ne(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=zq(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=CI(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Hq(this.serializer,r))};this.k_(t)}};var nb=class{},rb=class extends nb{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,II(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(k.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,II(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},ib=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(hi(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Rs="RemoteStore",ob=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){Ns(this)&&(G(Rs,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=ae(u);l.Ia.add(4),yield jl(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Nm(l)})}(this))}))}),this.Aa=new ib(r,i)}};function Nm(n){return _(this,null,function*(){if(Ns(n))for(let e of n.da)yield e(!0)})}function jl(n){return _(this,null,function*(){for(let e of n.da)yield e(!1)})}function r1(n,e){let t=ae(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),$b(t)?Bb(t):fc(t).x_()&&Ub(t,e))}function jb(n,e){let t=ae(n),r=fc(t);t.Ta.delete(e),r.x_()&&i1(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ns(t)&&t.Aa.set("Unknown"))}function Ub(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fc(n).H_(e)}function i1(n,e){n.Ra.$e(e),fc(n).Y_(e)}function Bb(n){n.Ra=new _I({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),fc(n).start(),n.Aa.aa()}function $b(n){return Ns(n)&&!fc(n).M_()&&n.Ta.size>0}function Ns(n){return ae(n).Ia.size===0}function o1(n){n.Ra=void 0}function d5(n){return _(this,null,function*(){n.Aa.set("Online")})}function h5(n){return _(this,null,function*(){n.Ta.forEach((e,t)=>{Ub(n,e)})})}function f5(n,e){return _(this,null,function*(){o1(n),$b(n)?(n.Aa.la(e),Bb(n)):n.Aa.set("Unknown")})}function p5(n,e,t){return _(this,null,function*(){if(n.Aa.set("Online"),e instanceof em&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){G(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lm(n,r)}else if(e instanceof Za?n.Ra.Ye(e):e instanceof Xp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ue.min()))try{let r=yield n1(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Ut.EMPTY_BYTE_STRING,h.snapshotVersion)),i1(o,u);let p=new Ml(h.target,u,l,h.sequenceNumber);Ub(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){G(Rs,"Failed to raise snapshot:",r),yield lm(n,r)}})}function lm(n,e,t){return _(this,null,function*(){if(!hc(e))throw e;n.Ia.add(1),yield jl(n),n.Aa.set("Offline"),t||(t=()=>n1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){G(Rs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Nm(n)}))})}function s1(n,e){return e().catch(t=>lm(n,t,e))}function xm(n){return _(this,null,function*(){let e=ae(n),t=po(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Rb;for(;m5(e);)try{let i=yield a5(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,g5(e,i)}catch(i){yield lm(e,i)}a1(e)&&c1(e)})}function m5(n){return Ns(n)&&n.Pa.length<10}function g5(n,e){n.Pa.push(e);let t=po(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function a1(n){return Ns(n)&&!po(n).M_()&&n.Pa.length>0}function c1(n){po(n).start()}function y5(n){return _(this,null,function*(){po(n).na()})}function v5(n){return _(this,null,function*(){let e=po(n);for(let t of n.Pa)e.X_(t.mutations)})}function _5(n,e,t){return _(this,null,function*(){let r=n.Pa.shift(),i=mI.from(r,e,t);yield s1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield xm(n)})}function E5(n,e){return _(this,null,function*(){e&&po(n).Z_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return Oq(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();po(r).N_(),yield s1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield xm(r)}})}(n,e)),a1(n)&&c1(n)})}function $x(n,e){return _(this,null,function*(){let t=ae(n);t.asyncQueue.verifyOperationInProgress(),G(Rs,"RemoteStore received new credentials");let r=Ns(t);t.Ia.add(3),yield jl(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Nm(t)})}function w5(n,e){return _(this,null,function*(){let t=ae(n);e?(t.Ia.delete(2),yield Nm(t)):e||(t.Ia.add(2),yield jl(t),t.Aa.set("Unknown"))})}function fc(n){return n.Va||(n.Va=function(t,r,i){let o=ae(t);return o.ia(),new eb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:d5.bind(null,n),e_:h5.bind(null,n),n_:f5.bind(null,n),J_:p5.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.Va.N_(),$b(n)?Bb(n):n.Aa.set("Unknown")):(yield n.Va.stop(),o1(n))}))),n.Va}function po(n){return n.ma||(n.ma=function(t,r,i){let o=ae(t);return o.ia(),new tb(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:y5.bind(null,n),n_:E5.bind(null,n),ea:v5.bind(null,n),ta:_5.bind(null,n)}),n.da.push(e=>_(null,null,function*(){e?(n.ma.N_(),yield xm(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(Rs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var sb=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Hb(n,e){if(hi("AsyncQueue",`${e}: ${n}`),hc(n))return new $(k.UNAVAILABLE,`${e}: ${n}`);throw n}var dm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Z.comparator(t.key,r.key):(t,r)=>Z.comparator(t.key,r.key),this.keyedMap=_l(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var hm=class{constructor(){this.fa=new tt(Z.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):X(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ac=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,dm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var ab=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},cb=class{constructor(){this.queries=Hx(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=ae(t),o=i.queries;i.queries=Hx(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new $(k.ABORTED,"Firestore shutting down"))}};function Hx(){return new mi(n=>kP(n),Am)}function zb(n,e){return _(this,null,function*(){let t=ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new ab,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Hb(s,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&Gb(t)})}function qb(n,e){return _(this,null,function*(){let t=ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function I5(n,e){let t=ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Gb(t)}function b5(n,e,t){let r=ae(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function Gb(n){n.Da.forEach(e=>{e.next()})}var ub,zx;(zx=ub||(ub={})).Fa="default",zx.Cache="cache";var Pl=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ub.Cache}};var fm=class{constructor(e){this.key=e}},pm=class{constructor(e){this.key=e}},lb=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=we(),this.mutatedKeys=we(),this.Xa=OP(e),this.eu=new dm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new hm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),g=Rm(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),x=!1;m&&g?m.data.isEqual(g.data)?C!==N&&(r.track({type:3,doc:g}),x=!0):this.iu(m,g)||(r.track({type:2,doc:g}),x=!0,(u&&this.Xa(g,u)>0||l&&this.Xa(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),x=!0):m&&!g&&(r.track({type:1,doc:m}),x=!0,(u||l)&&(a=!0)),x&&(g?(s=s.add(g),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(g,C){let N=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{At:x})}};return N(g)-N(C)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ac(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=we(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new pm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new fm(r))}),t}uu(e){this.Ha=e.qs,this.Za=we();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ac.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Wb="SyncEngine",db=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},hb=class{constructor(e){this.key=e,this.lu=!1}},fb=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new mi(a=>kP(a),Am),this.Tu=new Map,this.Iu=new Set,this.du=new tt(Z.comparator),this.Eu=new Map,this.Au=new xl,this.Ru={},this.Vu=new Map,this.mu=Nl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function C5(n,e,t=!0){return _(this,null,function*(){let r=p1(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield u1(r,e,t,!0),i})}function D5(n,e){return _(this,null,function*(){let t=p1(n);yield u1(t,e,!0,!1)})}function u1(n,e,t,r){return _(this,null,function*(){let i=yield c5(n.localStore,Ar(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield T5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&r1(n.remoteStore,i),a})}function T5(n,e,t,r,i){return _(this,null,function*(){n.gu=(p,m,g)=>function(N,x,j,Q){return _(this,null,function*(){let K=x.view.nu(j);K.Ds&&(K=yield jx(N.localStore,x.query,!1).then(({documents:T})=>x.view.nu(T,K)));let Ie=Q&&Q.targetChanges.get(x.targetId),rt=Q&&Q.targetMismatches.get(x.targetId)!=null,Se=x.view.applyChanges(K,N.isPrimaryClient,Ie,rt);return Gx(N,x.targetId,Se._u),Se.snapshot})}(n,p,m,g);let o=yield jx(n.localStore,e,!0),s=new lb(e,o.qs),a=s.nu(o.documents),u=Rl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);Gx(n,t,l._u);let h=new db(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function S5(n,e,t){return _(this,null,function*(){let r=ae(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Am(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield WI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&jb(r.remoteStore,i.targetId),pb(r,i.targetId)}).catch(dc))):(pb(r,i.targetId),yield WI(r.localStore,i.targetId,!0))})}function A5(n,e){return _(this,null,function*(){let t=ae(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jb(t.remoteStore,r.targetId))})}function R5(n,e,t){return _(this,null,function*(){let r=F5(n);try{let i=yield function(s,a){let u=ae(s),l=ft.now(),h=a.reduce((g,C)=>g.add(C.key),we()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=gi(),N=we();return u.Os.getEntries(g,h).next(x=>{C=x,C.forEach((j,Q)=>{Q.isValidDocument()||(N=N.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,C)).next(x=>{p=x;let j=[];for(let Q of a){let K=kq(Q,p.get(Q.key).overlayedDocument);K!=null&&j.push(new Nr(Q.key,K,SP(K.value.mapValue),di.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,j,a)}).next(x=>{m=x;let j=x.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(g,x.batchId,j)})}).then(()=>({batchId:m.batchId,changes:LP(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new tt(ge)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Ul(r,i.changes),yield xm(r.remoteStore)}catch(i){let o=Hb(i,"Failed to persist write");t.reject(o)}})}function l1(n,e){return _(this,null,function*(){let t=ae(n);try{let r=yield o5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ne(s.lu,14607):i.removedDocuments.size>0&&(Ne(s.lu,42227),s.lu=!1))}),yield Ul(t,r,e)}catch(r){yield dc(r)}})}function qx(n,e,t){let r=ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ae(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&Gb(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function M5(n,e,t){return _(this,null,function*(){let r=ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new tt(Z.comparator);s=s.insert(o,sr.newNoDocument(o,ue.min()));let a=we().add(o),u=new Jp(ue.min(),new Map,new tt(ge),s,a);yield l1(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Kb(r)}else yield WI(r.localStore,e,!1).then(()=>pb(r,e,t)).catch(dc)})}function N5(n,e){return _(this,null,function*(){let t=ae(n),r=e.batch.batchId;try{let i=yield i5(t.localStore,e);h1(t,r,null),d1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ul(t,i)}catch(i){yield dc(i)}})}function x5(n,e,t){return _(this,null,function*(){let r=ae(n);try{let i=yield function(s,a){let u=ae(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ne(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);h1(r,e,t),d1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ul(r,i)}catch(i){yield dc(i)}})}function d1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function h1(n,e,t){let r=ae(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function pb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||f1(n,r)})}function f1(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(jb(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Kb(n))}function Gx(n,e,t){for(let r of t)r instanceof fm?(n.Au.addReference(r.key,e),P5(n,r)):r instanceof pm?(G(Wb,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||f1(n,r.key)):X(19791,{yu:r})}function P5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(Wb,"New document in limbo: "+t),n.Iu.add(r),Kb(n))}function Kb(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new Z(We.fromString(e)),r=n.mu.next();n.Eu.set(r,new hb(t)),n.du=n.du.insert(t,r),r1(n.remoteStore,new Ml(Ar(Sm(t.path)),r,"TargetPurposeLimboResolution",Ab.ue))}}function Ul(n,e,t){return _(this,null,function*(){let r=ae(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=HI.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return _(this,null,function*(){let h=ae(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,m=>L.forEach(m.Is,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>L.forEach(m.ds,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!hc(p))throw p;G(Vb,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let g=h.Fs.get(m),C=g.snapshotVersion,N=g.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,N)}}})}(r.localStore,o))})}function k5(n,e){return _(this,null,function*(){let t=ae(n);if(!t.currentUser.isEqual(e)){G(Wb,"User change. New user:",e.toKey());let r=yield t1(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new $(k.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ul(t,r.Bs)}})}function O5(n,e){let t=ae(n),r=t.Eu.get(e);if(r&&r.lu)return we().add(r.key);{let i=we(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function p1(n){let e=ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M5.bind(null,e),e.hu.J_=I5.bind(null,e.eventManager),e.hu.pu=b5.bind(null,e.eventManager),e}function F5(n){let e=ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x5.bind(null,e),e}var m1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return r5(this.persistence,new qI,t.initialUser,this.serializer)}Du(t){return new im($I.Vi,this.serializer)}bu(t){return new KI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),mb=class extends m1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ne(this.persistence.referenceDelegate instanceof om,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new RI(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new im(r=>om.Vi(r,t),this.serializer)}};var L5=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=k5.bind(null,this.syncEngine),yield w5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new cb}()}createDatastore(t){let r=Mm(t.databaseInfo.databaseId),i=function(s){return new XI(s)}(t.databaseInfo);return function(s,a,u,l){return new rb(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new ob(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>qx(this.syncEngine,r,0),function(){return am.C()?new am:new QI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let m=new fb(o,s,a,u,l,h);return p&&(m.fu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=ae(o);G(Rs,"RemoteStore shutting down."),s.Ia.add(5),yield jl(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var kl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var mo="FirestoreClient",gb=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=Cl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){G(mo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(mo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Hb(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $w(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(mo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield t1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{uo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{uo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function Wx(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield V5(n);G(mo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$x(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$x(e.remoteStore,i)),n._onlineComponents=e})}function V5(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(mo,"Using user provided OfflineComponentProvider");try{yield $w(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;uo("Error using user provided cache. Falling back to memory cache: "+t),yield $w(n,new m1)}}else G(mo,"Using default OfflineComponentProvider"),yield $w(n,new mb(void 0));return n._offlineComponents})}function g1(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(mo,"Using user provided OnlineComponentProvider"),yield Wx(n,n._uninitializedComponentsProvider._online)):(G(mo,"Using default OnlineComponentProvider"),yield Wx(n,new L5))),n._onlineComponents})}function j5(n){return g1(n).then(e=>e.syncEngine)}function mm(n){return _(this,null,function*(){let e=yield g1(n),t=e.eventManager;return t.onListen=C5.bind(null,e.syncEngine),t.onUnlisten=S5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=A5.bind(null,e.syncEngine),t})}function U5(n,e,t={}){let r=new or;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new kl({next:m=>{h.Ou(),s.enqueueAndForget(()=>qb(o,p));let g=m.docs.has(a);!g&&m.fromCache?l.reject(new $(k.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&u&&u.source==="server"?l.reject(new $(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pl(Sm(a.path),h,{includeMetadataChanges:!0,ka:!0});return zb(o,p)}(yield mm(n),n.asyncQueue,e,t,r)})),r.promise}function B5(n,e,t={}){let r=new or;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new kl({next:m=>{h.Ou(),s.enqueueAndForget(()=>qb(o,p)),m.fromCache&&u.source==="server"?l.reject(new $(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pl(a,h,{includeMetadataChanges:!0,ka:!0});return zb(o,p)}(yield mm(n),n.asyncQueue,e,t,r)})),r.promise}function y1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Kx=new Map;var v1="firestore.googleapis.com",Qx=!0,gm=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v1,this.ssl=Qx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e5)throw new $(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},cc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hw;switch(r.type){case"firstParty":return new Ww(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Kx.get(t);r&&(G("ComponentProvider","Removing Datastore"),Kx.delete(t),r.terminate())}(this),Promise.resolve()}};function _1(n,e,t,r={}){var i;n=En(n,cc);let o=Qi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(ap(`https://${u}`),cp("Firestore",!0)),s.host!==v1&&s.host!==u&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!nr(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=bt.MOCK_USER;else{h=PM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new bt(m)}n._authCredentials=new zw(new Bp(h,p))}}var yi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},yt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Vl(t,n._jsonSchema))return new n(e,r||null,new Z(We.fromString(t.referencePath)))}};yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:ht("string",yt._jsonSchemaVersion),referencePath:ht("string")};var oo=class n extends yi{constructor(e,t,r){super(e,t,Sm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new Z(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function E1(n,e,...t){if(n=gt(n),rP("collection","path",e),n instanceof cc){let r=We.fromString(e,...t);return fx(r),new oo(n,null,r)}{if(!(n instanceof yt||n instanceof oo))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(We.fromString(e,...t));return fx(r),new oo(n.firestore,null,r)}}function Qb(n,e,...t){if(n=gt(n),arguments.length===1&&(e=Cl.newId()),rP("doc","path",e),n instanceof cc){let r=We.fromString(e,...t);return hx(r),new yt(n,null,new Z(r))}{if(!(n instanceof yt||n instanceof oo))throw new $(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(We.fromString(e,...t));return hx(r),new yt(n.firestore,n instanceof oo?n.converter:null,new Z(r))}}var Yx="AsyncQueue",ym=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new cm(this,"async_queue_retry"),this.oc=()=>{let r=Bw();r&&G(Yx,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Bw();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Bw();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new or;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return _(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!hc(e))throw e;G(Yx,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,hi("INTERNAL UNHANDLED ERROR: ",Zx(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=sb.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&X(47125,{hc:Zx(this.tc)})}verifyOperationInProgress(){}Pc(){return _(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function Zx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Jx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var xr=class extends cc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ym,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ym(e),this._firestoreClient=void 0,yield e}})}};function Yb(n,e){let t=typeof n=="object"?n:ds(),r=typeof n=="string"?n:e||Gp,i=Ua(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=xM("firestore");o&&_1(i,...o)}return i}function Pm(n){if(n._terminated)throw new $(k.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||$5(n),n._firestoreClient}function $5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new Jw(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,y1(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new gb(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var so=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ut.fromBase64String(e))}catch(t){throw new $(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vl(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};so._jsonSchemaVersion="firestore/bytes/1.0",so._jsonSchema={type:ht("string",so._jsonSchemaVersion),bytes:ht("string")};var uc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ms=class{constructor(e){this._methodName=e}};var ao=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Vl(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ao._jsonSchemaVersion="firestore/geoPoint/1.0",ao._jsonSchema={type:ht("string",ao._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};var co=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vl(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new $(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};co._jsonSchemaVersion="firestore/vectorValue/1.0",co._jsonSchema={type:ht("string",co._jsonSchemaVersion),vectorValues:ht("object")};var H5=/^__.*__$/,yb=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new As(e,this.data,t,this.fieldTransforms)}},vm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function w1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ec:n})}}var _m=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(w1(this.Ec)&&H5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},vb=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Mm(e)}Dc(e,t,r,i=!1){return new _m({Ec:e,methodName:t,bc:r,path:_n.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function km(n){let e=n._freezeSettings(),t=Mm(n._databaseId);return new vb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I1(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);Zb("Data must be an object, but it was:",s,r);let a=b1(r,s),u,l;if(o.merge)u=new Vn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=wb(e,p,t);if(!s.contains(m))throw new $(k.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);D1(h,m)||h.push(m)}u=new Vn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new yb(new vn(a),u,l)}var Em=class n extends Ms{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function z5(n,e,t){return new _m({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var _b=class n extends Ms{_toFieldTransform(e){return new Yp(e.path,new Ts)}isEqual(e){return e instanceof n}},Eb=class n extends Ms{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=z5(this,e,!0),r=this.vc.map(o=>pc(o,t)),i=new fo(r);return new Yp(e.path,i)}isEqual(e){return e instanceof n&&nr(this.vc,e.vc)}};function q5(n,e,t,r){let i=n.Dc(1,e,t);Zb("Data must be an object, but it was:",i,r);let o=[],s=vn.empty();go(r,(u,l)=>{let h=Jb(e,u,t);l=gt(l);let p=i.gc(h);if(l instanceof Em)o.push(h);else{let m=pc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Vn(o);return new vm(s,a,i.fieldTransforms)}function G5(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[wb(e,r,t)],u=[i];if(o.length%2!=0)throw new $(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(wb(e,o[m])),u.push(o[m+1]);let l=[],h=vn.empty();for(let m=a.length-1;m>=0;--m)if(!D1(l,a[m])){let g=a[m],C=u[m];C=gt(C);let N=s.gc(g);if(C instanceof Em)l.push(g);else{let x=pc(C,N);x!=null&&(l.push(g),h.set(g,x))}}let p=new Vn(l);return new vm(h,p,s.fieldTransforms)}function W5(n,e,t,r=!1){return pc(t,n.Dc(r?4:3,e))}function pc(n,e){if(C1(n=gt(n)))return Zb("Unsupported field value:",e,n),b1(n,e);if(n instanceof Ms)return function(r,i){if(!w1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=pc(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ft.fromDate(r);return{timestampValue:nm(i.serializer,o)}}if(r instanceof ft){let o=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nm(i.serializer,o)}}if(r instanceof ao)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof so)return{bytesValue:WP(i.serializer,r._byteString)};if(r instanceof yt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof co)return function(s,a){return{mapValue:{fields:{[Nb]:{stringValue:xb},[ec]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Fb(a.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Cm(r)}`)}(n,e)}function b1(n,e){let t={};return _P(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(n,(r,i)=>{let o=pc(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function C1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof ao||n instanceof so||n instanceof yt||n instanceof Ms||n instanceof co)}function Zb(n,e,t){if(!C1(t)||!iP(t)){let r=Cm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function wb(n,e,t){if((e=gt(e))instanceof uc)return e._internalPath;if(typeof e=="string")return Jb(n,e);throw wm("Field path arguments must be of type string or ",n,!1,void 0,t)}var K5=new RegExp("[~\\*/\\[\\]]");function Jb(n,e,t){if(e.search(K5)>=0)throw wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch{throw wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wm(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(k.INVALID_ARGUMENT,a+n+u)}function D1(n,e){return n.some(t=>t.isEqual(e))}var Im=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ib(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Om("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Ib=class extends Im{data(){return super.data()}};function Om(n,e){return typeof e=="string"?Jb(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}function T1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ol=class{},Fl=class extends Ol{};function S1(n,e,...t){let r=[];e instanceof Ol&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof bb).length,a=o.filter(u=>u instanceof bm).length;if(s>1||s>0&&a>0)throw new $(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var bm=class n extends Fl{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return N1(e._query,t),new yi(e.firestore,e.converter,dI(e._query,t))}_parse(e){let t=km(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){eP(p,h);let C=[];for(let N of p)C.push(Xx(u,o,N));m={arrayValue:{values:C}}}else m=Xx(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||eP(p,h),m=W5(a,s,p,h==="in"||h==="not-in");return dt.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function A1(n,e,t){let r=e,i=Om("where",n);return bm._create(i,r,t)}var bb=class n extends Ol{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)N1(s,u),s=dI(s,u)}(e._query,t),new yi(e.firestore,e.converter,dI(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Cb=class n extends Fl{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(o,s)}(e._query,this._field,this._direction);return new yi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new ho(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function R1(n,e="asc"){let t=e,r=Om("orderBy",n);return Cb._create(r,t)}var Db=class n extends Fl{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new yi(e.firestore,e.converter,Qp(e._query,this._limit,this._limitType))}};function M1(n){return Jz("limit",n),Db._create("limit",n,"F")}function Xx(n,e,t){if(typeof(t=gt(t))=="string"){if(t==="")throw new $(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PP(e)&&t.indexOf("/")!==-1)throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(We.fromString(t));if(!Z.isDocumentKey(r))throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ex(n,new Z(r))}if(t instanceof yt)return Ex(n,t._key);throw new $(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(t)}.`)}function eP(n,e){if(!Array.isArray(n)||n.length===0)throw new $(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N1(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Tb=class{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return go(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ec].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new co(o)}convertGeoPoint(e){return new ao(Ge(e.latitude),Ge(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Tm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){let t=fi(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=We.fromString(e);Ne(XP(r),9688,{name:e});let i=new Wp(r.get(1),r.get(3)),o=new Z(r.popFirst(5));return i.isEqual(t)||hi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function x1(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Es=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ws=class n extends Im{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ja(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:ht("string",ws._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};var Ja=class extends ws{data(e={}){return super.data(e)}},Is=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ja(this._firestore,this._userDataWriter,r.key,r,new Es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ja(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ja(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Es(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Q5(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cl.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Q5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:n})}}function P1(n){n=En(n,yt);let e=En(n.firestore,xr);return U5(Pm(e),n._key).then(t=>V1(e,n,t))}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:ht("string",Is._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};var Ll=class extends Tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}};function k1(n){n=En(n,yi);let e=En(n.firestore,xr),t=Pm(e),r=new Ll(e);return T1(n._query),B5(t,n._query).then(i=>new Is(e,r,n,i))}function O1(n,e,t){n=En(n,yt);let r=En(n.firestore,xr),i=x1(n.converter,e,t);return e0(r,[I1(km(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,di.none())])}function F1(n,e,t,...r){n=En(n,yt);let i=En(n.firestore,xr),o=km(i),s;return s=typeof(e=gt(e))=="string"||e instanceof uc?G5(o,"updateDoc",n._key,e,t,r):q5(o,"updateDoc",n._key,e),e0(i,[s.toMutation(n._key,di.exists(!0))])}function L1(n,e){let t=En(n.firestore,xr),r=Qb(n),i=x1(n.converter,e);return e0(t,[I1(km(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,di.exists(!1))]).then(()=>r)}function Xb(n,...e){var t,r,i;n=gt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Jx(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Jx(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof yt)l=En(n.firestore,xr),h=Sm(n._key.path),u={next:p=>{e[s]&&e[s](V1(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=En(n,yi);l=En(p.firestore,xr),h=p._query;let m=new Ll(l);u={next:g=>{e[s]&&e[s](new Is(l,m,p,g))},error:e[s+1],complete:e[s+2]},T1(n._query)}return function(m,g,C,N){let x=new kl(N),j=new Pl(g,x,C);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return zb(yield mm(m),j)})),()=>{x.Ou(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return qb(yield mm(m),j)}))}}(Pm(l),h,a,u)}function e0(n,e){return function(r,i){let o=new or;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return R5(yield j5(r),i,o)})),o.promise}(Pm(n),e)}function V1(n,e,t){let r=t.docs.get(e._key),i=new Ll(n);return new ws(n,i,e._key,r,new Es(t.hasPendingWrites,t.fromCache),e.converter)}function Pr(){return new _b("serverTimestamp")}function j1(...n){return new Eb("arrayUnion",n)}(function(e,t=!0){(function(i){lc=i})(Zi),rr(new Wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new xr(new qw(r.getProvider("auth-internal")),new Kw(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wp(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(cx,ux,e),et(cx,ux,"esm2017")})();var Fm=function(){return Fm=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Fm.apply(this,arguments)};var J5={includeMetadataChanges:!1};function U1(n,e){return e===void 0&&(e=J5),new le(function(t){var r=Xb(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function B1(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Fm(Fm({},r),(t={},t[e.idField]=n.id,t))}function $1(n){return U1(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function H1(n,e){return e===void 0&&(e={}),$1(n).pipe(ie(function(t){return t.map(function(r){return B1(r,e)})}))}var vi=class{constructor(e){return e}},z1="firestore",t0=class{constructor(){return $a(z1)}};var n0=new H("angularfire2.firestore-instances");function X5(n,e){let t=al(z1,n,e);return t&&new vi(t)}function e8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new vi(r)}}var t8={provide:t0,deps:[[new ln,n0]]},n8={provide:vi,useFactory:X5,deps:[[new ln,n0],si]};function q1(n,...e){return et("angularfire",Ji.full,"fst"),Dn([n8,t8,{provide:n0,useFactory:e8(n),multi:!0,deps:[De,ot,Xi,fs,[new ln,yl],[new ln,Ha],...e]}])}var Lm=Rt(H1,!0);var Vm=Rt(L1,!0,2);var _i=Rt(E1,!0,2);var Ei=Rt(Qb,!0,2);var jm=Rt(P1,!0);var Um=Rt(k1,!0);var Bm=Rt(M1,!0,2);var $m=Rt(R1,!0,2),Bl=Rt(S1,!0,2);var mc=Rt(O1,!0,2);var r0=Rt(F1,!0,2);var xs=Rt(A1,!0,2);var jn=class n{constructor(e,t){this.http=e;this.db=t}apiUrl="https://julieta_denise_rojas-apialed.mdbgo.io";LS_KEY="usuarioLogueado";usuarioParaEditar={nombre:"",apellido:"",mail:"",fechaNacimiento:"",user:"",password:"",tipoUsuario:0};listaUsuario=[];getUsuarioLogueado(){try{let e=localStorage.getItem(this.LS_KEY);return e?JSON.parse(e):null}catch{return null}}miId(){let e=this.getUsuarioLogueado();return e?String(e.id):null}esAdmin(){let e=this.getUsuarioLogueado();return!!e&&Number(e.tipoUsuario)===2}rol(){return this.esAdmin()?"admin":"usuario"}registrar(e){return this.http.post(this.apiUrl+"/registro",e)}login(e){return this.http.post(this.apiUrl+"/login",e)}upsertUsuarioFs(e){return _(this,null,function*(){let t=String(e.id),r={nombre:e.nombre??"",apellido:e.apellido??"",mail:e.mail??"",tipoUsuario:Number(e.tipoUsuario),rol:e.rol??(Number(e.tipoUsuario)===2?"admin":"usuario")};yield mc(Ei(this.db,"usuarios",t),r,{merge:!0})})}cacheNombrePorId={};getNombreConRol(e){return _(this,null,function*(){if(this.cacheNombrePorId[e])return this.cacheNombrePorId[e];let t=yield jm(Ei(this.db,`usuarios/${e}`));if(!t.exists())return this.cacheNombrePorId[e]=e,e;let r=t.data(),i=r?.rol||(Number(r?.tipoUsuario)===2?"admin":"usuario"),o=[r?.nombre,r?.apellido].filter(Boolean).join(" "),s=o?`${o} (${i})`:`${e} (${i})`;return this.cacheNombrePorId[e]=s,s})}debugAdminsLog(){return _(this,null,function*(){let e=yield Um(_i(this.db,"usuarios"));console.log("[DEBUG usuarios]",e.docs.map(t=>V({id:t.id},t.data())))})}static \u0275fac=function(t){return new(t||n)(Y(ji),Y(vi))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function i8(n,e){n&1&&(b(0,"div",20),R(1," El usuario es obligatorio. "),E())}function o8(n,e){n&1&&(b(0,"div",20),R(1," La contrase\xF1a es obligatoria. "),E())}var zm=class n{constructor(e,t,r){this.fb=e;this.usuarioService=t;this.router=r;this.loginForm=this.fb.group({user:["",Ve.required],password:["",Ve.required]})}usuario={nombre:"",apellido:"",mail:"",fechaNacimiento:new Date,user:"",password:"",tipoUsuario:0};loginForm;login(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let e=this.loginForm.value;this.usuarioService.login(e).subscribe({next:t=>{t?(alert("Login exitoso!"),localStorage.setItem("usuarioLogueado",JSON.stringify(t)),this.router.navigate(["/principal"]).then(()=>{window.location.reload()})):alert("Usuario o contrase\xF1a incorrectos")},error:t=>{alert("Error en el login: "+(t.error.message||"Error desconocido")),console.error(t)}})}static \u0275fac=function(t){return new(t||n)(U(Wi),U(jn),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card","text-black","border-rose",2,"border-radius","1rem"],[1,"card-body","p-5","bg-light-rose"],[1,"mb-md-5","mt-md-4","pb-5","text-center"],[1,"fw-bold","mb-2","text-uppercase","text-rose"],[1,"text-muted","mb-5"],[3,"formGroup"],[1,"form-outline","mb-4","text-start"],["for","user",1,"form-label","text-rose"],["type","text","id","user","formControlName","user","placeholder","Ingrese su usuario",1,"form-control","form-control-lg","border-rose"],["class","text-danger mt-1",4,"ngIf"],["for","password",1,"form-label","text-rose"],["type","password","id","password","formControlName","password","placeholder","Ingrese su contrase\xF1a",1,"form-control","form-control-lg","border-rose"],[1,"text-center"],["type","button",1,"btn","btn-rose","btn-lg","px-5",3,"click","disabled"],[1,"mb-0"],["routerLink","/registro",1,"text-rose","fw-bold"],[1,"text-danger","mt-1"]],template:function(t,r){if(t&1&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),R(8,"Iniciar Sesi\xF3n"),E(),b(9,"p",8),R(10,"Por favor ingres\xE1 tu usuario y contrase\xF1a"),E(),b(11,"form",9)(12,"div",10)(13,"label",11),R(14,"Usuario"),E(),fe(15,"input",12),ee(16,i8,2,0,"div",13),E(),b(17,"div",10)(18,"label",14),R(19,"Contrase\xF1a"),E(),fe(20,"input",15),ee(21,o8,2,0,"div",13),E(),b(22,"div",16)(23,"button",17),te("click",function(){return r.login()}),R(24," Ingresar "),E()()()(),b(25,"div",16)(26,"p",18),R(27," \xBFNo ten\xE9s cuenta? "),b(28,"a",19),R(29,"Registrate"),E()()()()()()()()()),t&2){let i,o;F(11),W("formGroup",r.loginForm),F(5),W("ngIf",((i=r.loginForm.get("user"))==null?null:i.touched)&&((i=r.loginForm.get("user"))==null?null:i.hasError("required"))),F(5),W("ngIf",((o=r.loginForm.get("password"))==null?null:o.touched)&&((o=r.loginForm.get("password"))==null?null:o.hasError("required"))),F(2),W("disabled",r.loginForm.invalid)}},dependencies:[br,kn,wt,Vt,Pn,ri,ii,er,Pa,ze,At],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-light-rose[_ngcontent-%COMP%]{background-color:#f8d7e4!important}.border-rose[_ngcontent-%COMP%]{border-color:#d63384!important}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};var gc=class n{db=O(vi);upsertUsuario(e){return _(this,null,function*(){let t=String(e.id),r={nombre:e.nombre,apellido:e.apellido,correo:e.mail,tipoUsuario:e.tipoUsuario,rol:e.tipoUsuario===2?"admin":"usuario",fotoURL:e.fotoURL??null};yield mc(Ei(this.db,`usuarios/${t}`),r,{merge:!0})})}convId(e,t){let[r,i]=[e,t].sort();return`${r}_${i}`}getOrCreateConversacion1a1(e,t){return _(this,null,function*(){let r=String(e),i=String(t),o=this.convId(r,i),s=Ei(this.db,`conversaciones/${o}`);if(!(yield jm(s)).exists()){let u={participantesIds:[r,i],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:Pr(),tipo:"directo",estado:"en_curso",creadoPor:r,creadoEn:Pr(),esGrupo:!1,titulo:""};yield mc(s,u)}return o})}listenConversacionesDe(e){let t=String(e),r=_i(this.db,"conversaciones"),i=Bl(r,xs("participantesIds","array-contains",t),$m("actualizadoEn","desc"),Bm(50));return Lm(i,{idField:"id"})}listenMensajesDeConversacion(e){let t=_i(this.db,`conversaciones/${e}/mensajes`),r=Bl(t,$m("creadoEn","asc"));return Lm(r,{idField:"id"})}enviarMensaje(e,t,r){return _(this,null,function*(){let i=String(t),o=_i(this.db,`conversaciones/${e}/mensajes`),s=Pr();yield Vm(o,{remitenteId:i,texto:r,creadoEn:s,leidoPor:[i]}),yield mc(Ei(this.db,`conversaciones/${e}`),{ultimoMensaje:r,ultimoRemitenteId:i,actualizadoEn:s},{merge:!0})})}crearConversacionSoporte(e){return _(this,null,function*(){let t=_i(this.db,"conversaciones");try{let o=Bl(t,xs("tipo","==","soporte"),xs("creadoPor","==",e),xs("estado","in",["pendiente","en_curso"]),Bm(1)),s=yield Um(o);if(!s.empty)return s.docs[0].id}catch{}let r={participantesIds:[e],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:Pr(),tipo:"soporte",estado:"pendiente",assignedAdminId:null,creadoPor:e,creadoEn:Pr()};return(yield Vm(t,r)).id})}crearConversacionSoporteNueva(e){return _(this,null,function*(){let t=_i(this.db,"conversaciones"),r={participantesIds:[e],ultimoMensaje:"",ultimoRemitenteId:"",actualizadoEn:Pr(),tipo:"soporte",estado:"pendiente",assignedAdminId:null,creadoPor:e,creadoEn:Pr()};return(yield Vm(t,r)).id})}listenPendientesParaAdmin(){let e=_i(this.db,"conversaciones"),t=Bl(e,xs("tipo","==","soporte"),xs("estado","==","pendiente"),$m("actualizadoEn","desc"),Bm(50));return Lm(t,{idField:"id"})}tomarConversacion(e,t){return _(this,null,function*(){let r=Ei(this.db,"conversaciones",e);yield r0(r,{assignedAdminId:t,estado:"en_curso",participantesIds:j1(t),actualizadoEn:Pr()})})}cerrarConversacion(e){return _(this,null,function*(){let t=Ei(this.db,"conversaciones",e);yield r0(t,{estado:"cerrada",actualizadoEn:Pr()})})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function a8(n,e){n&1&&(b(0,"div",30),R(1," El nombre es obligatorio. "),E())}function c8(n,e){n&1&&(b(0,"div",30),R(1," El apellido es obligatorio. "),E())}function u8(n,e){n&1&&(b(0,"div",30),R(1," Ingrese un correo v\xE1lido. "),E())}function l8(n,e){n&1&&(b(0,"div",30),R(1," La fecha de nacimiento es obligatoria. "),E())}function d8(n,e){n&1&&(b(0,"div",30),R(1," El nombre de usuario es obligatorio. "),E())}function h8(n,e){n&1&&(b(0,"div"),R(1,"La contrase\xF1a es obligatoria."),E())}function f8(n,e){n&1&&(b(0,"div"),R(1,"Debe tener al menos 6 caracteres."),E())}function p8(n,e){if(n&1&&(b(0,"div",30),ee(1,h8,2,0,"div",31)(2,f8,2,0,"div",31),E()),n&2){let t,r,i=ne();F(),W("ngIf",(t=i.registroForm.get("password"))==null||t.errors==null?null:t.errors.required),F(),W("ngIf",(r=i.registroForm.get("password"))==null||r.errors==null?null:r.errors.minlength)}}function m8(n,e){n&1&&(b(0,"div",30),R(1," Seleccione un tipo de usuario. "),E())}function g8(n,e){if(n&1&&(b(0,"div",32),R(1),E()),n&2){let t=ne();F(),Oi(" ",t.errorMessage," ")}}var qm=class n{constructor(e,t,r,i){this.fb=e;this.usuarioService=t;this.chat=r;this.router=i;this.registroForm=this.fb.group({nombre:["",Ve.required],apellido:["",Ve.required],mail:["",[Ve.required,Ve.email]],fechaNacimiento:["",Ve.required],user:["",Ve.required],password:["",[Ve.required,Ve.minLength(6)]],tipoUsuario:[1,Ve.required]})}registroForm;errorMessage="";loading=!1;guardar(){if(this.errorMessage="",this.registroForm.invalid){this.registroForm.markAllAsTouched(),this.errorMessage="Por favor complete todos los campos correctamente.";return}let e=oe(V({},this.registroForm.value),{mail:String(this.registroForm.value.mail||"").trim().toLowerCase(),tipoUsuario:Number(this.registroForm.value.tipoUsuario||1)});this.loading=!0,this.usuarioService.registrar(e).subscribe({next:t=>_(this,null,function*(){try{let r={id:t?.id??t?.insertId??t?.usuario?.id??e?.id,nombre:t?.nombre??t?.usuario?.nombre??e.nombre,apellido:t?.apellido??t?.usuario?.apellido??e.apellido,mail:t?.mail??t?.usuario?.mail??e.mail,tipoUsuario:Number(t?.tipoUsuario??t?.usuario?.tipoUsuario??e.tipoUsuario),fotoURL:null};r.id?yield this.chat.upsertUsuario(r):console.warn("[Registro] La API no devolvi\xF3 ID; no se cre\xF3 doc en Firestore."),this.router.navigate(["/login"]).then(()=>this.loading=!1)}catch(r){console.error("[Registro] Firestore error:",r),this.loading=!1,this.errorMessage="Usuario creado. Hubo un problema al sincronizar con el chat."}}),error:t=>{console.error("[Registro] Error API:",t),this.loading=!1,this.errorMessage="Error al registrar usuario. Intente nuevamente."}})}static \u0275fac=function(t){return new(t||n)(U(Wi),U(jn),U(gc),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-registro"]],decls:60,vars:10,consts:[[1,"gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-10","col-lg-8","col-xl-6"],[1,"card","bg-light","text-black",2,"border-radius","1rem"],[1,"card-body","p-5"],[1,"fw-bold","mb-4","text-uppercase","text-center"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6","mb-3"],[1,"form-label"],["type","text","formControlName","nombre","placeholder","Ingrese su nombre",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","apellido","placeholder","Ingrese su apellido",1,"form-control"],[1,"mb-3"],["type","email","formControlName","mail","placeholder","ejemplo@mail.com",1,"form-control"],["type","date","formControlName","fechaNacimiento",1,"form-control"],["type","text","formControlName","user","placeholder","Ingrese un nombre de usuario",1,"form-control"],["type","password","formControlName","password","placeholder","M\xEDnimo 6 caracteres",1,"form-control"],[1,"mb-4"],["formControlName","tipoUsuario",1,"form-select"],["value",""],["value","1"],["value","2"],["class","alert alert-danger",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-success","btn-lg","px-5",3,"disabled"],[1,"mt-4","text-center"],[1,"mb-0"],["routerLink","/login",1,"text-primary","fw-bold"],[1,"text-danger"],[4,"ngIf"],[1,"alert","alert-danger"]],template:function(t,r){if(t&1&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),R(7,"Registro de Usuario"),E(),b(8,"form",7),te("ngSubmit",function(){return r.guardar()}),b(9,"div",8)(10,"div",9)(11,"label",10),R(12,"Nombre"),E(),fe(13,"input",11),ee(14,a8,2,0,"div",12),E(),b(15,"div",9)(16,"label",10),R(17,"Apellido"),E(),fe(18,"input",13),ee(19,c8,2,0,"div",12),E()(),b(20,"div",14)(21,"label",10),R(22,"Correo electr\xF3nico"),E(),fe(23,"input",15),ee(24,u8,2,0,"div",12),E(),b(25,"div",14)(26,"label",10),R(27,"Fecha de Nacimiento"),E(),fe(28,"input",16),ee(29,l8,2,0,"div",12),E(),b(30,"div",14)(31,"label",10),R(32,"Usuario"),E(),fe(33,"input",17),ee(34,d8,2,0,"div",12),E(),b(35,"div",14)(36,"label",10),R(37,"Contrase\xF1a"),E(),fe(38,"input",18),ee(39,p8,3,2,"div",12),E(),b(40,"div",19)(41,"label",10),R(42,"Tipo de Usuario"),E(),b(43,"select",20)(44,"option",21),R(45,"Seleccione un tipo"),E(),b(46,"option",22),R(47,"Cliente"),E(),b(48,"option",23),R(49,"Administrador"),E()(),ee(50,m8,2,0,"div",12),E(),ee(51,g8,2,1,"div",24),b(52,"div",25)(53,"button",26),R(54,"Registrarse"),E()()(),b(55,"div",27)(56,"p",28),R(57," \xBFYa ten\xE9s cuenta? "),b(58,"a",29),R(59,"Iniciar sesi\xF3n"),E()()()()()()()()()),t&2){let i,o,s,a,u,l,h;F(8),W("formGroup",r.registroForm),F(6),W("ngIf",((i=r.registroForm.get("nombre"))==null?null:i.invalid)&&((i=r.registroForm.get("nombre"))==null?null:i.touched)),F(5),W("ngIf",((o=r.registroForm.get("apellido"))==null?null:o.invalid)&&((o=r.registroForm.get("apellido"))==null?null:o.touched)),F(5),W("ngIf",((s=r.registroForm.get("mail"))==null?null:s.invalid)&&((s=r.registroForm.get("mail"))==null?null:s.touched)),F(5),W("ngIf",((a=r.registroForm.get("fechaNacimiento"))==null?null:a.invalid)&&((a=r.registroForm.get("fechaNacimiento"))==null?null:a.touched)),F(5),W("ngIf",((u=r.registroForm.get("user"))==null?null:u.invalid)&&((u=r.registroForm.get("user"))==null?null:u.touched)),F(5),W("ngIf",((l=r.registroForm.get("password"))==null?null:l.touched)&&((l=r.registroForm.get("password"))==null?null:l.errors)),F(11),W("ngIf",((h=r.registroForm.get("tipoUsuario"))==null?null:h.invalid)&&((h=r.registroForm.get("tipoUsuario"))==null?null:h.touched)),F(),W("ngIf",r.errorMessage),F(2),W("disabled",r.registroForm.invalid)}},dependencies:[On,kn,tp,np,wt,ja,Vt,Pn,br,ri,ii,ze,At],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.gradient-custom[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(to right,#f8bbd0,#f48fb1);display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{width:100%}"]})};function y8(n,e){if(n&1){let t=st();b(0,"tr")(1,"th",4),R(2),E(),b(3,"td"),R(4),E(),b(5,"td"),R(6),E(),b(7,"td"),R(8),E(),b(9,"td"),R(10),qt(11,"date"),E(),b(12,"td"),R(13),E(),b(14,"td")(15,"button",5),te("click",function(){let i=Qe(t).$implicit,o=ne();return Ye(o.editarUsuario(i))}),R(16,"Editar"),E()()()}if(n&2){let t=e.$implicit,r=e.index;F(2),Ae(r+1),F(2),Ae(t.nombre),F(2),Ae(t.apellido),F(2),Ae(t.mail),F(2),Ae(Gt(11,6,t.fechaNacimiento,"dd/MM/yyyy")),F(3),Ae(t.tipoUsuario===1?"Administrador":"Cliente")}}var Gm=class n{constructor(e,t){this.router=e;this.usuarioService=t}usuarios=[];editarUsuario(e){this.usuarioService.usuarioParaEditar=V({},e),this.router.navigate(["/editar-usuario"])}static \u0275fac=function(t){return new(t||n)(U(qe),U(jn))};static \u0275cmp=Me({type:n,selectors:[["app-administrar-usuarios"]],decls:20,vars:1,consts:[[1,"table-container"],[1,"table","table-borderless","custom-table"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),R(5,"#"),E(),b(6,"th",2),R(7,"Nombre"),E(),b(8,"th",2),R(9,"Apellido"),E(),b(10,"th",2),R(11,"Email"),E(),b(12,"th",2),R(13,"Fecha de nacimiento"),E(),b(14,"th",2),R(15,"Tipo de usuario"),E(),b(16,"th",2),R(17,"Acciones"),E()()(),b(18,"tbody"),ee(19,y8,17,9,"tr",3),E()()()),t&2&&(F(19),W("ngForOf",r.usuarios))},dependencies:[ze,Mn,b_],styles:[".custom-table[_ngcontent-%COMP%]{background-color:#fff0f5;color:#880e4f;border:1px solid #f48fb1;border-radius:8px}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8bbd0;color:#880e4f;font-weight:700;text-align:center}.custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fce4ec;color:#880e4f;text-align:center}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;border:1px solid #f48fb1}.table-container[_ngcontent-%COMP%]{padding:20px;background-color:#fce4ec;border-radius:12px;box-shadow:0 0 10px #f0629233}"]})};var Wm=class n{constructor(e,t){this.usuarioService=e;this.router=t}usuario={nombre:"",apellido:"",mail:"",fechaNacimiento:new Date,user:"",password:"",tipoUsuario:0};guardarCambios(){let e=this.usuarioService.listaUsuario.findIndex(t=>t.user===this.usuario.user);e!==-1&&(this.usuarioService.listaUsuario[e]=this.usuario,localStorage.setItem("usuarios",JSON.stringify(this.usuarioService.listaUsuario)),this.router.navigate(["/administrar-usuarios"]))}static \u0275fac=function(t){return new(t||n)(U(jn),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-editar-usuario"]],decls:38,vars:5,consts:[[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","justify-content-center","align-items-center","h-100"],[1,"col-12","col-lg-9","col-xl-7"],[1,"card","shadow-2-strong",2,"border-radius","15px"],[1,"card-body","p-4","p-md-5"],[1,"mb-4","pb-2","pb-md-0","mb-md-5","text-center"],[1,"form-group","mb-3"],["for","nombre"],["type","text","id","nombre","name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","apellido"],["type","text","id","apellido","name","apellido","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","mail"],["type","email","id","mail","name","mail","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","fechaNacimiento"],["type","date","id","fechaNacimiento","name","fechaNacimiento","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mb-4"],["for","tipoUsuario"],["id","tipoUsuario","name","tipoUsuario","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","0","disabled",""],["value","1"],["value","2"],[1,"text-center"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){t&1&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),R(7,"Editar Usuario"),E(),b(8,"form")(9,"div",7)(10,"label",8),R(11,"Nombre"),E(),b(12,"input",9),fn("ngModelChange",function(o){return Sn(r.usuario.nombre,o)||(r.usuario.nombre=o),o}),E()(),b(13,"div",7)(14,"label",10),R(15,"Apellido"),E(),b(16,"input",11),fn("ngModelChange",function(o){return Sn(r.usuario.apellido,o)||(r.usuario.apellido=o),o}),E()(),b(17,"div",7)(18,"label",12),R(19,"Correo electr\xF3nico"),E(),b(20,"input",13),fn("ngModelChange",function(o){return Sn(r.usuario.mail,o)||(r.usuario.mail=o),o}),E()(),b(21,"div",7)(22,"label",14),R(23,"Fecha de nacimiento"),E(),b(24,"input",15),fn("ngModelChange",function(o){return Sn(r.usuario.fechaNacimiento,o)||(r.usuario.fechaNacimiento=o),o}),E()(),b(25,"div",16)(26,"label",17),R(27,"Tipo de usuario"),E(),b(28,"select",18),fn("ngModelChange",function(o){return Sn(r.usuario.tipoUsuario,o)||(r.usuario.tipoUsuario=o),o}),b(29,"option",19),R(30,"Seleccione un tipo"),E(),b(31,"option",20),R(32,"Administrador"),E(),b(33,"option",21),R(34,"Cliente"),E()()(),b(35,"div",22)(36,"button",23),te("click",function(){return r.guardarCambios()}),R(37,"Guardar Cambios"),E()()()()()()()()()),t&2&&(F(12),hn("ngModel",r.usuario.nombre),F(4),hn("ngModel",r.usuario.apellido),F(4),hn("ngModel",r.usuario.mail),F(4),hn("ngModel",r.usuario.fechaNacimiento),F(4),hn("ngModel",r.usuario.tipoUsuario))},dependencies:[On,kn,tp,np,wt,ja,Vt,Pn,IE,ni,Xu,ze],styles:[".gradient-custom[_ngcontent-%COMP%]{background:linear-gradient(to right,#fce4ec,#f8bbd0)}.card[_ngcontent-%COMP%]{background-color:#fff0f5;border:2px solid #f48fb1;color:#880e4f}h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#ad1457}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%]{border:1px solid #f48fb1;background-color:#fff0f5;color:#880e4f}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{border-color:#f06292;box-shadow:0 0 0 .2rem #f0629240}.btn-success[_ngcontent-%COMP%]{background-color:#f06292;border-color:#f06292;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#ec407a;border-color:#ec407a}"]})};var yc=class n{transform(e,t){return t?(t=t.toLowerCase(),e.filter(r=>r.nombre.toLowerCase().includes(t)||r.categoria.toLowerCase().includes(t))):e}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=cu({name:"filtroProducto",type:n,pure:!0})};var kr=class n{constructor(e){this.http=e}apiUrl="https://julieta_denise_rojas-apialed.mdbgo.io";obtenerProductos(e){return this.http.post(this.apiUrl+"/obtener_productos",e)}actualizarProducto(e){return this.http.post(this.apiUrl+"/actualizar_producto",e)}crearProducto(e){return this.http.post(this.apiUrl+"/crear_producto",e)}eliminarProducto(e){return this.http.post(this.apiUrl+"/eliminar_producto",e)}crearFactura(e){return this.http.post(this.apiUrl+"/crear_factura",e)}static \u0275fac=function(t){return new(t||n)(Y(ji))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function v8(n,e){if(n&1){let t=st();b(0,"tr")(1,"td"),R(2),E(),b(3,"td"),R(4),E(),b(5,"td"),R(6),qt(7,"currency"),E(),b(8,"td"),fe(9,"img",11),E(),b(10,"td")(11,"button",12),te("click",function(){let i=Qe(t).$implicit,o=ne();return Ye(o.editar(i))}),R(12,"Editar"),E(),b(13,"button",13),te("click",function(){let i=Qe(t).$implicit,o=ne();return Ye(o.eliminar(i))}),R(14,"Eliminar"),E()()()}if(n&2){let t=e.$implicit;F(2),Ae(t.nombre),F(2),Ae(t.categoria),F(2),Ae(Gt(7,4,t.precioArs,"ARS")),F(3),W("src",t.imagen,Wo)}}var Qm=class n{constructor(e,t){this.productoService=e;this.router=t}productos=[];filtroTexto="";ngOnInit(){this.cargarProductos()}cargarProductos(){this.productoService.obtenerProductos([]).subscribe(e=>{this.productos=e})}editar(e){localStorage.setItem("productoEditar",JSON.stringify(e)),this.router.navigate(["/editar-producto"])}eliminar(e){confirm("\xBFEst\xE1s seguro de eliminar este producto?")&&this.productoService.eliminarProducto(e).subscribe(()=>{this.cargarProductos()})}static \u0275fac=function(t){return new(t||n)(U(kr),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-gestionar-productos"]],decls:25,vars:5,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"bg-danger-subtle","p-4","rounded","shadow","border","border-danger-subtle",2,"width","100%","max-width","900px"],[1,"text-center","text-danger","mb-4","fw-semibold"],[1,"mb-4"],[1,"form-label","text-danger","fw-semibold"],["type","text","placeholder","Nombre o categor\xEDa",1,"form-control","border-danger-subtle",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","table-sm","table-hover","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[1,"text-dark"],[4,"ngFor","ngForOf"],["width","80",1,"rounded","shadow-sm",3,"src"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"div",1)(2,"h3",2),R(3,"\u{1F6E0}\uFE0F Gesti\xF3n de Productos"),E(),b(4,"div",3)(5,"label",4),R(6,"Buscar:"),E(),b(7,"input",5),fn("ngModelChange",function(o){return Sn(r.filtroTexto,o)||(r.filtroTexto=o),o}),E()(),b(8,"div",6)(9,"table",7)(10,"thead",8)(11,"tr")(12,"th"),R(13,"Nombre"),E(),b(14,"th"),R(15,"Categor\xEDa"),E(),b(16,"th"),R(17,"Precio"),E(),b(18,"th"),R(19,"Imagen"),E(),b(20,"th"),R(21,"Acciones"),E()()(),b(22,"tbody",9),ee(23,v8,15,7,"tr",10),qt(24,"filtroProducto"),E()()()()()),t&2&&(F(7),hn("ngModel",r.filtroTexto),F(16),W("ngForOf",Gt(24,2,r.productos,r.filtroTexto)))},dependencies:[br,wt,Vt,ze,Mn,Jo,On,ni,er,yc],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#fff0f5}.text-pink[_ngcontent-%COMP%]{color:#c06}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}.table-pink[_ngcontent-%COMP%]{background-color:#ff66a3}"]})};function _8(n,e){if(n&1&&(b(0,"div",15),fe(1,"img",16),E()),n&2){let t,r=ne();F(),W("src",(t=r.form.get("imagen"))==null?null:t.value,Wo)}}function E8(n,e){if(n&1&&(b(0,"div",17),R(1),E()),n&2){let t=ne();F(),Oi(" ",t.errorMessage," ")}}var Ym=class n{constructor(e,t,r){this.fb=e;this.productoService=t;this.router=r;this.form=this.fb.group({nombre:["",Ve.required],descripcion:[""],precioArs:[0,[Ve.required,Ve.min(0)]],categoria:["",Ve.required],imagen:["",Ve.required]})}productoCreado=new $e;form;errorMessage="";onFileSelected(e){let t=e.target.files[0];if(t){let r=new FileReader;r.onload=()=>{let i=r.result;this.form.get("imagen")?.setValue(i)},r.readAsDataURL(t)}}submit(){if(this.form.valid){let e=this.form.value;this.productoService.crearProducto(e).subscribe({next:()=>this.router.navigate(["/gestionar-productos"]),error:t=>{this.errorMessage="Error al crear el producto. Intente nuevamente.",console.error("Error:",t)}})}else this.errorMessage="Por favor complete todos los campos correctamente."}static \u0275fac=function(t){return new(t||n)(U(Wi),U(kr),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-crear-producto"]],outputs:{productoCreado:"productoCreado"},decls:30,vars:3,consts:[[1,"container","d-flex","justify-content-center","mt-5"],[1,"bg-danger-subtle","p-4","rounded","shadow","border","border-danger-subtle",2,"width","100%","max-width","500px"],[1,"text-center","text-danger","mb-4","fw-semibold"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label","text-danger","fw-semibold"],["formControlName","nombre",1,"form-control","border-danger-subtle"],["formControlName","descripcion",1,"form-control","border-danger-subtle"],["type","number","formControlName","precioArs",1,"form-control","border-danger-subtle"],["formControlName","categoria",1,"form-control","border-danger-subtle"],["type","file","accept","image/*",1,"form-control","border-danger-subtle",3,"change"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-3"],["type","submit",1,"btn","btn-outline-danger","fw-bold","px-4"],["class","text-danger text-center mt-3",4,"ngIf"],[1,"text-center","mt-2"],["width","120",1,"img-thumbnail",3,"src"],[1,"text-danger","text-center","mt-3"]],template:function(t,r){if(t&1&&(b(0,"div",0)(1,"div",1)(2,"h3",2),R(3,"\u{1F6D2} Crear Producto"),E(),b(4,"form",3),te("ngSubmit",function(){return r.submit()}),b(5,"div",4)(6,"label",5),R(7,"Nombre:"),E(),fe(8,"input",6),E(),b(9,"div",4)(10,"label",5),R(11,"Descripci\xF3n:"),E(),fe(12,"input",7),E(),b(13,"div",4)(14,"label",5),R(15,"Precio ARS:"),E(),fe(16,"input",8),E(),b(17,"div",4)(18,"label",5),R(19,"Categor\xEDa:"),E(),fe(20,"input",9),E(),b(21,"div",4)(22,"label",5),R(23,"Imagen:"),E(),b(24,"input",10),te("change",function(o){return r.onFileSelected(o)}),E(),ee(25,_8,2,1,"div",11),E(),b(26,"div",12)(27,"button",13),R(28," Crear "),E()(),ee(29,E8,2,1,"div",14),E()()()),t&2){let i;F(4),W("formGroup",r.form),F(21),W("ngIf",(i=r.form.get("imagen"))==null?null:i.value),F(4),W("ngIf",r.errorMessage)}},dependencies:[br,kn,wt,el,Vt,Pn,ri,ii,ze,At],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#ffe6f0}.text-pink[_ngcontent-%COMP%]{color:#c06}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}"]})};function w8(n,e){n&1&&(b(0,"div",16),R(1," El nombre es obligatorio. "),E())}function I8(n,e){n&1&&(b(0,"div"),R(1,"El precio es obligatorio."),E())}function b8(n,e){n&1&&(b(0,"div"),R(1,"El precio debe ser mayor o igual a 0."),E())}function C8(n,e){if(n&1&&(b(0,"div",16),ee(1,I8,2,0,"div",17)(2,b8,2,0,"div",17),E()),n&2){let t,r,i=ne();F(),W("ngIf",(t=i.form.get("precioArs"))==null?null:t.hasError("required")),F(),W("ngIf",(r=i.form.get("precioArs"))==null?null:r.hasError("min"))}}function D8(n,e){if(n&1&&(b(0,"div",18),fe(1,"img",19),E()),n&2){let t,r=ne();F(),W("src",(t=r.form.get("imagen"))==null?null:t.value,Wo)}}var Zm=class n{constructor(e,t,r,i){this.fb=e;this.productoService=t;this.route=r;this.router=i}form;productoId;ngOnInit(){let e=localStorage.getItem("productoEditar");if(e){let t=JSON.parse(e);this.form=this.fb.group({id:[t.id],nombre:[t.nombre,Ve.required],descripcion:[t.descripcion],precioArs:[t.precioArs,[Ve.required,Ve.min(0)]],categoria:[t.categoria,Ve.required],imagen:[t.imagen,Ve.required]})}else alert("No hay producto cargado para editar"),this.router.navigate(["/gestionar-productos"])}onFileSelected(e){let t=e.target.files[0];if(t){let r=new FileReader;r.onload=()=>{let i=r.result;this.form.get("imagen")?.setValue(i)},r.readAsDataURL(t)}}submit(){if(this.form.invalid){this.form.markAllAsTouched();return}let e=this.form.value;this.productoService.actualizarProducto(e).subscribe({next:()=>this.router.navigate(["/gestionar-productos"]),error:t=>console.error("Error al actualizar producto:",t)})}static \u0275fac=function(t){return new(t||n)(U(Wi),U(kr),U(xn),U(qe))};static \u0275cmp=Me({type:n,selectors:[["app-editar-producto"]],decls:31,vars:5,consts:[[1,"container","mt-4","p-4","rounded","border","shadow","bg-light-pink"],[1,"text-center","text-pink","mb-4"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-4"],[1,"form-label","text-pink"],["formControlName","nombre",1,"form-control","border-pink"],["class","text-danger mt-1",4,"ngIf"],["formControlName","categoria",1,"form-control","border-pink"],["type","number","formControlName","precioArs",1,"form-control","border-pink"],[1,"col-md-6"],["formControlName","descripcion",1,"form-control","border-pink"],["type","file","accept","image/*",1,"form-control","border-pink",3,"change"],["class","mt-2 text-center",4,"ngIf"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-pink","px-4",3,"disabled"],[1,"text-danger","mt-1"],[4,"ngIf"],[1,"mt-2","text-center"],["alt","Vista previa","width","120",1,"img-thumbnail",3,"src"]],template:function(t,r){if(t&1&&(b(0,"div",0)(1,"h3",1),R(2,"Editar Producto"),E(),b(3,"form",2),te("ngSubmit",function(){return r.submit()}),b(4,"div",3)(5,"div",4)(6,"label",5),R(7,"Nombre:"),E(),fe(8,"input",6),ee(9,w8,2,0,"div",7),E(),b(10,"div",4)(11,"label",5),R(12,"Categor\xEDa:"),E(),fe(13,"input",8),E(),b(14,"div",4)(15,"label",5),R(16,"Precio ARS:"),E(),fe(17,"input",9),ee(18,C8,3,2,"div",7),E(),b(19,"div",10)(20,"label",5),R(21,"Descripci\xF3n:"),E(),fe(22,"input",11),E(),b(23,"div",10)(24,"label",5),R(25,"Imagen:"),E(),b(26,"input",12),te("change",function(o){return r.onFileSelected(o)}),E(),ee(27,D8,2,1,"div",13),E()(),b(28,"div",14)(29,"button",15),R(30," Actualizar "),E()()()()),t&2){let i,o,s;F(3),W("formGroup",r.form),F(6),W("ngIf",((i=r.form.get("nombre"))==null?null:i.touched)&&((i=r.form.get("nombre"))==null?null:i.hasError("required"))),F(9),W("ngIf",(o=r.form.get("precioArs"))==null?null:o.touched),F(9),W("ngIf",(s=r.form.get("imagen"))==null?null:s.value),F(2),W("disabled",r.form.invalid)}},dependencies:[br,kn,wt,el,Vt,Pn,ri,ii,ze,At,er],styles:[".bg-light-pink[_ngcontent-%COMP%]{background-color:#fff0f5}.text-pink[_ngcontent-%COMP%]{color:#c06}.border-pink[_ngcontent-%COMP%]{border:1px solid #ff99cc}.btn-pink[_ngcontent-%COMP%]{background-color:#ff66a3;color:#fff;border:none}.btn-pink[_ngcontent-%COMP%]:hover{background-color:#e05590}"]})};var Jm=class n{constructor(e){this.http=e}fechaCotizacionUsada="";apiUrl="https://api.bcra.gob.ar/estadisticascambiarias/v1.0/Cotizaciones/USD";tipoCambio$=oy(0,6e5).pipe(Ot(()=>this.obtenerUltimoTipoCambio()),cy(1));obtenerUltimoTipoCambio(){return this.http.get(this.apiUrl).pipe(ie(e=>{let t=e?.results?.[0],r=t?.detalle?.[0]?.tipoCotizacion;return r?(this.fechaCotizacionUsada=t.fecha,r):(console.warn("No se encontr\xF3 cotizaci\xF3n v\xE1lida"),1)}),$n(e=>(console.error("Error al obtener tipo de cambio del BCRA",e),J(1))))}obtenerTipoCambio(){return this.tipoCambio$}static \u0275fac=function(t){return new(t||n)(Y(ji))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function S8(n,e){if(n&1&&(b(0,"div",11),R(1),b(2,"strong",9),R(3),qt(4,"currency"),E()()),n&2){let t=ne();F(),Oi(" \u{1F4A1} Tipo de cambio aplicado del ",t.tipoCambioFecha,": "),F(2),Ae(Gt(4,2,t.tipoCambio,"ARS"))}}function A8(n,e){if(n&1&&(b(0,"tr")(1,"td"),R(2),E(),b(3,"td"),R(4),E(),b(5,"td"),R(6),qt(7,"currency"),E(),b(8,"td"),R(9),qt(10,"currency"),E(),b(11,"td"),R(12),qt(13,"currency"),E()()),n&2){let t=e.$implicit,r=ne();F(2),Ae(t.nombre),F(2),Ae(t.cantidad),F(2),Ae(Gt(7,5,t.precioArs,"ARS")),F(3),Ae(Gt(10,8,t.cantidad*t.precioArs,"ARS")),F(3),Ae(Gt(13,11,t.cantidad*t.precioArs/r.tipoCambio,"USD"))}}var vc=class n{constructor(e){this.tipoCambioService=e}productos=[];compraConfirmada=new $e;tipoCambio=1;tipoCambioFecha="";totalArs=0;totalUsd=0;ngOnInit(){this.tipoCambioService.obtenerTipoCambio().subscribe(e=>{this.tipoCambio=e,this.tipoCambioFecha=this.tipoCambioService.fechaCotizacionUsada,this.calcularTotales()})}ngOnChanges(e){e.productos&&this.tipoCambio&&this.calcularTotales()}calcularTotales(){this.totalArs=this.productos.reduce((e,t)=>e+t.precioArs*t.cantidad,0),this.totalUsd=this.totalArs/this.tipoCambio}confirmar(){this.compraConfirmada.emit({tipoCambio:this.tipoCambio,productos:this.productos,totalArs:this.totalArs,totalUsd:this.totalUsd})}static \u0275fac=function(t){return new(t||n)(U(Jm))};static \u0275cmp=Me({type:n,selectors:[["app-factura"]],inputs:{productos:"productos"},outputs:{compraConfirmada:"compraConfirmada"},features:[Tn],decls:33,vars:10,consts:[[1,"container","p-4","rounded","shadow-sm","bg-light","border","border-danger-subtle",2,"max-width","800px"],[1,"text-center","text-danger","mb-4","fw-semibold"],["class","alert alert-danger-subtle text-center small mb-4 border border-danger",4,"ngIf"],[1,"table-responsive"],[1,"table","table-sm","table-bordered","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[1,"text-dark"],[4,"ngFor","ngForOf"],[1,"text-end","mt-3"],[1,"text-danger"],[1,"btn","btn-outline-danger","mt-3","fw-bold","px-4",3,"click"],[1,"alert","alert-danger-subtle","text-center","small","mb-4","border","border-danger"]],template:function(t,r){t&1&&(b(0,"div",0)(1,"h4",1),R(2," Factura"),E(),ee(3,S8,5,5,"div",2),b(4,"div",3)(5,"table",4)(6,"thead",5)(7,"tr")(8,"th"),R(9,"Producto"),E(),b(10,"th"),R(11,"Cant."),E(),b(12,"th"),R(13,"Precio (ARS)"),E(),b(14,"th"),R(15,"Total (ARS)"),E(),b(16,"th"),R(17,"Total (USD)"),E()()(),b(18,"tbody",6),ee(19,A8,14,14,"tr",7),E()()(),b(20,"div",8)(21,"h6",9),R(22,"Total ARS: "),b(23,"strong"),R(24),qt(25,"currency"),E()(),b(26,"h6",9),R(27,"Total USD: "),b(28,"strong"),R(29),qt(30,"currency"),E()(),b(31,"button",10),te("click",function(){return r.confirmar()}),R(32," Confirmar Compra "),E()()()),t&2&&(F(3),W("ngIf",r.tipoCambioFecha),F(16),W("ngForOf",r.productos),F(5),Ae(Gt(25,4,r.totalArs,"ARS")),F(5),Ae(Gt(30,7,r.totalUsd,"USD")))},dependencies:[ze,Mn,At,Jo],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.bg-rose-deep[_ngcontent-%COMP%]{background-color:#c94e84;color:#fff}.alert-rose-deep[_ngcontent-%COMP%]{background-color:#b43e74;color:#fff;border:1px solid #ffffff33}.table-rose[_ngcontent-%COMP%]{background-color:#d63384}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};function R8(n,e){if(n&1){let t=st();b(0,"tr")(1,"td"),R(2),E(),b(3,"td"),R(4),qt(5,"currency"),E(),b(6,"td"),fe(7,"input",13,0),E(),b(9,"td")(10,"button",14),te("click",function(){let i=Qe(t).$implicit,o=jh(8),s=ne();return Ye(s.agregarProducto(i,o))}),R(11," \u2795 Agregar "),E()()()}if(n&2){let t=e.$implicit;F(2),Ae(t.nombre),F(2),Ae(Gt(5,2,t.precioArs,"ARS"))}}function M8(n,e){if(n&1){let t=st();b(0,"li",19),R(1),b(2,"button",20),te("click",function(){let i=Qe(t).index,o=ne(2);return Ye(o.eliminarSeleccionado(i))}),R(3," Quitar "),E()()}if(n&2){let t=e.$implicit;F(),d_(" ",t.producto.nombre," - Cantidad: ",t.cantidad," ")}}function N8(n,e){if(n&1&&(b(0,"div",15)(1,"h5",16),R(2,"\u{1F6D2} Productos seleccionados"),E(),b(3,"ul",17),ee(4,M8,4,2,"li",18),E()()),n&2){let t=ne();F(4),W("ngForOf",t.productosSeleccionados)}}function x8(n,e){if(n&1){let t=st();b(0,"app-factura",21),te("compraConfirmada",function(i){Qe(t);let o=ne();return Ye(o.onCompraConfirmada(i))}),E()}if(n&2){let t=ne();W("productos",t.productosParaFactura)}}var Xm=class n{constructor(e){this.productoService=e}productos=[];productosSeleccionados=[];filtroTexto="";ngOnInit(){this.productoService.obtenerProductos([]).subscribe(e=>{this.productos=e})}agregarProducto(e,t){let r=Number(t.value);if(r>0){let i=this.productosSeleccionados.find(o=>o.producto.id===e.id);i?i.cantidad+=r:this.productosSeleccionados.push({producto:e,cantidad:r}),t.value=""}}eliminarSeleccionado(e){this.productosSeleccionados.splice(e,1)}onCompraConfirmada(e){if(!e){console.error("No se recibio evento de factura");return}let t=new Date().toISOString().split("T")[0],r={cantidad:e.productos.reduce((i,o)=>i+o.cantidad,0),total_ars:e.totalArs,total_usd:e.totalUsd,cotizacion_usd:e.tipoCambio,fecha_cotizacion:t};console.log("Factura enviada:",r),this.productoService.crearFactura(r).subscribe({next:()=>console.log("Factura enviada correctamente"),error:i=>console.error("Error al enviar factura",i)}),alert("Compra confirmada!"),this.productosSeleccionados=[]}get productosParaFactura(){return this.productosSeleccionados.map(e=>({nombre:e.producto.nombre,cantidad:e.cantidad,precioArs:e.producto.precioArs}))}static \u0275fac=function(t){return new(t||n)(U(kr))};static \u0275cmp=Me({type:n,selectors:[["app-seleccionar-productos"]],decls:22,vars:7,consts:[["cantidadInput",""],[1,"container","mt-4","p-4","rounded","shadow-sm","bg-light","border","border-danger-subtle"],[1,"text-center","text-danger","mb-4","fw-semibold"],[1,"mb-3"],["type","text","placeholder","\u{1F50D} Buscar producto...",1,"form-control",3,"ngModelChange","ngModel"],[1,"table-responsive","mb-4"],[1,"table","table-bordered","table-hover","align-middle","text-center","bg-white"],[1,"table-danger-subtle","text-danger"],[2,"width","120px"],[1,"text-dark"],[4,"ngFor","ngForOf"],["class","mb-4",4,"ngIf"],[3,"productos","compraConfirmada",4,"ngIf"],["type","number","min","1","placeholder","0",1,"form-control","form-control-sm","text-center"],[1,"btn","btn-outline-danger","btn-sm","fw-semibold",3,"click"],[1,"mb-4"],[1,"text-danger","fw-semibold"],[1,"list-group","shadow-sm"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"compraConfirmada","productos"]],template:function(t,r){t&1&&(b(0,"div",1)(1,"h3",2),R(2,"Seleccionar Productos"),E(),b(3,"div",3)(4,"input",4),fn("ngModelChange",function(o){return Sn(r.filtroTexto,o)||(r.filtroTexto=o),o}),E()(),b(5,"div",5)(6,"table",6)(7,"thead",7)(8,"tr")(9,"th"),R(10,"Nombre"),E(),b(11,"th"),R(12,"Precio (ARS)"),E(),b(13,"th",8),R(14,"Cantidad"),E(),b(15,"th"),R(16,"Agregar"),E()()(),b(17,"tbody",9),ee(18,R8,12,5,"tr",10),qt(19,"filtroProducto"),E()()(),ee(20,N8,5,1,"div",11)(21,x8,1,1,"app-factura",12),E()),t&2&&(F(4),hn("ngModel",r.filtroTexto),F(14),W("ngForOf",Gt(19,4,r.productos,r.filtroTexto)),F(2),W("ngIf",r.productosSeleccionados.length>0),F(),W("ngIf",r.productosSeleccionados.length>0))},dependencies:[ze,Mn,At,Jo,vc,yc,On,wt,Vt,ni],styles:[".text-rose[_ngcontent-%COMP%]{color:#d63384}.border-rose[_ngcontent-%COMP%]{border-color:#d63384!important}.btn-rose[_ngcontent-%COMP%]{background-color:#f8d7e4;color:#d63384;border:1px solid #d63384}.btn-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}.btn-outline-rose[_ngcontent-%COMP%]{border-color:#d63384;color:#d63384}.btn-outline-rose[_ngcontent-%COMP%]:hover{background-color:#d63384;color:#fff}"]})};var i0=[{path:"principal",component:rp},{path:"login",component:zm},{path:"editar-usuario",component:Wm},{path:"registro",component:qm},{path:"gestionar-productos",component:Qm},{path:"editar-producto",component:Zm},{path:"crear-producto",component:Ym},{path:"administrar-usuarios",component:Gm},{path:"seleccionar-productos",component:Xm},{path:"factura",component:vc},{path:"",redirectTo:"principal",pathMatch:"full"},{path:"**",component:jf}];var G1={apiKey:"AIzaSyBn-CzUIRSrZdM6rd-eVELBowXxu476DvU",authDomain:"j-angular.firebaseapp.com",projectId:"j-angular",storageBucket:"j-angular.appspot.com",messagingSenderId:"317690755677",appId:"1:317690755677:web:7477336e0c670448702bb4",databaseURL:"https://j-angular-default-rtdb.firebaseio.com"};var W1={providers:[KS({eventCoalescing:!0}),Vf(i0),Vf(i0),F_(),oN(()=>dp(G1)),ix(()=>ox()),q1(()=>Yb())]};function P8(n,e){n&1&&(Qo(0),b(1,"li",5)(2,"a",6),R(3,"Principal"),E()(),b(4,"li",5)(5,"a",7),R(6,"Login"),E()(),b(7,"li",5)(8,"a",8),R(9,"Registro"),E()(),Yo())}function k8(n,e){if(n&1){let t=st();Qo(0),b(1,"li",5)(2,"a",6),R(3,"Principal"),E()(),b(4,"li",5)(5,"a",9),R(6,"Crear Producto"),E()(),b(7,"li",5)(8,"a",10),R(9,"Gestionar Productos"),E()(),b(10,"li",5)(11,"a",11),R(12,"Seleccionar productos "),E()(),b(13,"li",5)(14,"a",12),te("click",function(){Qe(t);let i=ne();return Ye(i.logout())}),R(15,"Cerrar sesi\xF3n"),E()(),Yo()}}function O8(n,e){if(n&1){let t=st();Qo(0),b(1,"li",5)(2,"a",6),R(3,"Principal"),E()(),b(4,"li",5)(5,"a",11),R(6,"Seleccionar productos "),E()(),b(7,"li",5)(8,"a",12),te("click",function(){Qe(t);let i=ne();return Ye(i.logout())}),R(9,"Cerrar sesi\xF3n"),E()(),Yo()}}var eg=class n{tipoUsuario=0;usuarioGuardado=localStorage.getItem("usuarioLogueado");constructor(){if(console.log(this.usuarioGuardado),this.usuarioGuardado)try{let e=JSON.parse(this.usuarioGuardado);this.tipoUsuario=Number(e.tipoUsuario)||0}catch(e){console.error("Error al leer usuario desde localStorage:",e),this.tipoUsuario=0}}logout(){localStorage.removeItem("usuarioLogueado"),this.tipoUsuario=0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-menu"]],decls:7,vars:3,consts:[[1,"navbar","navbar-expand-lg","custom-navbar"],[1,"container","justify-content-center"],["id","navbarNav",1,"collapse","navbar-collapse","d-flex","justify-content-center"],[1,"navbar-nav","text-center"],[4,"ngIf"],[1,"nav-item"],["routerLink","/principal",1,"nav-link","custom-link"],["routerLink","/login",1,"nav-link","custom-link"],["routerLink","/registro",1,"nav-link","custom-link"],["routerLink","/crear-producto",1,"nav-link","custom-link"],["routerLink","/gestionar-productos",1,"nav-link","custom-link"],["routerLink","/seleccionar-productos",1,"nav-link","custom-link"],["routerLink","/login",1,"nav-link","custom-link",3,"click"]],template:function(t,r){t&1&&(b(0,"nav",0)(1,"div",1)(2,"div",2)(3,"ul",3),ee(4,P8,10,0,"ng-container",4)(5,k8,16,0,"ng-container",4)(6,O8,10,0,"ng-container",4),E()()()()),t&2&&(F(4),W("ngIf",r.tipoUsuario===0),F(),W("ngIf",r.tipoUsuario===2),F(),W("ngIf",r.tipoUsuario===1))},dependencies:[er,Pa,ze,At],styles:[".custom-navbar[_ngcontent-%COMP%]{background-color:pink}.custom-link[_ngcontent-%COMP%]{color:#c2185b!important;font-weight:700;margin:0 10px}.custom-link[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#ad1457!important}.navbar-nav[_ngcontent-%COMP%]{flex-direction:row;gap:1rem}"]})};var F8=["msgs"];function L8(n,e){n&1&&(b(0,"span",6),R(1,"\u25CF"),E())}function V8(n,e){if(n&1){let t=st();b(0,"button",10),te("click",function(){Qe(t);let i=ne(3);return Ye(i.tab.set("pend"))}),R(1,"Pendientes"),E()}if(n&2){let t=ne(3);ki("active",t.tab()==="pend")}}function j8(n,e){if(n&1){let t=st();b(0,"div",19)(1,"button",20),te("click",function(){Qe(t);let i=ne(3);return Ye(i.nuevoChatConSoporte())}),R(2,"Nuevo chat con soporte"),E()()}}function U8(n,e){if(n&1){let t=st();b(0,"div",24),te("click",function(){let i=Qe(t).$implicit,o=ne(4);return Ye(o.abrir(i))}),b(1,"div",25),R(2),E(),b(3,"div",26),R(4),E()()}if(n&2){let t=e.$implicit,r=ne(4);F(2),Ae(r.titulo(t)),F(2),Ae(t.ultimoMensaje)}}function B8(n,e){n&1&&(b(0,"div",27),R(1,"No hay conversaciones"),E())}function $8(n,e){if(n&1&&(b(0,"div",21),ee(1,U8,5,2,"div",22)(2,B8,2,0,"div",23),E()),n&2){let t=ne(3);F(),W("ngForOf",t.conversaciones())("ngForTrackBy",t.trackConv),F(),W("ngIf",!t.conversaciones().length)}}function H8(n,e){if(n&1){let t=st();b(0,"div",24),te("click",function(){let i=Qe(t).$implicit,o=ne(4);return Ye(o.abrirTomando(i))}),b(1,"div",25),R(2),E(),b(3,"div",26),R(4),E()()}if(n&2){let t=e.$implicit,r=ne(4);F(2),Ae(r.titulo(t)),F(2),Ae(t.ultimoMensaje||"\u2014")}}function z8(n,e){n&1&&(b(0,"div",27),R(1,"No hay pendientes"),E())}function q8(n,e){if(n&1&&(b(0,"div",28)(1,"div",21),ee(2,H8,5,2,"div",22)(3,z8,2,0,"div",23),E()()),n&2){let t=ne(3);F(2),W("ngForOf",t.pendientes())("ngForTrackBy",t.trackConv),F(),W("ngIf",!t.pendientes().length)}}function G8(n,e){if(n&1&&(b(0,"div",37)(1,"div",38)(2,"div",39),R(3),E(),b(4,"div",40),R(5),E()()()),n&2){let t=e.$implicit,r=ne(4);ki("me",t.remitenteId===r.miId),F(3),Ae(t.remitenteId===r.miId?"Yo":r.nombreDe(t.remitenteId)),F(2),Ae(t.texto)}}function W8(n,e){if(n&1){let t=st();b(0,"button",41),te("click",function(){Qe(t);let i=ne(4);return Ye(i.cerrar())}),R(1,"Cerrar"),E()}}function K8(n,e){if(n&1){let t=st();b(0,"main",29)(1,"div",30,1),ee(3,G8,6,4,"div",31),E(),b(4,"form",32),te("ngSubmit",function(){Qe(t);let i=ne(3);return Ye(i.enviar())}),b(5,"input",33),fn("ngModelChange",function(i){Qe(t);let o=ne(3);return Sn(o.draft,i)||(o.draft=i),Ye(i)}),E(),b(6,"div",34)(7,"button",35),R(8,"Enviar"),E(),ee(9,W8,2,0,"button",36),E()()()}if(n&2){let t=ne(3);F(3),W("ngForOf",t.mensajes())("ngForTrackBy",t.trackMsg),F(2),hn("ngModel",t.draft),F(4),W("ngIf",t.cid())}}function Q8(n,e){n&1&&(b(0,"main",42),R(1,"Eleg\xED o cre\xE1 un chat"),E())}function Y8(n,e){if(n&1){let t=st();b(0,"div",7)(1,"div",8)(2,"div",9)(3,"button",10),te("click",function(){Qe(t);let i=ne(2);return Ye(i.tab.set("convs"))}),R(4,"Conversaciones"),E(),ee(5,V8,2,2,"button",11),E(),b(6,"button",12),te("click",function(){Qe(t);let i=ne(2);return Ye(i.open.set(!1))}),R(7,"\u2715"),E()(),b(8,"div",13)(9,"aside",14),ee(10,j8,3,0,"div",15)(11,$8,3,3,"div",16)(12,q8,4,3,"div",17),E(),ee(13,K8,10,4,"main",18)(14,Q8,2,0,"ng-template",null,0,zS),E()()}if(n&2){let t=jh(15),r=ne(2);F(3),ki("active",r.tab()==="convs"),F(2),W("ngIf",r.miRol==="admin"),F(5),W("ngIf",r.miRol==="usuario"&&r.tab()==="convs"),F(),W("ngIf",r.tab()==="convs"),F(),W("ngIf",r.tab()==="pend"&&r.miRol==="admin"),F(),W("ngIf",r.cid())("ngIfElse",t)}}function Z8(n,e){if(n&1){let t=st();Qo(0),b(1,"button",3),te("click",function(){Qe(t);let i=ne();return Ye(i.toggle())}),R(2," \u{1F4AC} "),ee(3,L8,2,0,"span",4),E(),ee(4,Y8,16,8,"div",5),Yo()}if(n&2){let t=ne();F(3),W("ngIf",t.hasNotif()),F(),W("ngIf",t.open())}}var tg=class n{chat=O(gc);usuarioSrv=O(jn);miId=this.usuarioSrv.miId()??"";miRol=this.usuarioSrv.rol();open=Xt(!1);tab=Xt("convs");conversaciones=Xt([]);pendientes=Xt([]);cid=Xt(null);mensajes=Xt([]);draft="";nombres={};nombreDe=e=>this.nombres[e]??e;hasNotif=Jr(()=>this.conversaciones().some(e=>e.ultimoRemitenteId&&e.ultimoRemitenteId!==this.miId));mensajesSub;msgsRef;estaLogueado(){return!!this.miId}ngOnInit(){this.miId&&(this.chat.listenConversacionesDe(this.miId).subscribe(e=>_(this,null,function*(){this.conversaciones.set(e);for(let t of e){let r=this.primerOtro(t);r&&this.precargarNombre(r)}})),this.miRol==="admin"&&this.chat.listenPendientesParaAdmin().subscribe(e=>{this.pendientes.set(e),e.forEach(t=>{let r=this.primerOtro(t)??t.creadoPor;r&&this.precargarNombre(r)})}))}ngOnDestroy(){this.mensajesSub?.unsubscribe()}toggle(){this.open.update(e=>!e)}titulo(e){if(e.tipo==="soporte"&&(!e.participantesIds||e.participantesIds.length<=1))return e.estado==="pendiente"?"Soporte (pendiente)":e.estado==="cerrada"?"Soporte (cerrada)":"Soporte";let t=this.primerOtro(e)??e.creadoPor;return t?(this.precargarNombre(t),this.nombreDe(t)):"Chat"}abrir(e){this.cid.set(e.id),this.mensajesSub?.unsubscribe(),this.mensajesSub=this.chat.listenMensajesDeConversacion(e.id).subscribe(t=>_(this,null,function*(){this.mensajes.set(t);for(let r of t)this.precargarNombre(r.remitenteId);this.scrollToBottom()}))}nuevoChatConSoporte(){return _(this,null,function*(){if(!this.miId)return;let e=yield this.chat.crearConversacionSoporteNueva(this.miId);this.tab.set("convs"),this.abrir({id:e})})}nuevoChatConSoporteReutilizable(){return _(this,null,function*(){if(!this.miId)return;let e=yield this.chat.crearConversacionSoporte(this.miId);this.tab.set("convs"),this.abrir({id:e})})}abrirTomando(e){return _(this,null,function*(){if(this.miRol==="admin"){yield this.chat.tomarConversacion(e.id,this.miId);let t=oe(V({},e),{participantesIds:Array.from(new Set([...e.participantesIds??[],this.miId])),estado:"en_curso"});this.conversaciones.update(r=>[t,...r.filter(i=>i.id!==e.id)])}this.tab.set("convs"),this.abrir(e)})}enviar(){return _(this,null,function*(){let e=this.draft.trim();!e||!this.cid()||(yield this.chat.enviarMensaje(this.cid(),this.miId,e),this.draft="",this.scrollToBottom())})}cerrar(){return _(this,null,function*(){this.cid()&&(yield this.chat.cerrarConversacion(this.cid()),this.cid.set(null))})}primerOtro(e){return(e.participantesIds||[]).find(t=>t!==this.miId)||null}precargarNombre(e){return _(this,null,function*(){if(this.nombres[e])return;let t=yield this.usuarioSrv.getNombreConRol(e);this.nombres=oe(V({},this.nombres),{[e]:t})})}trackConv=(e,t)=>t.id;trackMsg=(e,t)=>t.id??t.ts??Math.random();scrollToBottom(){setTimeout(()=>{let e=this.msgsRef?.nativeElement;e&&(e.scrollTop=e.scrollHeight)},0)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-chat-burbuja"]],viewQuery:function(t,r){if(t&1&&BS(F8,5),t&2){let i;u_(i=l_())&&(r.msgsRef=i.first)}},decls:1,vars:1,consts:[["empty",""],["msgs",""],[4,"ngIf"],[1,"fab",3,"click"],["class","badge",4,"ngIf"],["class","panel",4,"ngIf"],[1,"badge"],[1,"panel"],[1,"panel-header"],[1,"tabs"],[3,"click"],[3,"active","click",4,"ngIf"],[1,"close",3,"click"],[1,"panel-body"],[1,"col","col-list"],["class","new",4,"ngIf"],["class","list",4,"ngIf"],["class","users",4,"ngIf"],["class","col col-chat",4,"ngIf","ngIfElse"],[1,"new"],[1,"btn-full",3,"click"],[1,"list"],["class","item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-list",4,"ngIf"],[1,"item",3,"click"],[1,"title"],[1,"last"],[1,"empty-list"],[1,"users"],[1,"col","col-chat"],[1,"msgs"],["class","msg",3,"me",4,"ngFor","ngForOf","ngForTrackBy"],[1,"composer",3,"ngSubmit"],["name","draft","placeholder","Escrib\xED un mensaje\u2026",3,"ngModelChange","ngModel"],[1,"actions"],["type","submit"],["type","button","class","ghost",3,"click",4,"ngIf"],[1,"msg"],[1,"bubble"],[1,"meta"],[1,"text"],["type","button",1,"ghost",3,"click"],[1,"col","col-chat","empty"]],template:function(t,r){t&1&&ee(0,Z8,5,2,"ng-container",2),t&2&&W("ngIf",r.estaLogueado())},dependencies:[ze,Mn,At,On,kn,wt,Vt,Pn,ni,Xu],styles:[".fab[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;z-index:1000;width:56px;height:56px;border-radius:50%;border:none;background:#e91e63;color:#fff;font-size:22px;box-shadow:0 6px 16px #00000040;cursor:pointer;transition:transform .1s ease-in-out}.fab[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badge[_ngcontent-%COMP%]{position:absolute;right:10px;top:6px;color:#ff5252;font-size:18px}.panel[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:80px;width:820px;max-width:92vw;height:560px;background:#fff;border:1px solid #f0c3d1;border-radius:16px;box-shadow:0 10px 30px #0003;display:flex;flex-direction:column;z-index:1001}.panel-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #f8d4e0;background:#ffe7ef}.tabs[_ngcontent-%COMP%]{display:flex;gap:8px}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:transparent;padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:600}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#fff;border:1px solid #f8d4e0}.close[_ngcontent-%COMP%]{border:none;background:transparent;font-size:18px;cursor:pointer}.panel-body[_ngcontent-%COMP%]{display:flex;flex:1;min-height:0}.col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.col-list[_ngcontent-%COMP%]{width:300px;border-right:1px solid #f8d4e0}.new[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #f8d4e0}.btn-full[_ngcontent-%COMP%]{width:100%;border:0;background:#e91e63;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer}.link[_ngcontent-%COMP%]{display:inline-block;margin-top:6px;cursor:pointer;color:#e91e63}.list[_ngcontent-%COMP%]{overflow:auto;padding:8px;display:flex;flex-direction:column;gap:8px}.item[_ngcontent-%COMP%]{border:1px solid #f1d1dc;border-radius:12px;padding:10px;cursor:pointer;background:#fff}.item[_ngcontent-%COMP%]:hover{background:#fff6f9}.title[_ngcontent-%COMP%]{font-weight:600}.last[_ngcontent-%COMP%]{font-size:12px;opacity:.75;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.col-chat[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.col-chat.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#777}.msgs[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:12px;display:flex;flex-direction:column;gap:8px}.msg[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{max-width:70%;background:#fdf2f6;padding:8px 12px;border-radius:12px}.msg.me[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{margin-left:auto;background:#e0ffe3}.meta[_ngcontent-%COMP%]{font-size:11px;opacity:.65;margin-bottom:4px}.composer[_ngcontent-%COMP%]{display:flex;gap:8px;border-top:1px solid #f8d4e0;padding:10px}.composer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:1px solid #e0b3c3;border-radius:10px}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.composer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:0;background:#e91e63;color:#fff;padding:8px 12px;border-radius:10px;cursor:pointer}.composer[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{background:#fff;color:#e91e63;border:1px solid #e91e63}"]})};var ng=class n{title="ALED3";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Me({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){t&1&&fe(0,"app-menu")(1,"router-outlet")(2,"app-chat-burbuja")},dependencies:[Uu,eg,tg],encapsulation:2})};P_(ng,W1).catch(n=>console.error(n));
